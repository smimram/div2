<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Bracketing</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--cubical</a> <a id="23" class="Pragma">--allow-unsolved-metas</a> <a id="46" class="Symbol">#-}</a>

<a id="51" class="Keyword">open</a> <a id="56" class="Keyword">import</a> <a id="63" href="Cubical.Foundations.Prelude.html" class="Module">Cubical.Foundations.Prelude</a>
<a id="91" class="Keyword">open</a> <a id="96" class="Keyword">import</a> <a id="103" href="Cubical.Foundations.Function.html" class="Module">Cubical.Foundations.Function</a>
<a id="132" class="Keyword">open</a> <a id="137" class="Keyword">import</a> <a id="144" href="Cubical.Foundations.Isomorphism.html" class="Module">Cubical.Foundations.Isomorphism</a>
<a id="176" class="Keyword">open</a> <a id="181" class="Keyword">import</a> <a id="188" href="Cubical.Foundations.Equiv.html" class="Module">Cubical.Foundations.Equiv</a>
<a id="214" class="Keyword">open</a> <a id="219" class="Keyword">import</a> <a id="226" href="Cubical.Foundations.HLevels.html" class="Module">Cubical.Foundations.HLevels</a>
<a id="254" class="Keyword">open</a> <a id="259" class="Keyword">import</a> <a id="266" href="Cubical.Foundations.Univalence.html" class="Module">Cubical.Foundations.Univalence</a>
<a id="297" class="Keyword">open</a> <a id="302" class="Keyword">import</a> <a id="309" href="Cubical.Relation.Nullary.html" class="Module">Cubical.Relation.Nullary</a>
<a id="334" class="Keyword">open</a> <a id="339" class="Keyword">import</a> <a id="346" href="Cubical.Relation.Binary.html" class="Module">Cubical.Relation.Binary</a>
<a id="370" class="Keyword">open</a> <a id="375" href="Cubical.Relation.Binary.Base.html#1455" class="Module">BinaryRelation</a> <a id="390" class="Keyword">using</a> <a id="396" class="Symbol">(</a><a id="397" href="Cubical.Relation.Binary.Base.html#1813" class="Record">isEquivRel</a><a id="407" class="Symbol">)</a>
<a id="409" class="Keyword">open</a> <a id="414" class="Keyword">import</a> <a id="421" href="Cubical.Data.Empty.html" class="Module">Cubical.Data.Empty</a> <a id="440" class="Symbol">as</a> <a id="443" class="Module">⊥</a>
<a id="445" class="Keyword">open</a> <a id="450" class="Keyword">import</a> <a id="457" href="Cubical.Data.Unit.html" class="Module">Cubical.Data.Unit</a> <a id="475" class="Keyword">renaming</a> <a id="484" class="Symbol">(</a><a id="485" href="Cubical.Data.Unit.Base.html#171" class="Record">Unit</a> <a id="490" class="Symbol">to</a> <a id="493" class="Record">⊤</a><a id="494" class="Symbol">)</a>
<a id="496" class="Keyword">open</a> <a id="501" class="Keyword">import</a> <a id="508" href="Cubical.Data.Sum.html" class="Module">Cubical.Data.Sum</a>
<a id="525" class="Keyword">open</a> <a id="530" class="Keyword">import</a> <a id="537" href="Cubical.Data.Sigma.html" class="Module">Cubical.Data.Sigma</a>
<a id="556" class="Keyword">open</a> <a id="561" class="Keyword">import</a> <a id="568" href="Z.html" class="Module">Z</a> <a id="570" class="Symbol">as</a> <a id="573" class="Module">ℤ</a> <a id="575" class="Keyword">hiding</a> <a id="582" class="Symbol">(</a><a id="583" href="Z.html#11154" class="Function Operator">_&lt;_</a> <a id="587" class="Symbol">;</a> <a id="589" href="Z.html#11099" class="Function Operator">_≤_</a> <a id="593" class="Symbol">;</a> <a id="595" href="Z.html#12449" class="Postulate Operator">_≟_</a><a id="598" class="Symbol">)</a>
<a id="600" class="Keyword">open</a> <a id="605" class="Keyword">import</a> <a id="612" href="Cubical.Data.Nat.html" class="Module">Cubical.Data.Nat</a> <a id="629" class="Symbol">as</a> <a id="632" class="Module">ℕ</a>
<a id="634" class="Keyword">open</a> <a id="639" class="Keyword">import</a> <a id="646" href="Cubical.Data.Nat.Order.html" class="Module">Cubical.Data.Nat.Order</a> <a id="669" class="Symbol">as</a> <a id="672" class="Module">ℕ</a> <a id="674" class="Keyword">hiding</a> <a id="681" class="Symbol">(</a><a id="682" href="Cubical.Data.Nat.Order.html#642" class="Function Operator">_&gt;_</a><a id="685" class="Symbol">)</a>
<a id="687" class="Keyword">open</a> <a id="692" class="Keyword">import</a> <a id="699" href="Nat.html" class="Module">Nat</a> <a id="703" class="Symbol">as</a> <a id="706" class="Module">ℕ</a>
<a id="708" class="Keyword">open</a> <a id="713" class="Keyword">import</a> <a id="720" href="Misc.html" class="Module">Misc</a>
<a id="725" class="Keyword">open</a> <a id="730" class="Keyword">import</a> <a id="737" href="Cubical.HITs.PropositionalTruncation.html" class="Module">Cubical.HITs.PropositionalTruncation</a> <a id="774" class="Symbol">as</a> <a id="777" class="Module">∥∥</a>
<a id="780" class="Keyword">open</a> <a id="785" class="Keyword">import</a> <a id="792" href="Cubical.HITs.SetQuotients.html" class="Module">Cubical.HITs.SetQuotients</a> <a id="818" class="Symbol">as</a> <a id="821" class="Module">[]</a>

<a id="825" class="Keyword">open</a> <a id="830" class="Keyword">import</a> <a id="837" href="Ends.html" class="Module">Ends</a>

<a id="843" class="Keyword">module</a> <a id="850" href="Bracketing.html" class="Module">Bracketing</a> <a id="861" class="Symbol">{</a><a id="862" href="Bracketing.html#862" class="Bound">ℓ</a><a id="863" class="Symbol">}</a> <a id="865" class="Symbol">{</a><a id="866" href="Bracketing.html#866" class="Bound">A</a> <a id="868" href="Bracketing.html#868" class="Bound">B</a> <a id="870" class="Symbol">:</a> <a id="872" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="877" href="Bracketing.html#862" class="Bound">ℓ</a><a id="878" class="Symbol">}</a> <a id="880" class="Symbol">(</a><a id="881" href="Bracketing.html#881" class="Bound">SA</a> <a id="884" class="Symbol">:</a> <a id="886" href="Cubical.Foundations.Prelude.html#14065" class="Function">isSet</a> <a id="892" href="Bracketing.html#866" class="Bound">A</a><a id="893" class="Symbol">)</a> <a id="895" class="Symbol">(</a><a id="896" href="Bracketing.html#896" class="Bound">SB</a> <a id="899" class="Symbol">:</a> <a id="901" href="Cubical.Foundations.Prelude.html#14065" class="Function">isSet</a> <a id="907" href="Bracketing.html#868" class="Bound">B</a><a id="908" class="Symbol">)</a> <a id="910" class="Symbol">(</a><a id="911" href="Bracketing.html#911" class="Bound">isom</a> <a id="916" class="Symbol">:</a> <a id="918" href="Bracketing.html#866" class="Bound">A</a> <a id="920" href="Cubical.Data.Sigma.Base.html#461" class="Function Operator">×</a> <a id="922" href="Ends.html#323" class="Datatype">End</a> <a id="926" href="Agda.Builtin.Cubical.Glue.html#1051" class="Function Operator">≃</a> <a id="928" href="Bracketing.html#868" class="Bound">B</a> <a id="930" href="Cubical.Data.Sigma.Base.html#461" class="Function Operator">×</a> <a id="932" href="Ends.html#323" class="Datatype">End</a><a id="935" class="Symbol">)</a> <a id="937" class="Keyword">where</a>

<a id="944" class="Keyword">open</a> <a id="949" class="Keyword">import</a> <a id="956" href="Arrows.html" class="Module">Arrows</a> <a id="963" href="Bracketing.html#881" class="Bound">SA</a> <a id="966" href="Bracketing.html#896" class="Bound">SB</a> <a id="969" href="Bracketing.html#911" class="Bound">isom</a>

<a id="975" class="Comment">---</a>
<a id="979" class="Comment">--- Well-bracketed chains</a>
<a id="1005" class="Comment">---</a>

<a id="opening"></a><a id="1010" href="Bracketing.html#1010" class="Function">opening</a> <a id="1018" class="Symbol">:</a> <a id="1020" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1024" class="Datatype">ℤ</a>
<a id="1022" href="Bracketing.html#1010" class="Function">opening</a> <a id="1030" class="Symbol">=</a> <a id="1032" href="Z.html#617" class="Function">ℤ.one</a>

<a id="closing"></a><a id="1039" href="Bracketing.html#1039" class="Function">closing</a> <a id="1047" class="Symbol">:</a> <a id="1049" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1024" class="Datatype">ℤ</a>
<a id="1051" href="Bracketing.html#1039" class="Function">closing</a> <a id="1059" class="Symbol">=</a> <a id="1061" href="Z.html#5752" class="Function">ℤ.neg</a> <a id="1067" href="Z.html#617" class="Function">ℤ.one</a>

<a id="1074" class="Comment">-- Weight of an arrow, contrarily to Conway&#39;s paper, the convention is: → is</a>
<a id="1151" class="Comment">-- opening and ← is closing</a>
<a id="weight"></a><a id="1179" href="Bracketing.html#1179" class="Function">weight</a> <a id="1186" class="Symbol">:</a> <a id="1188" href="ArrowsBase.html#871" class="Function">dArrows</a> <a id="1196" class="Symbol">→</a> <a id="1198" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1024" class="Datatype">ℤ</a>
<a id="1200" href="Bracketing.html#1179" class="Function">weight</a> <a id="1207" class="Symbol">(_</a> <a id="1210" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1212" href="Ends.html#341" class="InductiveConstructor">src</a><a id="1215" class="Symbol">)</a> <a id="1217" class="Symbol">=</a> <a id="1219" href="Bracketing.html#1010" class="Function">opening</a>
<a id="1227" href="Bracketing.html#1179" class="Function">weight</a> <a id="1234" class="Symbol">(_</a> <a id="1237" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1239" href="Ends.html#353" class="InductiveConstructor">tgt</a><a id="1242" class="Symbol">)</a> <a id="1244" class="Symbol">=</a> <a id="1246" href="Bracketing.html#1039" class="Function">closing</a>

<a id="1255" class="Comment">-- -- every bracket is either opening or closing and thus brings one in the total</a>
<a id="1337" class="Comment">-- -- count</a>
<a id="1349" class="Comment">-- weight-one : (x : Ends) → (weight x ≡ ℤ.one) ⊎ (weight x ≡ ℤ.neg ℤ.one)</a>
<a id="1424" class="Comment">-- weight-one (_ , src) = inl refl</a>
<a id="1459" class="Comment">-- weight-one (_ , tgt) = inr refl</a>

<a id="1495" class="Comment">-- weight-fw : (a : Arrows) → weight (fw a) ≡ opening</a>
<a id="1549" class="Comment">-- weight-fw _ = refl</a>

<a id="weight-op"></a><a id="1572" href="Bracketing.html#1572" class="Function">weight-op</a> <a id="1582" class="Symbol">:</a> <a id="1584" class="Symbol">(</a><a id="1585" href="Bracketing.html#1585" class="Bound">e</a> <a id="1587" class="Symbol">:</a> <a id="1589" href="ArrowsBase.html#871" class="Function">dArrows</a><a id="1596" class="Symbol">)</a> <a id="1598" class="Symbol">→</a> <a id="1600" href="Bracketing.html#1179" class="Function">weight</a> <a id="1607" class="Symbol">(</a><a id="1608" href="Arrows.html#1903" class="Function">op</a> <a id="1611" href="Bracketing.html#1585" class="Bound">e</a><a id="1612" class="Symbol">)</a> <a id="1614" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="1616" href="Z.html#5752" class="Function">ℤ.neg</a> <a id="1622" class="Symbol">(</a><a id="1623" href="Bracketing.html#1179" class="Function">weight</a> <a id="1630" href="Bracketing.html#1585" class="Bound">e</a><a id="1631" class="Symbol">)</a>
<a id="1633" href="Bracketing.html#1572" class="Function">weight-op</a> <a id="1643" class="Symbol">(</a><a id="1644" href="Bracketing.html#1644" class="Bound">x</a> <a id="1646" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1648" href="Ends.html#341" class="InductiveConstructor">src</a><a id="1651" class="Symbol">)</a> <a id="1653" class="Symbol">=</a> <a id="1655" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a>
<a id="1660" href="Bracketing.html#1572" class="Function">weight-op</a> <a id="1670" class="Symbol">(</a><a id="1671" href="Bracketing.html#1671" class="Bound">x</a> <a id="1673" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1675" href="Ends.html#353" class="InductiveConstructor">tgt</a><a id="1678" class="Symbol">)</a> <a id="1680" class="Symbol">=</a> <a id="1682" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a>

<a id="1688" class="Comment">-- number of opening and closing brackets within the next n arrows</a>
<a id="height"></a><a id="1755" href="Bracketing.html#1755" class="Function">height</a> <a id="1762" class="Symbol">:</a> <a id="1764" class="Symbol">(</a><a id="1765" href="Bracketing.html#1765" class="Bound">n</a> <a id="1767" class="Symbol">:</a> <a id="1769" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1770" class="Symbol">)</a> <a id="1772" class="Symbol">→</a> <a id="1774" href="ArrowsBase.html#871" class="Function">dArrows</a> <a id="1782" class="Symbol">→</a> <a id="1784" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1024" class="Datatype">ℤ</a>
<a id="1786" href="Bracketing.html#1755" class="Function">height</a> <a id="1793" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">ℕ.zero</a>  <a id="1801" href="Bracketing.html#1801" class="Bound">x</a> <a id="1803" class="Symbol">=</a> <a id="1805" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1047" class="InductiveConstructor">ℤ.zero</a>
<a id="1812" href="Bracketing.html#1755" class="Function">height</a> <a id="1819" class="Symbol">(</a><a id="1820" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1824" href="Bracketing.html#1824" class="Bound">n</a><a id="1825" class="Symbol">)</a> <a id="1827" href="Bracketing.html#1827" class="Bound">x</a> <a id="1829" class="Symbol">=</a> <a id="1831" href="Bracketing.html#1755" class="Function">height</a> <a id="1838" href="Bracketing.html#1824" class="Bound">n</a> <a id="1840" href="Bracketing.html#1827" class="Bound">x</a> <a id="1842" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="1846" href="Bracketing.html#1179" class="Function">weight</a> <a id="1853" class="Symbol">(</a><a id="1854" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="1862" class="Symbol">(</a><a id="1863" href="Z.html#6591" class="Function">fromℕ</a> <a id="1869" href="Bracketing.html#1824" class="Bound">n</a><a id="1870" class="Symbol">)</a> <a id="1872" href="Bracketing.html#1827" class="Bound">x</a><a id="1873" class="Symbol">)</a>

<a id="1876" class="Keyword">abstract</a>
  <a id="1887" class="Comment">-- height is compatible with concatenation</a>
  <a id="height-+"></a><a id="1932" href="Bracketing.html#1932" class="Function">height-+</a> <a id="1941" class="Symbol">:</a> <a id="1943" class="Symbol">(</a><a id="1944" href="Bracketing.html#1944" class="Bound">m</a> <a id="1946" href="Bracketing.html#1946" class="Bound">n</a> <a id="1948" class="Symbol">:</a> <a id="1950" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1951" class="Symbol">)</a> <a id="1953" class="Symbol">(</a><a id="1954" href="Bracketing.html#1954" class="Bound">e</a> <a id="1956" class="Symbol">:</a> <a id="1958" href="ArrowsBase.html#801" class="Function">Ends</a><a id="1962" class="Symbol">)</a> <a id="1964" class="Symbol">→</a> <a id="1966" href="Bracketing.html#1755" class="Function">height</a> <a id="1973" class="Symbol">(</a><a id="1974" href="Bracketing.html#1944" class="Bound">m</a> <a id="1976" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="1980" href="Bracketing.html#1946" class="Bound">n</a><a id="1981" class="Symbol">)</a> <a id="1983" href="Bracketing.html#1954" class="Bound">e</a> <a id="1985" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="1987" href="Bracketing.html#1755" class="Function">height</a> <a id="1994" href="Bracketing.html#1944" class="Bound">m</a> <a id="1996" href="Bracketing.html#1954" class="Bound">e</a> <a id="1998" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="2002" href="Bracketing.html#1755" class="Function">height</a> <a id="2009" href="Bracketing.html#1946" class="Bound">n</a> <a id="2011" class="Symbol">(</a><a id="2012" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="2020" class="Symbol">(</a><a id="2021" href="Z.html#6591" class="Function">fromℕ</a> <a id="2027" href="Bracketing.html#1944" class="Bound">m</a><a id="2028" class="Symbol">)</a> <a id="2030" href="Bracketing.html#1954" class="Bound">e</a><a id="2031" class="Symbol">)</a>
  <a id="2035" href="Bracketing.html#1932" class="Function">height-+</a> <a id="2044" href="Bracketing.html#2044" class="Bound">m</a> <a id="2046" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">ℕ.zero</a> <a id="2053" href="Bracketing.html#2053" class="Bound">e</a> <a id="2055" class="Symbol">=</a> <a id="2057" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="2062" class="Symbol">(λ</a> <a id="2065" href="Bracketing.html#2065" class="Bound">k</a> <a id="2067" class="Symbol">→</a> <a id="2069" href="Bracketing.html#1755" class="Function">height</a> <a id="2076" href="Bracketing.html#2065" class="Bound">k</a> <a id="2078" href="Bracketing.html#2053" class="Bound">e</a><a id="2079" class="Symbol">)</a> <a id="2081" class="Symbol">(</a><a id="2082" href="Cubical.Data.Nat.Properties.html#3927" class="Function">ℕ.+-zero</a> <a id="2091" href="Bracketing.html#2044" class="Bound">m</a><a id="2092" class="Symbol">)</a> <a id="2094" href="Cubical.Foundations.Prelude.html#4447" class="Function Operator">∙</a> <a id="2096" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="2100" class="Symbol">(</a><a id="2101" href="Z.html#5340" class="Postulate">ℤ.+-zero</a> <a id="2110" class="Symbol">(</a><a id="2111" href="Bracketing.html#1755" class="Function">height</a> <a id="2118" href="Bracketing.html#2044" class="Bound">m</a> <a id="2120" href="Bracketing.html#2053" class="Bound">e</a><a id="2121" class="Symbol">))</a>
  <a id="2126" href="Bracketing.html#1932" class="Function">height-+</a> <a id="2135" href="Bracketing.html#2135" class="Bound">m</a> <a id="2137" class="Symbol">(</a><a id="2138" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="2142" href="Bracketing.html#2142" class="Bound">n</a><a id="2143" class="Symbol">)</a> <a id="2145" href="Bracketing.html#2145" class="Bound">e</a> <a id="2147" class="Symbol">=</a>
    <a id="2153" href="Bracketing.html#1755" class="Function">height</a> <a id="2160" class="Symbol">(</a><a id="2161" href="Bracketing.html#2135" class="Bound">m</a> <a id="2163" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="2167" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="2171" href="Bracketing.html#2142" class="Bound">n</a><a id="2172" class="Symbol">)</a> <a id="2174" href="Bracketing.html#2145" class="Bound">e</a>                                                                               <a id="2254" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="2257" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="2262" class="Symbol">(λ</a> <a id="2265" href="Bracketing.html#2265" class="Bound">k</a> <a id="2267" class="Symbol">→</a> <a id="2269" href="Bracketing.html#1755" class="Function">height</a> <a id="2276" href="Bracketing.html#2265" class="Bound">k</a> <a id="2278" href="Bracketing.html#2145" class="Bound">e</a><a id="2279" class="Symbol">)</a> <a id="2281" class="Symbol">(</a><a id="2282" href="Cubical.Data.Nat.Properties.html#4009" class="Function">ℕ.+-suc</a> <a id="2290" href="Bracketing.html#2135" class="Bound">m</a> <a id="2292" href="Bracketing.html#2142" class="Bound">n</a><a id="2293" class="Symbol">)</a> <a id="2295" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="2301" href="Bracketing.html#1755" class="Function">height</a> <a id="2308" class="Symbol">(</a><a id="2309" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="2313" class="Symbol">(</a><a id="2314" href="Bracketing.html#2135" class="Bound">m</a> <a id="2316" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="2320" href="Bracketing.html#2142" class="Bound">n</a><a id="2321" class="Symbol">))</a> <a id="2324" href="Bracketing.html#2145" class="Bound">e</a>                                                                             <a id="2402" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="2405" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="2410" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="2416" href="Bracketing.html#1755" class="Function">height</a> <a id="2423" class="Symbol">(</a><a id="2424" href="Bracketing.html#2135" class="Bound">m</a> <a id="2426" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="2430" href="Bracketing.html#2142" class="Bound">n</a><a id="2431" class="Symbol">)</a> <a id="2433" href="Bracketing.html#2145" class="Bound">e</a> <a id="2435" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="2439" href="Bracketing.html#1179" class="Function">weight</a> <a id="2446" class="Symbol">(</a><a id="2447" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="2455" class="Symbol">(</a><a id="2456" href="Z.html#6591" class="Function">fromℕ</a> <a id="2462" class="Symbol">(</a><a id="2463" href="Bracketing.html#2135" class="Bound">m</a> <a id="2465" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="2469" href="Bracketing.html#2142" class="Bound">n</a><a id="2470" class="Symbol">))</a> <a id="2473" href="Bracketing.html#2145" class="Bound">e</a><a id="2474" class="Symbol">)</a>                                          <a id="2517" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="2520" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="2525" class="Symbol">(λ</a> <a id="2528" href="Bracketing.html#2528" class="Bound">k</a> <a id="2530" class="Symbol">→</a> <a id="2532" href="Bracketing.html#2528" class="Bound">k</a> <a id="2534" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="2538" href="Bracketing.html#1179" class="Function">weight</a> <a id="2545" class="Symbol">(</a><a id="2546" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="2554" class="Symbol">(</a><a id="2555" href="Z.html#6591" class="Function">fromℕ</a> <a id="2561" class="Symbol">(</a><a id="2562" href="Bracketing.html#2135" class="Bound">m</a> <a id="2564" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="2568" href="Bracketing.html#2142" class="Bound">n</a><a id="2569" class="Symbol">))</a> <a id="2572" href="Bracketing.html#2145" class="Bound">e</a><a id="2573" class="Symbol">))</a> <a id="2576" class="Symbol">(</a><a id="2577" href="Bracketing.html#1932" class="Function">height-+</a> <a id="2586" href="Bracketing.html#2135" class="Bound">m</a> <a id="2588" href="Bracketing.html#2142" class="Bound">n</a> <a id="2590" href="Bracketing.html#2145" class="Bound">e</a><a id="2591" class="Symbol">)</a> <a id="2593" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="2599" class="Symbol">(</a><a id="2600" href="Bracketing.html#1755" class="Function">height</a> <a id="2607" href="Bracketing.html#2135" class="Bound">m</a> <a id="2609" href="Bracketing.html#2145" class="Bound">e</a> <a id="2611" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="2615" href="Bracketing.html#1755" class="Function">height</a> <a id="2622" href="Bracketing.html#2142" class="Bound">n</a> <a id="2624" class="Symbol">(</a><a id="2625" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="2633" class="Symbol">(</a><a id="2634" href="Z.html#6591" class="Function">fromℕ</a> <a id="2640" href="Bracketing.html#2135" class="Bound">m</a><a id="2641" class="Symbol">)</a> <a id="2643" href="Bracketing.html#2145" class="Bound">e</a><a id="2644" class="Symbol">))</a> <a id="2647" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="2651" href="Bracketing.html#1179" class="Function">weight</a> <a id="2658" class="Symbol">(</a><a id="2659" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="2667" class="Symbol">(</a><a id="2668" href="Z.html#6591" class="Function">fromℕ</a> <a id="2674" class="Symbol">(</a><a id="2675" href="Bracketing.html#2135" class="Bound">m</a> <a id="2677" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="2681" href="Bracketing.html#2142" class="Bound">n</a><a id="2682" class="Symbol">))</a> <a id="2685" href="Bracketing.html#2145" class="Bound">e</a><a id="2686" class="Symbol">)</a>             <a id="2700" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="2703" href="Z.html#5633" class="Function">ℤ.cong-+-r</a> <a id="2714" class="Symbol">(</a><a id="2715" href="Bracketing.html#1755" class="Function">height</a> <a id="2722" href="Bracketing.html#2135" class="Bound">m</a> <a id="2724" href="Bracketing.html#2145" class="Bound">e</a> <a id="2726" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="2730" href="Bracketing.html#1755" class="Function">height</a> <a id="2737" href="Bracketing.html#2142" class="Bound">n</a> <a id="2739" class="Symbol">(</a><a id="2740" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="2748" class="Symbol">(</a><a id="2749" href="Z.html#6591" class="Function">fromℕ</a> <a id="2755" href="Bracketing.html#2135" class="Bound">m</a><a id="2756" class="Symbol">)</a> <a id="2758" href="Bracketing.html#2145" class="Bound">e</a><a id="2759" class="Symbol">))</a> <a id="2762" class="Symbol">(</a><a id="2763" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="2768" class="Symbol">(λ</a> <a id="2771" href="Bracketing.html#2771" class="Bound">k</a> <a id="2773" class="Symbol">→</a> <a id="2775" href="Bracketing.html#1179" class="Function">weight</a> <a id="2782" class="Symbol">(</a><a id="2783" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="2791" href="Bracketing.html#2771" class="Bound">k</a> <a id="2793" href="Bracketing.html#2145" class="Bound">e</a><a id="2794" class="Symbol">))</a> <a id="2797" class="Symbol">(</a><a id="2798" href="Z.html#6670" class="Postulate">fromℕ-+</a> <a id="2806" href="Bracketing.html#2135" class="Bound">m</a> <a id="2808" href="Bracketing.html#2142" class="Bound">n</a><a id="2809" class="Symbol">))</a> <a id="2812" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="2818" class="Symbol">(</a><a id="2819" href="Bracketing.html#1755" class="Function">height</a> <a id="2826" href="Bracketing.html#2135" class="Bound">m</a> <a id="2828" href="Bracketing.html#2145" class="Bound">e</a> <a id="2830" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="2834" href="Bracketing.html#1755" class="Function">height</a> <a id="2841" href="Bracketing.html#2142" class="Bound">n</a> <a id="2843" class="Symbol">(</a><a id="2844" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="2852" class="Symbol">(</a><a id="2853" href="Z.html#6591" class="Function">fromℕ</a> <a id="2859" href="Bracketing.html#2135" class="Bound">m</a><a id="2860" class="Symbol">)</a> <a id="2862" href="Bracketing.html#2145" class="Bound">e</a><a id="2863" class="Symbol">))</a> <a id="2866" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="2870" href="Bracketing.html#1179" class="Function">weight</a> <a id="2877" class="Symbol">(</a><a id="2878" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="2886" class="Symbol">(</a><a id="2887" href="Z.html#6591" class="Function">fromℕ</a> <a id="2893" href="Bracketing.html#2135" class="Bound">m</a> <a id="2895" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="2899" href="Z.html#6591" class="Function">fromℕ</a> <a id="2905" href="Bracketing.html#2142" class="Bound">n</a><a id="2906" class="Symbol">)</a> <a id="2908" href="Bracketing.html#2145" class="Bound">e</a><a id="2909" class="Symbol">)</a>         <a id="2919" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="2922" href="Z.html#5633" class="Function">ℤ.cong-+-r</a> <a id="2933" class="Symbol">(</a><a id="2934" href="Bracketing.html#1755" class="Function">height</a> <a id="2941" href="Bracketing.html#2135" class="Bound">m</a> <a id="2943" href="Bracketing.html#2145" class="Bound">e</a> <a id="2945" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="2949" href="Bracketing.html#1755" class="Function">height</a> <a id="2956" href="Bracketing.html#2142" class="Bound">n</a> <a id="2958" class="Symbol">(</a><a id="2959" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="2967" class="Symbol">(</a><a id="2968" href="Z.html#6591" class="Function">fromℕ</a> <a id="2974" href="Bracketing.html#2135" class="Bound">m</a><a id="2975" class="Symbol">)</a> <a id="2977" href="Bracketing.html#2145" class="Bound">e</a><a id="2978" class="Symbol">))</a> <a id="2981" class="Symbol">(</a><a id="2982" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="2987" href="Bracketing.html#1179" class="Function">weight</a> <a id="2994" class="Symbol">(</a><a id="2995" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="2999" class="Symbol">(</a><a id="3000" href="Arrows.html#4222" class="Function">iterate-+</a> <a id="3010" class="Symbol">(</a><a id="3011" href="Z.html#6591" class="Function">fromℕ</a> <a id="3017" href="Bracketing.html#2135" class="Bound">m</a><a id="3018" class="Symbol">)</a> <a id="3020" class="Symbol">(</a><a id="3021" href="Z.html#6591" class="Function">fromℕ</a> <a id="3027" href="Bracketing.html#2142" class="Bound">n</a><a id="3028" class="Symbol">)</a> <a id="3030" href="Bracketing.html#2145" class="Bound">e</a><a id="3031" class="Symbol">)))</a> <a id="3035" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="3041" class="Symbol">(</a><a id="3042" href="Bracketing.html#1755" class="Function">height</a> <a id="3049" href="Bracketing.html#2135" class="Bound">m</a> <a id="3051" href="Bracketing.html#2145" class="Bound">e</a> <a id="3053" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="3057" href="Bracketing.html#1755" class="Function">height</a> <a id="3064" href="Bracketing.html#2142" class="Bound">n</a> <a id="3066" class="Symbol">(</a><a id="3067" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3075" class="Symbol">(</a><a id="3076" href="Z.html#6591" class="Function">fromℕ</a> <a id="3082" href="Bracketing.html#2135" class="Bound">m</a><a id="3083" class="Symbol">)</a> <a id="3085" href="Bracketing.html#2145" class="Bound">e</a><a id="3086" class="Symbol">))</a> <a id="3089" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="3093" href="Bracketing.html#1179" class="Function">weight</a> <a id="3100" class="Symbol">(</a><a id="3101" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3109" class="Symbol">(</a><a id="3110" href="Z.html#6591" class="Function">fromℕ</a> <a id="3116" href="Bracketing.html#2142" class="Bound">n</a><a id="3117" class="Symbol">)</a> <a id="3119" class="Symbol">(</a><a id="3120" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3128" class="Symbol">(</a><a id="3129" href="Z.html#6591" class="Function">fromℕ</a> <a id="3135" href="Bracketing.html#2135" class="Bound">m</a><a id="3136" class="Symbol">)</a> <a id="3138" href="Bracketing.html#2145" class="Bound">e</a><a id="3139" class="Symbol">))</a> <a id="3142" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="3145" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="3149" class="Symbol">(</a><a id="3150" href="Z.html#5217" class="Postulate">ℤ.+-assoc</a> <a id="3160" class="Symbol">(</a><a id="3161" href="Bracketing.html#1755" class="Function">height</a> <a id="3168" href="Bracketing.html#2135" class="Bound">m</a> <a id="3170" href="Bracketing.html#2145" class="Bound">e</a><a id="3171" class="Symbol">)</a> <a id="3173" class="Symbol">_</a> <a id="3175" class="Symbol">_)</a> <a id="3178" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="3184" href="Bracketing.html#1755" class="Function">height</a> <a id="3191" href="Bracketing.html#2135" class="Bound">m</a> <a id="3193" href="Bracketing.html#2145" class="Bound">e</a> <a id="3195" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="3199" class="Symbol">(</a><a id="3200" href="Bracketing.html#1755" class="Function">height</a> <a id="3207" href="Bracketing.html#2142" class="Bound">n</a> <a id="3209" class="Symbol">(</a><a id="3210" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3218" class="Symbol">(</a><a id="3219" href="Z.html#6591" class="Function">fromℕ</a> <a id="3225" href="Bracketing.html#2135" class="Bound">m</a><a id="3226" class="Symbol">)</a> <a id="3228" href="Bracketing.html#2145" class="Bound">e</a><a id="3229" class="Symbol">)</a> <a id="3231" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="3235" href="Bracketing.html#1179" class="Function">weight</a> <a id="3242" class="Symbol">(</a><a id="3243" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3251" class="Symbol">(</a><a id="3252" href="Z.html#6591" class="Function">fromℕ</a> <a id="3258" href="Bracketing.html#2142" class="Bound">n</a><a id="3259" class="Symbol">)</a> <a id="3261" class="Symbol">(</a><a id="3262" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3270" class="Symbol">(</a><a id="3271" href="Z.html#6591" class="Function">fromℕ</a> <a id="3277" href="Bracketing.html#2135" class="Bound">m</a><a id="3278" class="Symbol">)</a> <a id="3280" href="Bracketing.html#2145" class="Bound">e</a><a id="3281" class="Symbol">)))</a> <a id="3285" href="Cubical.Foundations.Prelude.html#8499" class="Function Operator">∎</a>

<a id="3288" class="Keyword">abstract</a>
  <a id="3299" class="Comment">-- the height of the opposite path</a>
  <a id="height-op"></a><a id="3336" href="Bracketing.html#3336" class="Function">height-op</a> <a id="3346" class="Symbol">:</a> <a id="3348" class="Symbol">(</a><a id="3349" href="Bracketing.html#3349" class="Bound">n</a> <a id="3351" class="Symbol">:</a> <a id="3353" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3354" class="Symbol">)</a> <a id="3356" class="Symbol">(</a><a id="3357" href="Bracketing.html#3357" class="Bound">e</a> <a id="3359" class="Symbol">:</a> <a id="3361" href="ArrowsBase.html#801" class="Function">Ends</a><a id="3365" class="Symbol">)</a> <a id="3367" class="Symbol">→</a> <a id="3369" href="Bracketing.html#1755" class="Function">height</a> <a id="3376" class="Symbol">(</a><a id="3377" class="InductiveConstructor">suc</a> <a id="3381" href="Bracketing.html#3349" class="Bound">n</a><a id="3382" class="Symbol">)</a> <a id="3384" class="Symbol">(</a><a id="3385" href="Arrows.html#1903" class="Function">op</a> <a id="3388" class="Symbol">(</a><a id="3389" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3397" class="Symbol">(</a><a id="3398" href="Z.html#6591" class="Function">fromℕ</a> <a id="3404" href="Bracketing.html#3349" class="Bound">n</a><a id="3405" class="Symbol">)</a> <a id="3407" href="Bracketing.html#3357" class="Bound">e</a><a id="3408" class="Symbol">))</a> <a id="3411" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="3413" href="Z.html#5752" class="Function">ℤ.neg</a> <a id="3419" class="Symbol">(</a><a id="3420" href="Bracketing.html#1755" class="Function">height</a> <a id="3427" class="Symbol">(</a><a id="3428" class="InductiveConstructor">suc</a> <a id="3432" href="Bracketing.html#3349" class="Bound">n</a><a id="3433" class="Symbol">)</a> <a id="3435" href="Bracketing.html#3357" class="Bound">e</a><a id="3436" class="Symbol">)</a>
  <a id="3440" href="Bracketing.html#3336" class="Function">height-op</a> <a id="3450" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">ℕ.zero</a> <a id="3457" href="Bracketing.html#3457" class="Bound">e</a> <a id="3459" class="Symbol">=</a> <a id="3461" href="Bracketing.html#1572" class="Function">weight-op</a> <a id="3471" href="Bracketing.html#3457" class="Bound">e</a>
  <a id="3475" href="Bracketing.html#3336" class="Function">height-op</a> <a id="3485" class="Symbol">(</a><a id="3486" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3490" href="Bracketing.html#3490" class="Bound">n</a><a id="3491" class="Symbol">)</a> <a id="3493" href="Bracketing.html#3493" class="Bound">e</a> <a id="3495" class="Symbol">=</a>
    <a id="3501" class="Keyword">let</a> <a id="3505" href="Bracketing.html#3505" class="Bound">N</a> <a id="3507" class="Symbol">=</a> <a id="3509" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3513" href="Bracketing.html#3490" class="Bound">n</a> <a id="3515" class="Keyword">in</a>
    <a id="3522" href="Bracketing.html#1755" class="Function">height</a> <a id="3529" class="Symbol">(</a><a id="3530" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3534" href="Bracketing.html#3505" class="Bound">N</a><a id="3535" class="Symbol">)</a> <a id="3537" class="Symbol">(</a><a id="3538" href="Arrows.html#1903" class="Function">op</a> <a id="3541" class="Symbol">(</a><a id="3542" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3550" class="Symbol">(</a><a id="3551" href="Z.html#6591" class="Function">fromℕ</a> <a id="3557" href="Bracketing.html#3505" class="Bound">N</a><a id="3558" class="Symbol">)</a> <a id="3560" href="Bracketing.html#3493" class="Bound">e</a><a id="3561" class="Symbol">))</a> <a id="3564" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="3567" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="3572" class="Symbol">(λ</a> <a id="3575" href="Bracketing.html#3575" class="Bound">k</a> <a id="3577" class="Symbol">→</a> <a id="3579" href="Bracketing.html#1755" class="Function">height</a> <a id="3586" href="Bracketing.html#3575" class="Bound">k</a> <a id="3588" class="Symbol">(</a><a id="3589" href="Arrows.html#1903" class="Function">op</a> <a id="3592" class="Symbol">(</a><a id="3593" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3601" class="Symbol">(</a><a id="3602" href="Z.html#6591" class="Function">fromℕ</a> <a id="3608" href="Bracketing.html#3505" class="Bound">N</a><a id="3609" class="Symbol">)</a> <a id="3611" href="Bracketing.html#3493" class="Bound">e</a><a id="3612" class="Symbol">)))</a> <a id="3616" class="Symbol">(</a><a id="3617" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="3621" class="Symbol">(</a><a id="3622" href="Nat.html#256" class="Function">ℕ.+1-suc</a> <a id="3631" href="Bracketing.html#3505" class="Bound">N</a><a id="3632" class="Symbol">))</a> <a id="3635" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="3641" href="Bracketing.html#1755" class="Function">height</a> <a id="3648" class="Symbol">(</a><a id="3649" href="Bracketing.html#3505" class="Bound">N</a> <a id="3651" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="3655" class="Number">1</a><a id="3656" class="Symbol">)</a> <a id="3658" class="Symbol">(</a><a id="3659" href="Arrows.html#1903" class="Function">op</a> <a id="3662" class="Symbol">(</a><a id="3663" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3671" class="Symbol">(</a><a id="3672" href="Z.html#6591" class="Function">fromℕ</a> <a id="3678" href="Bracketing.html#3505" class="Bound">N</a><a id="3679" class="Symbol">)</a> <a id="3681" href="Bracketing.html#3493" class="Bound">e</a><a id="3682" class="Symbol">))</a> <a id="3685" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="3688" href="Bracketing.html#1932" class="Function">height-+</a> <a id="3697" href="Bracketing.html#3505" class="Bound">N</a> <a id="3699" class="Number">1</a> <a id="3701" class="Symbol">(</a><a id="3702" href="Arrows.html#1903" class="Function">op</a> <a id="3705" class="Symbol">(</a><a id="3706" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3714" class="Symbol">(</a><a id="3715" href="Z.html#6591" class="Function">fromℕ</a> <a id="3721" href="Bracketing.html#3505" class="Bound">N</a><a id="3722" class="Symbol">)</a> <a id="3724" href="Bracketing.html#3493" class="Bound">e</a><a id="3725" class="Symbol">))</a> <a id="3728" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="3734" href="Bracketing.html#1755" class="Function">height</a> <a id="3741" href="Bracketing.html#3505" class="Bound">N</a> <a id="3743" class="Symbol">(</a><a id="3744" href="Arrows.html#1903" class="Function">op</a> <a id="3747" class="Symbol">(</a><a id="3748" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3756" class="Symbol">(</a><a id="3757" href="Z.html#6591" class="Function">fromℕ</a> <a id="3763" href="Bracketing.html#3505" class="Bound">N</a><a id="3764" class="Symbol">)</a> <a id="3766" href="Bracketing.html#3493" class="Bound">e</a><a id="3767" class="Symbol">))</a> <a id="3770" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="3774" href="Bracketing.html#1755" class="Function">height</a> <a id="3781" class="Number">1</a> <a id="3783" class="Symbol">(</a><a id="3784" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3792" class="Symbol">(</a><a id="3793" href="Z.html#6591" class="Function">fromℕ</a> <a id="3799" href="Bracketing.html#3505" class="Bound">N</a><a id="3800" class="Symbol">)</a> <a id="3802" class="Symbol">(</a><a id="3803" href="Arrows.html#1903" class="Function">op</a> <a id="3806" class="Symbol">(</a><a id="3807" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3815" class="Symbol">(</a><a id="3816" href="Z.html#6591" class="Function">fromℕ</a> <a id="3822" href="Bracketing.html#3505" class="Bound">N</a><a id="3823" class="Symbol">)</a> <a id="3825" href="Bracketing.html#3493" class="Bound">e</a><a id="3826" class="Symbol">)))</a> <a id="3830" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="3833" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="3838" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="3844" href="Bracketing.html#1755" class="Function">height</a> <a id="3851" href="Bracketing.html#3505" class="Bound">N</a> <a id="3853" class="Symbol">(</a><a id="3854" href="Arrows.html#1903" class="Function">op</a> <a id="3857" class="Symbol">(</a><a id="3858" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3866" class="Symbol">(</a><a id="3867" href="Z.html#6591" class="Function">fromℕ</a> <a id="3873" class="Symbol">(</a><a id="3874" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3878" href="Bracketing.html#3490" class="Bound">n</a><a id="3879" class="Symbol">))</a> <a id="3882" href="Bracketing.html#3493" class="Bound">e</a><a id="3883" class="Symbol">))</a> <a id="3886" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="3890" href="Bracketing.html#1179" class="Function">weight</a> <a id="3897" class="Symbol">(</a><a id="3898" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3906" class="Symbol">(</a><a id="3907" href="Z.html#6591" class="Function">fromℕ</a> <a id="3913" href="Bracketing.html#3505" class="Bound">N</a><a id="3914" class="Symbol">)</a> <a id="3916" class="Symbol">(</a><a id="3917" href="Arrows.html#1903" class="Function">op</a> <a id="3920" class="Symbol">(</a><a id="3921" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3929" class="Symbol">(</a><a id="3930" href="Z.html#6591" class="Function">fromℕ</a> <a id="3936" href="Bracketing.html#3505" class="Bound">N</a><a id="3937" class="Symbol">)</a> <a id="3939" href="Bracketing.html#3493" class="Bound">e</a><a id="3940" class="Symbol">)))</a> <a id="3944" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="3947" class="Hole">{!!}</a> <a id="3952" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a> <a id="3954" class="Comment">-- TODO</a>

    <a id="3967" href="Bracketing.html#1755" class="Function">height</a> <a id="3974" href="Bracketing.html#3505" class="Bound">N</a> <a id="3976" class="Symbol">(</a><a id="3977" href="Arrows.html#1903" class="Function">op</a> <a id="3980" class="Symbol">(</a><a id="3981" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3989" class="Symbol">(</a><a id="3990" href="Z.html#6591" class="Function">fromℕ</a> <a id="3996" href="Bracketing.html#3490" class="Bound">n</a><a id="3997" class="Symbol">)</a> <a id="3999" href="Bracketing.html#3493" class="Bound">e</a><a id="4000" class="Symbol">))</a> <a id="4003" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="4007" href="Bracketing.html#1179" class="Function">weight</a> <a id="4014" class="Symbol">(</a><a id="4015" href="Arrows.html#1903" class="Function">op</a> <a id="4018" class="Symbol">(</a><a id="4019" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="4027" class="Symbol">(</a><a id="4028" href="Z.html#6591" class="Function">fromℕ</a> <a id="4034" href="Bracketing.html#3505" class="Bound">N</a><a id="4035" class="Symbol">)</a> <a id="4037" href="Bracketing.html#3493" class="Bound">e</a><a id="4038" class="Symbol">))</a> <a id="4041" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="4044" href="Cubical.Foundations.Prelude.html#2025" class="Function">cong₂</a> <a id="4050" href="Z.html#5015" class="Function Operator">ℤ._+_</a> <a id="4056" class="Symbol">(</a><a id="4057" href="Bracketing.html#3336" class="Function">height-op</a> <a id="4067" href="Bracketing.html#3490" class="Bound">n</a> <a id="4069" href="Bracketing.html#3493" class="Bound">e</a><a id="4070" class="Symbol">)</a> <a id="4072" class="Symbol">(</a><a id="4073" href="Bracketing.html#1572" class="Function">weight-op</a> <a id="4083" class="Symbol">(</a><a id="4084" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="4092" class="Symbol">(</a><a id="4093" href="Z.html#6591" class="Function">fromℕ</a> <a id="4099" href="Bracketing.html#3505" class="Bound">N</a><a id="4100" class="Symbol">)</a> <a id="4102" href="Bracketing.html#3493" class="Bound">e</a><a id="4103" class="Symbol">))</a> <a id="4106" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="4112" href="Z.html#5752" class="Function">ℤ.neg</a> <a id="4118" class="Symbol">(</a><a id="4119" href="Bracketing.html#1755" class="Function">height</a> <a id="4126" href="Bracketing.html#3505" class="Bound">N</a> <a id="4128" href="Bracketing.html#3493" class="Bound">e</a><a id="4129" class="Symbol">)</a> <a id="4131" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="4135" href="Z.html#5752" class="Function">ℤ.neg</a> <a id="4141" class="Symbol">(</a><a id="4142" href="Bracketing.html#1179" class="Function">weight</a> <a id="4149" class="Symbol">(</a><a id="4150" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="4158" class="Symbol">(</a><a id="4159" href="Z.html#6591" class="Function">fromℕ</a> <a id="4165" href="Bracketing.html#3505" class="Bound">N</a><a id="4166" class="Symbol">)</a> <a id="4168" href="Bracketing.html#3493" class="Bound">e</a><a id="4169" class="Symbol">))</a>               <a id="4186" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="4189" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="4193" class="Symbol">(</a><a id="4194" href="Z.html#6079" class="Postulate">neg-+</a> <a id="4200" class="Symbol">(</a><a id="4201" href="Bracketing.html#1755" class="Function">height</a> <a id="4208" href="Bracketing.html#3505" class="Bound">N</a> <a id="4210" href="Bracketing.html#3493" class="Bound">e</a><a id="4211" class="Symbol">)</a> <a id="4213" class="Symbol">_)</a> <a id="4216" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="4222" href="Z.html#5752" class="Function">ℤ.neg</a> <a id="4228" class="Symbol">(</a><a id="4229" href="Bracketing.html#1755" class="Function">height</a> <a id="4236" href="Bracketing.html#3505" class="Bound">N</a> <a id="4238" href="Bracketing.html#3493" class="Bound">e</a> <a id="4240" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="4244" href="Bracketing.html#1179" class="Function">weight</a> <a id="4251" class="Symbol">(</a><a id="4252" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="4260" class="Symbol">(</a><a id="4261" href="Z.html#6591" class="Function">fromℕ</a> <a id="4267" href="Bracketing.html#3505" class="Bound">N</a><a id="4268" class="Symbol">)</a> <a id="4270" href="Bracketing.html#3493" class="Bound">e</a><a id="4271" class="Symbol">))</a>                       <a id="4296" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="4299" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="4304" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="4310" href="Z.html#5752" class="Function">ℤ.neg</a> <a id="4316" class="Symbol">(</a><a id="4317" href="Bracketing.html#1755" class="Function">height</a> <a id="4324" class="Symbol">(</a><a id="4325" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="4329" href="Bracketing.html#3505" class="Bound">N</a><a id="4330" class="Symbol">)</a> <a id="4332" href="Bracketing.html#3493" class="Bound">e</a><a id="4333" class="Symbol">)</a>                                                  <a id="4384" href="Cubical.Foundations.Prelude.html#8499" class="Function Operator">∎</a>

<a id="4387" class="Comment">-- height-iterate : (x : Ends) → (n : ℕ) → fst (height n x) ℕ.+ snd (height n x) ≡ suc n</a>
<a id="4476" class="Comment">-- height-iterate x ℕ.zero = weight-one x</a>
<a id="4518" class="Comment">-- height-iterate x (suc n) =</a>
 <a id="4549" class="Comment">-- -- TODO: simple arithmetic</a>
 <a id="4580" class="Comment">-- fst (height n x ℤ.+ weight (next (iterate (fromℕ n) x))) ℕ.+ snd (height n x ℤ.+ weight (next (iterate (fromℕ n) x))) ≡⟨ {!!} ⟩</a>
 <a id="4712" class="Comment">-- (fst (height n x) ℕ.+ fst (weight (next (iterate (fromℕ n) x)))) ℕ.+ (snd (height n x) ℕ.+ snd (weight (next (iterate (fromℕ n) x)))) ≡⟨ {!!} ⟩</a>
 <a id="4860" class="Comment">-- suc (suc n) ∎</a>

<a id="4878" class="Comment">-- an arrow admits a matching arrow</a>
<a id="matched"></a><a id="4914" href="Bracketing.html#4914" class="Function">matched</a> <a id="4922" class="Symbol">:</a> <a id="4924" href="ArrowsBase.html#769" class="Function">Arrows</a> <a id="4931" class="Symbol">→</a> <a id="4933" href="Agda.Primitive.html#326" class="Primitive">Type₀</a>
<a id="4939" href="Bracketing.html#4914" class="Function">matched</a> <a id="4947" href="Bracketing.html#4947" class="Bound">x</a> <a id="4949" class="Symbol">=</a> <a id="4951" href="Agda.Builtin.Sigma.html#166" class="Record">Σ</a> <a id="4953" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="4955" class="Symbol">(λ</a> <a id="4958" href="Bracketing.html#4958" class="Bound">n</a> <a id="4960" class="Symbol">→</a>
  <a id="4964" class="Comment">-- we take suc n to avoid considering the empty path as a match</a>
  <a id="5030" class="Symbol">(</a><a id="5031" href="Bracketing.html#1755" class="Function">height</a> <a id="5038" class="Symbol">(</a><a id="5039" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="5043" href="Bracketing.html#4958" class="Bound">n</a><a id="5044" class="Symbol">)</a> <a id="5046" class="Symbol">(</a><a id="5047" href="Arrows.html#2404" class="Function">fw</a> <a id="5050" href="Bracketing.html#4947" class="Bound">x</a><a id="5051" class="Symbol">)</a> <a id="5053" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="5055" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1047" class="InductiveConstructor">ℤ.zero</a><a id="5061" class="Symbol">)</a> <a id="5063" href="Cubical.Data.Sigma.Base.html#461" class="Function Operator">×</a>
  <a id="5067" class="Symbol">((</a><a id="5069" href="Bracketing.html#5069" class="Bound">k</a> <a id="5071" class="Symbol">:</a> <a id="5073" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="5074" class="Symbol">)</a> <a id="5076" class="Symbol">→</a> <a id="5078" href="Bracketing.html#5069" class="Bound">k</a> <a id="5080" href="Cubical.Data.Nat.Order.html#568" class="Function Operator">&lt;</a> <a id="5082" class="Symbol">(</a><a id="5083" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="5087" href="Bracketing.html#4958" class="Bound">n</a><a id="5088" class="Symbol">)</a> <a id="5090" class="Symbol">→</a> <a id="5092" href="Cubical.Relation.Nullary.Base.html#355" class="Function Operator">¬</a> <a id="5094" class="Symbol">(</a><a id="5095" href="Bracketing.html#1755" class="Function">height</a> <a id="5102" href="Bracketing.html#5069" class="Bound">k</a> <a id="5104" class="Symbol">(</a><a id="5105" href="Arrows.html#2404" class="Function">fw</a> <a id="5108" href="Bracketing.html#4947" class="Bound">x</a><a id="5109" class="Symbol">)</a> <a id="5111" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="5113" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1047" class="InductiveConstructor">ℤ.zero</a><a id="5119" class="Symbol">))</a>
  <a id="5124" class="Symbol">)</a>

<a id="matched-isProp"></a><a id="5127" href="Bracketing.html#5127" class="Function">matched-isProp</a> <a id="5142" class="Symbol">:</a> <a id="5144" class="Symbol">(</a><a id="5145" href="Bracketing.html#5145" class="Bound">x</a> <a id="5147" class="Symbol">:</a> <a id="5149" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="5155" class="Symbol">)</a> <a id="5157" class="Symbol">→</a> <a id="5159" href="Cubical.Foundations.Prelude.html#14010" class="Function">isProp</a> <a id="5166" class="Symbol">(</a><a id="5167" href="Bracketing.html#4914" class="Function">matched</a> <a id="5175" href="Bracketing.html#5145" class="Bound">x</a><a id="5176" class="Symbol">)</a>
<a id="5178" href="Bracketing.html#5127" class="Function">matched-isProp</a> <a id="5193" href="Bracketing.html#5193" class="Bound">x</a> <a id="5195" class="Symbol">(</a><a id="5196" href="Bracketing.html#5196" class="Bound">n</a> <a id="5198" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5200" href="Bracketing.html#5200" class="Bound">z</a> <a id="5202" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5204" href="Bracketing.html#5204" class="Bound">p</a><a id="5205" class="Symbol">)</a> <a id="5207" class="Symbol">(</a><a id="5208" href="Bracketing.html#5208" class="Bound">n&#39;</a> <a id="5211" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5213" href="Bracketing.html#5213" class="Bound">z&#39;</a> <a id="5216" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5218" href="Bracketing.html#5218" class="Bound">p&#39;</a><a id="5220" class="Symbol">)</a> <a id="5222" class="Symbol">=</a> <a id="5224" href="Cubical.Data.Sigma.Properties.html#1955" class="Function">ΣPathP</a> <a id="5231" class="Symbol">(</a><a id="5232" href="Bracketing.html#5320" class="Function">n≡n&#39;</a> <a id="5237" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5239" href="Cubical.Foundations.Prelude.html#12717" class="Function">toPathP</a> <a id="5247" class="Symbol">(</a><a id="5248" href="Cubical.Data.Sigma.Properties.html#1955" class="Function">ΣPathP</a> <a id="5255" class="Symbol">(</a><a id="5256" href="Z.html#4830" class="Function">ℤ-isSet</a> <a id="5264" class="Symbol">_</a> <a id="5266" class="Symbol">_</a> <a id="5268" class="Symbol">_</a> <a id="5270" class="Symbol">_</a> <a id="5272" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5274" href="Cubical.Foundations.HLevels.html#16598" class="Function">isPropΠ3</a> <a id="5283" class="Symbol">(λ</a> <a id="5286" href="Bracketing.html#5286" class="Bound">_</a> <a id="5288" href="Bracketing.html#5288" class="Bound">_</a> <a id="5290" href="Bracketing.html#5290" class="Bound">_</a> <a id="5292" class="Symbol">→</a> <a id="5294" href="Cubical.Data.Empty.Properties.html#228" class="Function">isProp⊥</a><a id="5301" class="Symbol">)</a> <a id="5303" class="Symbol">_</a> <a id="5305" class="Symbol">_)))</a>
  <a id="5312" class="Keyword">where</a>
  <a id="5320" href="Bracketing.html#5320" class="Function">n≡n&#39;</a> <a id="5325" class="Symbol">:</a> <a id="5327" href="Bracketing.html#5196" class="Bound">n</a> <a id="5329" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="5331" href="Bracketing.html#5208" class="Bound">n&#39;</a>
  <a id="5336" href="Bracketing.html#5320" class="Function">n≡n&#39;</a> <a id="5341" class="Keyword">with</a> <a id="5346" href="Bracketing.html#5196" class="Bound">n</a> <a id="5348" href="Cubical.Data.Nat.Order.html#7146" class="Function Operator">≟</a> <a id="5350" href="Bracketing.html#5208" class="Bound">n&#39;</a>
  <a id="5355" href="Bracketing.html#5320" class="Function">...</a> <a id="5359" class="Symbol">|</a> <a id="5361" href="Cubical.Data.Nat.Order.html#719" class="InductiveConstructor">lt</a> <a id="5364" href="Bracketing.html#5364" class="Bound">n&lt;n&#39;</a> <a id="5369" class="Symbol">=</a> <a id="5371" href="Cubical.Data.Empty.Base.html#269" class="Function">⊥.elim</a> <a id="5378" class="Symbol">(</a><a id="5379" href="Bracketing.html#5218" class="Bound">p&#39;</a> <a id="5382" class="Symbol">(</a><a id="5383" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="5387" href="Bracketing.html#5196" class="Bound">n</a><a id="5388" class="Symbol">)</a> <a id="5390" class="Symbol">(</a><a id="5391" href="Cubical.Data.Nat.Order.html#1124" class="Function">suc-≤-suc</a> <a id="5401" href="Bracketing.html#5364" class="Bound">n&lt;n&#39;</a><a id="5405" class="Symbol">)</a> <a id="5407" href="Bracketing.html#5200" class="Bound">z</a><a id="5408" class="Symbol">)</a>
  <a id="5412" href="Bracketing.html#5320" class="Function">...</a> <a id="5416" class="Symbol">|</a> <a id="5418" href="Cubical.Data.Nat.Order.html#749" class="InductiveConstructor">eq</a> <a id="5421" href="Bracketing.html#5421" class="Bound">n≡n&#39;</a> <a id="5426" class="Symbol">=</a> <a id="5428" href="Bracketing.html#5421" class="Bound">n≡n&#39;</a>
  <a id="5435" href="Bracketing.html#5320" class="Function">...</a> <a id="5439" class="Symbol">|</a> <a id="5441" href="Cubical.Data.Nat.Order.html#779" class="InductiveConstructor">gt</a> <a id="5444" href="Bracketing.html#5444" class="Bound">n&#39;&lt;n</a> <a id="5449" class="Symbol">=</a> <a id="5451" href="Cubical.Data.Empty.Base.html#269" class="Function">⊥.elim</a> <a id="5458" class="Symbol">(</a><a id="5459" href="Bracketing.html#5204" class="Bound">p</a> <a id="5461" class="Symbol">(</a><a id="5462" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="5466" href="Bracketing.html#5208" class="Bound">n&#39;</a><a id="5468" class="Symbol">)</a> <a id="5470" class="Symbol">(</a><a id="5471" href="Cubical.Data.Nat.Order.html#1124" class="Function">suc-≤-suc</a> <a id="5481" href="Bracketing.html#5444" class="Bound">n&#39;&lt;n</a><a id="5485" class="Symbol">)</a> <a id="5487" href="Bracketing.html#5213" class="Bound">z&#39;</a><a id="5489" class="Symbol">)</a>

<a id="5492" class="Comment">-- matching end</a>
<a id="match-end"></a><a id="5508" href="Bracketing.html#5508" class="Function">match-end</a> <a id="5518" class="Symbol">:</a> <a id="5520" class="Symbol">{</a><a id="5521" href="Bracketing.html#5521" class="Bound">a</a> <a id="5523" class="Symbol">:</a> <a id="5525" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="5531" class="Symbol">}</a> <a id="5533" class="Symbol">→</a> <a id="5535" href="Bracketing.html#4914" class="Function">matched</a> <a id="5543" href="Bracketing.html#5521" class="Bound">a</a> <a id="5545" class="Symbol">→</a> <a id="5547" href="ArrowsBase.html#801" class="Function">Ends</a>
<a id="5552" href="Bracketing.html#5508" class="Function">match-end</a> <a id="5562" class="Symbol">{</a><a id="5563" href="Bracketing.html#5563" class="Bound">a</a><a id="5564" class="Symbol">}</a> <a id="5566" href="Bracketing.html#5566" class="Bound">m</a> <a id="5568" class="Symbol">=</a> <a id="5570" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="5578" class="Symbol">(</a><a id="5579" href="Z.html#6591" class="Function">fromℕ</a> <a id="5585" class="Symbol">(</a><a id="5586" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="5590" href="Bracketing.html#5566" class="Bound">m</a><a id="5591" class="Symbol">))</a> <a id="5594" class="Symbol">(</a><a id="5595" href="Arrows.html#2404" class="Function">fw</a> <a id="5598" href="Bracketing.html#5563" class="Bound">a</a><a id="5599" class="Symbol">)</a>

<a id="5602" class="Comment">-- matching arrow</a>
<a id="match"></a><a id="5620" href="Bracketing.html#5620" class="Function">match</a> <a id="5626" class="Symbol">:</a> <a id="5628" class="Symbol">{</a><a id="5629" href="Bracketing.html#5629" class="Bound">a</a> <a id="5631" class="Symbol">:</a> <a id="5633" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="5639" class="Symbol">}</a> <a id="5641" class="Symbol">→</a> <a id="5643" href="Bracketing.html#4914" class="Function">matched</a> <a id="5651" href="Bracketing.html#5629" class="Bound">a</a> <a id="5653" class="Symbol">→</a> <a id="5655" href="ArrowsBase.html#769" class="Function">Arrows</a>
<a id="5662" href="Bracketing.html#5620" class="Function">match</a> <a id="5668" href="Bracketing.html#5668" class="Bound">m</a> <a id="5670" class="Symbol">=</a> <a id="5672" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="5678" class="Symbol">(</a><a id="5679" href="Bracketing.html#5508" class="Function">match-end</a> <a id="5689" href="Bracketing.html#5668" class="Bound">m</a><a id="5690" class="Symbol">)</a>

<a id="5693" class="Comment">-- the matching arrow is reachable-arr</a>
<a id="match-reachable-arr"></a><a id="5732" href="Bracketing.html#5732" class="Function">match-reachable-arr</a> <a id="5752" class="Symbol">:</a> <a id="5754" class="Symbol">{</a><a id="5755" href="Bracketing.html#5755" class="Bound">a</a> <a id="5757" class="Symbol">:</a> <a id="5759" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="5765" class="Symbol">}</a> <a id="5767" class="Symbol">(</a><a id="5768" href="Bracketing.html#5768" class="Bound">m</a> <a id="5770" class="Symbol">:</a> <a id="5772" href="Bracketing.html#4914" class="Function">matched</a> <a id="5780" href="Bracketing.html#5755" class="Bound">a</a><a id="5781" class="Symbol">)</a> <a id="5783" class="Symbol">→</a> <a id="5785" href="Arrows.html#7695" class="Function">reachable-arr</a> <a id="5799" href="Bracketing.html#5755" class="Bound">a</a> <a id="5801" class="Symbol">(</a><a id="5802" href="Bracketing.html#5620" class="Function">match</a> <a id="5808" href="Bracketing.html#5768" class="Bound">m</a><a id="5809" class="Symbol">)</a>
<a id="5811" href="Bracketing.html#5732" class="Function">match-reachable-arr</a> <a id="5831" href="Bracketing.html#5831" class="Bound">m</a> <a id="5833" class="Symbol">=</a> <a id="5835" href="Z.html#6591" class="Function">fromℕ</a> <a id="5841" class="Symbol">(</a><a id="5842" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="5846" href="Bracketing.html#5831" class="Bound">m</a><a id="5847" class="Symbol">)</a> <a id="5849" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5851" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a>

<a id="match-above"></a><a id="5857" href="Bracketing.html#5857" class="Function">match-above</a> <a id="5869" class="Symbol">:</a> <a id="5871" class="Symbol">{</a><a id="5872" href="Bracketing.html#5872" class="Bound">a</a> <a id="5874" class="Symbol">:</a> <a id="5876" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="5882" class="Symbol">}</a> <a id="5884" class="Symbol">(</a><a id="5885" href="Bracketing.html#5885" class="Bound">m</a> <a id="5887" class="Symbol">:</a> <a id="5889" href="Bracketing.html#4914" class="Function">matched</a> <a id="5897" href="Bracketing.html#5872" class="Bound">a</a><a id="5898" class="Symbol">)</a> <a id="5900" class="Symbol">(</a><a id="5901" href="Bracketing.html#5901" class="Bound">n</a> <a id="5903" class="Symbol">:</a> <a id="5905" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="5906" class="Symbol">)</a> <a id="5908" class="Symbol">→</a> <a id="5910" href="Bracketing.html#5901" class="Bound">n</a> <a id="5912" href="Cubical.Data.Nat.Order.html#568" class="Function Operator">&lt;</a> <a id="5914" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="5918" href="Bracketing.html#5885" class="Bound">m</a> <a id="5920" class="Symbol">→</a> <a id="5922" href="Bracketing.html#1755" class="Function">height</a> <a id="5929" class="Symbol">(</a><a id="5930" class="InductiveConstructor">suc</a> <a id="5934" href="Bracketing.html#5901" class="Bound">n</a><a id="5935" class="Symbol">)</a> <a id="5937" class="Symbol">(</a><a id="5938" href="Arrows.html#2404" class="Function">fw</a> <a id="5941" href="Bracketing.html#5872" class="Bound">a</a><a id="5942" class="Symbol">)</a> <a id="5944" href="Z.html#11193" class="Function Operator">&gt;</a> <a id="5946" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1047" class="InductiveConstructor">ℤ.zero</a>
<a id="5953" href="Bracketing.html#5857" class="Function">match-above</a> <a id="5965" href="Bracketing.html#5965" class="Bound">m</a> <a id="5967" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a> <a id="5972" href="Bracketing.html#5972" class="Bound">n&lt;m</a> <a id="5976" class="Symbol">=</a> <a id="5978" href="Z.html#11228" class="Function">0&lt;1</a>
<a id="5982" href="Bracketing.html#5857" class="Function">match-above</a> <a id="5994" class="Symbol">{</a><a id="5995" href="Bracketing.html#5995" class="Bound">a</a><a id="5996" class="Symbol">}</a> <a id="5998" href="Bracketing.html#5998" class="Bound">m</a> <a id="6000" class="Symbol">(</a><a id="6001" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="6005" href="Bracketing.html#6005" class="Bound">n</a><a id="6006" class="Symbol">)</a> <a id="6008" href="Bracketing.html#6008" class="Bound">n&lt;m</a> <a id="6012" class="Keyword">with</a> <a id="6017" href="ArrowsBase.html#1125" class="Function">next</a> <a id="6022" class="Symbol">(</a><a id="6023" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="6031" class="Symbol">(</a><a id="6032" href="Z.html#6591" class="Function">fromℕ</a> <a id="6038" href="Bracketing.html#6005" class="Bound">n</a><a id="6039" class="Symbol">)</a> <a id="6041" class="Symbol">(</a><a id="6042" href="Arrows.html#2404" class="Function">fw</a> <a id="6045" href="Bracketing.html#5995" class="Bound">a</a><a id="6046" class="Symbol">))</a>
<a id="6049" class="Symbol">...</a> <a id="6053" class="Symbol">|</a> <a id="6055" class="Symbol">_</a> <a id="6057" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6059" href="Ends.html#341" class="InductiveConstructor">src</a> <a id="6063" class="Symbol">=</a> <a id="6065" href="Z.html#11471" class="Function">ℤ.≤-trans</a> <a id="6075" class="Symbol">(</a><a id="6076" href="Bracketing.html#5857" class="Function">match-above</a> <a id="6088" class="Bound">m</a> <a id="6090" class="Bound">n</a> <a id="6092" class="Symbol">(</a><a id="6093" href="Cubical.Data.Nat.Order.html#4144" class="Function">&lt;-trans</a> <a id="6101" href="Cubical.Data.Nat.Order.html#1657" class="Function">ℕ.≤-refl</a> <a id="6110" class="Bound">n&lt;m</a><a id="6113" class="Symbol">))</a> <a id="6116" class="Symbol">(</a><a id="6117" href="Z.html#11471" class="Function">ℤ.≤-trans</a> <a id="6127" class="Symbol">(</a><a id="6128" href="Z.html#12046" class="Function">ℤ.≤-suc</a> <a id="6136" href="Z.html#11261" class="Function">ℤ.≤-refl</a><a id="6144" class="Symbol">)</a> <a id="6146" class="Symbol">(</a><a id="6147" href="Z.html#11387" class="Function">≤-path</a> <a id="6154" class="Symbol">(</a><a id="6155" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="6159" class="Symbol">(</a><a id="6160" href="Z.html#5521" class="Postulate">ℤ.+1-suc</a> <a id="6169" class="Symbol">_))))</a>
<a id="6175" class="Symbol">...</a> <a id="6179" class="Symbol">|</a> <a id="6181" class="Symbol">_</a> <a id="6183" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6185" href="Ends.html#353" class="InductiveConstructor">tgt</a> <a id="6189" class="Keyword">with</a> <a id="6194" class="Symbol">(</a><a id="6195" href="Bracketing.html#1755" class="Function">height</a> <a id="6202" class="Bound">n</a> <a id="6204" class="Symbol">(</a><a id="6205" href="Arrows.html#2404" class="Function">fw</a> <a id="6208" class="Bound">a</a><a id="6209" class="Symbol">)</a> <a id="6211" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="6215" href="Bracketing.html#1179" class="Function">weight</a> <a id="6222" class="Symbol">(</a><a id="6223" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="6231" class="Symbol">(</a><a id="6232" href="Z.html#6591" class="Function">fromℕ</a> <a id="6238" class="Bound">n</a><a id="6239" class="Symbol">)</a> <a id="6241" class="Symbol">(</a><a id="6242" href="Arrows.html#2404" class="Function">fw</a> <a id="6245" class="Bound">a</a><a id="6246" class="Symbol">)))</a> <a id="6250" href="Z.html#12449" class="Postulate Operator">ℤ.≟</a> <a id="6254" href="Z.html#617" class="Function">ℤ.one</a>
<a id="6260" class="Symbol">...</a> <a id="6264" class="Symbol">|</a> <a id="6266" href="Z.html#12348" class="InductiveConstructor">lt</a> <a id="6269" href="Bracketing.html#6269" class="Bound">h&lt;1</a> <a id="6273" class="Symbol">=</a> <a id="6275" class="Hole">{!!}</a> <a id="6280" class="Comment">-- impossible because the previous height would have to be negative too</a>
<a id="6352" class="Symbol">...</a> <a id="6356" class="Symbol">|</a> <a id="6358" href="Z.html#12378" class="InductiveConstructor">eq</a> <a id="6361" href="Bracketing.html#6361" class="Bound">h≡1</a> <a id="6365" class="Symbol">=</a> <a id="6367" href="Cubical.Data.Empty.Base.html#269" class="Function">⊥.elim</a> <a id="6374" class="Symbol">(</a><a id="6375" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="6379" class="Symbol">(</a><a id="6380" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="6384" class="Bound">m</a><a id="6385" class="Symbol">)</a> <a id="6387" class="Symbol">(</a><a id="6388" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="6392" class="Bound">n</a><a id="6393" class="Symbol">)</a> <a id="6395" class="Hole">{!!}</a> <a id="6400" class="Hole">{!!}</a><a id="6404" class="Symbol">)</a> <a id="6406" class="Comment">-- impossible because the resulting height is zero</a>
<a id="6457" class="Symbol">...</a> <a id="6461" class="Symbol">|</a> <a id="6463" href="Z.html#12408" class="InductiveConstructor">gt</a> <a id="6466" href="Bracketing.html#6466" class="Bound">h&gt;1</a> <a id="6470" class="Symbol">=</a> <a id="6472" class="Hole">{!!}</a> <a id="6477" class="Comment">-- fine</a>
  <a id="6487" class="Keyword">where</a>
  <a id="6495" href="Bracketing.html#6495" class="Function">ind</a> <a id="6499" class="Symbol">=</a> <a id="6501" href="Bracketing.html#5857" class="Function">match-above</a> <a id="6513" class="Bound">m</a> <a id="6515" class="Bound">n</a> <a id="6517" class="Symbol">(</a><a id="6518" href="Cubical.Data.Nat.Order.html#4144" class="Function">&lt;-trans</a> <a id="6526" href="Cubical.Data.Nat.Order.html#1657" class="Function">ℕ.≤-refl</a> <a id="6535" class="Bound">n&lt;m</a><a id="6538" class="Symbol">)</a>

<a id="6541" class="Comment">-- the matching arrow is closing</a>
<a id="match-closing"></a><a id="6574" href="Bracketing.html#6574" class="Function">match-closing</a> <a id="6588" class="Symbol">:</a> <a id="6590" class="Symbol">{</a><a id="6591" href="Bracketing.html#6591" class="Bound">a</a> <a id="6593" class="Symbol">:</a> <a id="6595" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="6601" class="Symbol">}</a> <a id="6603" class="Symbol">(</a><a id="6604" href="Bracketing.html#6604" class="Bound">m</a> <a id="6606" class="Symbol">:</a> <a id="6608" href="Bracketing.html#4914" class="Function">matched</a> <a id="6616" href="Bracketing.html#6591" class="Bound">a</a><a id="6617" class="Symbol">)</a> <a id="6619" class="Symbol">→</a> <a id="6621" href="Bracketing.html#5508" class="Function">match-end</a> <a id="6631" href="Bracketing.html#6604" class="Bound">m</a> <a id="6633" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="6635" href="Arrows.html#2514" class="Function">bw</a> <a id="6638" class="Symbol">(</a><a id="6639" href="Bracketing.html#5620" class="Function">match</a> <a id="6645" href="Bracketing.html#6604" class="Bound">m</a><a id="6646" class="Symbol">)</a>
<a id="6648" href="Bracketing.html#6574" class="Function">match-closing</a> <a id="6662" class="Symbol">{</a><a id="6663" href="Bracketing.html#6663" class="Bound">a</a><a id="6664" class="Symbol">}</a> <a id="6666" href="Bracketing.html#6666" class="Bound">m</a><a id="6667" class="Symbol">@(</a><a id="6669" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">ℕ.zero</a> <a id="6676" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6678" href="Bracketing.html#6678" class="Bound">z</a> <a id="6680" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6682" href="Bracketing.html#6682" class="Bound">¬z</a><a id="6684" class="Symbol">)</a> <a id="6686" class="Symbol">=</a>
  <a id="6690" class="Comment">-- when n=0 the weight is 1 and thus we cannot have a match</a>
  <a id="6752" href="Cubical.Data.Empty.Base.html#269" class="Function">⊥.elim</a> <a id="6759" class="Symbol">{</a><a id="6760" class="Argument">A</a> <a id="6762" class="Symbol">=</a> <a id="6764" class="Symbol">λ</a> <a id="6766" href="Bracketing.html#6766" class="Bound">_</a> <a id="6768" class="Symbol">→</a> <a id="6770" href="Bracketing.html#5508" class="Function">match-end</a> <a id="6780" href="Bracketing.html#6666" class="Bound">m</a> <a id="6782" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="6784" href="Arrows.html#2514" class="Function">bw</a> <a id="6787" class="Symbol">(</a><a id="6788" href="Bracketing.html#5620" class="Function">match</a> <a id="6794" href="Bracketing.html#6666" class="Bound">m</a><a id="6795" class="Symbol">)}</a> <a id="6798" class="Symbol">(</a><a id="6799" href="Z.html#4988" class="Postulate">ℤ.1≢0</a> <a id="6805" class="Symbol">(</a><a id="6806" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="6810" class="Symbol">(</a><a id="6811" href="Z.html#5306" class="Postulate">ℤ.zero-+</a> <a id="6820" class="Symbol">_)</a> <a id="6823" href="Cubical.Foundations.Prelude.html#4447" class="Function Operator">∙</a> <a id="6825" href="Bracketing.html#6678" class="Bound">z</a><a id="6826" class="Symbol">))</a>
<a id="6829" href="Bracketing.html#6574" class="Function">match-closing</a> <a id="6843" class="Symbol">{</a><a id="6844" href="Bracketing.html#6844" class="Bound">a</a><a id="6845" class="Symbol">}</a> <a id="6847" href="Bracketing.html#6847" class="Bound">m</a><a id="6848" class="Symbol">@(</a><a id="6850" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="6854" href="Bracketing.html#6854" class="Bound">n</a> <a id="6856" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6858" href="Bracketing.html#6858" class="Bound">z</a> <a id="6860" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6862" href="Bracketing.html#6862" class="Bound">¬z</a><a id="6864" class="Symbol">)</a> <a id="6866" class="Keyword">with</a> <a id="6871" href="Z.html#4073" class="Postulate">ℤ.discrete</a> <a id="6882" class="Symbol">(</a><a id="6883" href="Bracketing.html#1755" class="Function">height</a> <a id="6890" class="Symbol">(</a><a id="6891" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="6895" href="Bracketing.html#6854" class="Bound">n</a><a id="6896" class="Symbol">)</a> <a id="6898" class="Symbol">(</a><a id="6899" href="Arrows.html#2404" class="Function">fw</a> <a id="6902" href="Bracketing.html#6844" class="Bound">a</a><a id="6903" class="Symbol">))</a> <a id="6906" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1047" class="InductiveConstructor">ℤ.zero</a>
<a id="6913" class="Symbol">...</a> <a id="6917" class="Symbol">|</a> <a id="6919" href="Cubical.Relation.Nullary.Base.html#478" class="InductiveConstructor">yes</a> <a id="6923" href="Bracketing.html#6923" class="Bound">p</a> <a id="6925" class="Symbol">=</a> <a id="6927" href="Cubical.Data.Empty.Base.html#269" class="Function">⊥.elim</a> <a id="6934" class="Symbol">(</a><a id="6935" class="Bound">¬z</a> <a id="6938" class="Symbol">(</a><a id="6939" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="6943" class="Bound">n</a><a id="6944" class="Symbol">)</a> <a id="6946" href="Cubical.Data.Nat.Order.html#1657" class="Function">ℕ.≤-refl</a> <a id="6955" href="Bracketing.html#6923" class="Bound">p</a><a id="6956" class="Symbol">)</a>
<a id="6958" class="Symbol">...</a> <a id="6962" class="Symbol">|</a> <a id="6964" href="Cubical.Relation.Nullary.Base.html#505" class="InductiveConstructor">no</a> <a id="6967" href="Bracketing.html#6967" class="Bound">¬p</a> <a id="6970" class="Symbol">=</a>
  <a id="6974" href="ArrowsBase.html#956" class="Function">end≡</a> <a id="6979" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="6984" href="Bracketing.html#7075" class="Function">lem</a>
    <a id="6992" class="Keyword">where</a>
    <a id="7002" class="Comment">-- if the end is src then the height cannot go from non-zero to zero</a>
    <a id="7075" href="Bracketing.html#7075" class="Function">lem</a> <a id="7079" class="Symbol">:</a> <a id="7081" href="ArrowsBase.html#925" class="Function">end</a> <a id="7085" class="Symbol">(</a><a id="7086" href="ArrowsBase.html#1125" class="Function">next</a> <a id="7091" class="Symbol">(</a><a id="7092" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="7100" class="Symbol">(</a><a id="7101" href="Z.html#6591" class="Function">fromℕ</a> <a id="7107" class="Bound">n</a><a id="7108" class="Symbol">)</a> <a id="7110" class="Symbol">(</a><a id="7111" href="Arrows.html#2404" class="Function">fw</a> <a id="7114" class="Bound">a</a><a id="7115" class="Symbol">)))</a> <a id="7119" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="7121" href="Ends.html#353" class="InductiveConstructor">tgt</a>
    <a id="7129" href="Bracketing.html#7075" class="Function">lem</a> <a id="7133" class="Keyword">with</a> <a id="7138" href="Ends.html#730" class="Function">Ends.case≡</a> <a id="7149" class="Symbol">(</a><a id="7150" href="ArrowsBase.html#925" class="Function">end</a> <a id="7154" class="Symbol">(</a><a id="7155" href="ArrowsBase.html#1125" class="Function">next</a> <a id="7160" class="Symbol">(</a><a id="7161" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="7169" class="Symbol">(</a><a id="7170" href="Z.html#6591" class="Function">fromℕ</a> <a id="7176" class="Bound">n</a><a id="7177" class="Symbol">)</a> <a id="7179" class="Symbol">(</a><a id="7180" href="Arrows.html#2404" class="Function">fw</a> <a id="7183" class="Bound">a</a><a id="7184" class="Symbol">))))</a>
    <a id="7193" href="Bracketing.html#7075" class="Function">...</a> <a id="7197" class="Symbol">|</a> <a id="7199" href="Cubical.Data.Sum.Base.html#261" class="InductiveConstructor">inl</a> <a id="7203" href="Bracketing.html#7203" class="Bound">pe</a> <a id="7206" class="Symbol">=</a> <a id="7208" href="Cubical.Data.Empty.Base.html#187" class="Function">⊥.rec</a> <a id="7214" class="Hole">{!!}</a>
    <a id="7223" href="Bracketing.html#7075" class="Function">...</a> <a id="7227" class="Symbol">|</a> <a id="7229" href="Cubical.Data.Sum.Base.html#279" class="InductiveConstructor">inr</a> <a id="7233" href="Bracketing.html#7233" class="Bound">pe</a> <a id="7236" class="Symbol">=</a> <a id="7238" href="Bracketing.html#7233" class="Bound">pe</a>

<a id="7242" class="Comment">-- matching is a symmetric relation</a>
<a id="matched-sym"></a><a id="7278" href="Bracketing.html#7278" class="Function">matched-sym</a> <a id="7290" class="Symbol">:</a> <a id="7292" class="Symbol">{</a><a id="7293" href="Bracketing.html#7293" class="Bound">a</a> <a id="7295" class="Symbol">:</a> <a id="7297" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="7303" class="Symbol">}</a> <a id="7305" class="Symbol">(</a><a id="7306" href="Bracketing.html#7306" class="Bound">m</a> <a id="7308" class="Symbol">:</a> <a id="7310" href="Bracketing.html#4914" class="Function">matched</a> <a id="7318" href="Bracketing.html#7293" class="Bound">a</a><a id="7319" class="Symbol">)</a> <a id="7321" class="Symbol">→</a> <a id="7323" href="Bracketing.html#4914" class="Function">matched</a> <a id="7331" class="Symbol">(</a><a id="7332" href="Bracketing.html#5620" class="Function">match</a> <a id="7338" href="Bracketing.html#7306" class="Bound">m</a><a id="7339" class="Symbol">)</a>
<a id="7341" href="Bracketing.html#7278" class="Function">matched-sym</a> <a id="7353" class="Symbol">{</a><a id="7354" href="Bracketing.html#7354" class="Bound">a</a><a id="7355" class="Symbol">}</a> <a id="7357" href="Bracketing.html#7357" class="Bound">m</a><a id="7358" class="Symbol">@(</a><a id="7360" href="Bracketing.html#7360" class="Bound">n</a> <a id="7362" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7364" href="Bracketing.html#7364" class="Bound">z</a> <a id="7366" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7368" href="Bracketing.html#7368" class="Bound">¬z</a><a id="7370" class="Symbol">)</a> <a id="7372" class="Symbol">=</a> <a id="7374" href="Bracketing.html#7360" class="Bound">n</a> <a id="7376" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7378" href="Bracketing.html#7429" class="Function">z&#39;</a> <a id="7381" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7383" class="Symbol">λ</a> <a id="7385" href="Bracketing.html#7385" class="Bound">k</a> <a id="7387" href="Bracketing.html#7387" class="Bound">k&lt;sn</a> <a id="7392" class="Symbol">→</a> <a id="7394" href="Bracketing.html#8082" class="Function">¬z&#39;</a> <a id="7398" href="Bracketing.html#7385" class="Bound">k</a> <a id="7400" class="Symbol">(</a><a id="7401" href="Cubical.Data.Nat.Order.html#1563" class="Function">pred-≤-pred</a> <a id="7413" href="Bracketing.html#7387" class="Bound">k&lt;sn</a><a id="7417" class="Symbol">)</a>
  <a id="7421" class="Keyword">where</a>
  <a id="7429" href="Bracketing.html#7429" class="Function">z&#39;</a> <a id="7432" class="Symbol">:</a> <a id="7434" href="Bracketing.html#1755" class="Function">height</a> <a id="7441" class="Symbol">(</a><a id="7442" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="7446" href="Bracketing.html#7360" class="Bound">n</a><a id="7447" class="Symbol">)</a> <a id="7449" class="Symbol">(</a><a id="7450" href="Arrows.html#2404" class="Function">fw</a> <a id="7453" class="Symbol">(</a><a id="7454" href="Bracketing.html#5620" class="Function">match</a> <a id="7460" href="Bracketing.html#7357" class="Bound">m</a><a id="7461" class="Symbol">))</a> <a id="7464" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="7466" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1047" class="InductiveConstructor">ℤ.zero</a>
  <a id="7475" href="Bracketing.html#7429" class="Function">z&#39;</a> <a id="7478" class="Symbol">=</a>
    <a id="7484" href="Bracketing.html#1755" class="Function">height</a> <a id="7491" class="Symbol">(</a><a id="7492" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="7496" href="Bracketing.html#7360" class="Bound">n</a><a id="7497" class="Symbol">)</a> <a id="7499" class="Symbol">(</a><a id="7500" href="Arrows.html#2404" class="Function">fw</a> <a id="7503" class="Symbol">(</a><a id="7504" href="Bracketing.html#5620" class="Function">match</a> <a id="7510" href="Bracketing.html#7357" class="Bound">m</a><a id="7511" class="Symbol">))</a>                  <a id="7531" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="7534" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="7539" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="7545" href="Bracketing.html#1755" class="Function">height</a> <a id="7552" class="Symbol">(</a><a id="7553" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="7557" href="Bracketing.html#7360" class="Bound">n</a><a id="7558" class="Symbol">)</a> <a id="7560" class="Symbol">(</a><a id="7561" href="Arrows.html#1903" class="Function">op</a> <a id="7564" class="Symbol">(</a><a id="7565" href="Arrows.html#2514" class="Function">bw</a> <a id="7568" class="Symbol">(</a><a id="7569" href="Bracketing.html#5620" class="Function">match</a> <a id="7575" href="Bracketing.html#7357" class="Bound">m</a><a id="7576" class="Symbol">)))</a>           <a id="7590" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="7593" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="7598" class="Symbol">(</a><a id="7599" href="Bracketing.html#1755" class="Function">height</a> <a id="7606" class="Symbol">(</a><a id="7607" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="7611" href="Bracketing.html#7360" class="Bound">n</a><a id="7612" class="Symbol">))</a> <a id="7615" class="Symbol">(</a><a id="7616" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="7621" href="Arrows.html#1903" class="Function">op</a> <a id="7624" class="Symbol">(</a><a id="7625" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="7629" class="Symbol">(</a><a id="7630" href="Bracketing.html#6574" class="Function">match-closing</a> <a id="7644" href="Bracketing.html#7357" class="Bound">m</a><a id="7645" class="Symbol">)))</a> <a id="7649" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="7655" href="Bracketing.html#1755" class="Function">height</a> <a id="7662" class="Symbol">(</a><a id="7663" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="7667" href="Bracketing.html#7360" class="Bound">n</a><a id="7668" class="Symbol">)</a> <a id="7670" class="Symbol">(</a><a id="7671" href="Arrows.html#1903" class="Function">op</a> <a id="7674" class="Symbol">(</a><a id="7675" href="Bracketing.html#5508" class="Function">match-end</a> <a id="7685" href="Bracketing.html#7357" class="Bound">m</a><a id="7686" class="Symbol">))</a>                 <a id="7705" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="7708" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="7713" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="7719" href="Bracketing.html#1755" class="Function">height</a> <a id="7726" class="Symbol">(</a><a id="7727" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="7731" href="Bracketing.html#7360" class="Bound">n</a><a id="7732" class="Symbol">)</a> <a id="7734" class="Symbol">(</a><a id="7735" href="Arrows.html#1903" class="Function">op</a> <a id="7738" class="Symbol">(</a><a id="7739" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="7747" class="Symbol">(</a><a id="7748" href="Z.html#6591" class="Function">fromℕ</a> <a id="7754" href="Bracketing.html#7360" class="Bound">n</a><a id="7755" class="Symbol">)</a> <a id="7757" class="Symbol">(</a><a id="7758" href="Arrows.html#2404" class="Function">fw</a> <a id="7761" href="Bracketing.html#7354" class="Bound">a</a><a id="7762" class="Symbol">)))</a> <a id="7766" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="7769" href="Bracketing.html#3336" class="Function">height-op</a> <a id="7779" href="Bracketing.html#7360" class="Bound">n</a> <a id="7781" class="Symbol">(</a><a id="7782" href="Arrows.html#2404" class="Function">fw</a> <a id="7785" href="Bracketing.html#7354" class="Bound">a</a><a id="7786" class="Symbol">)</a> <a id="7788" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="7794" href="Z.html#5752" class="Function">ℤ.neg</a> <a id="7800" class="Symbol">(</a><a id="7801" href="Bracketing.html#1755" class="Function">height</a> <a id="7808" class="Symbol">(</a><a id="7809" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="7813" href="Bracketing.html#7360" class="Bound">n</a><a id="7814" class="Symbol">)</a> <a id="7816" class="Symbol">(</a><a id="7817" href="Arrows.html#2404" class="Function">fw</a> <a id="7820" href="Bracketing.html#7354" class="Bound">a</a><a id="7821" class="Symbol">))</a>                  <a id="7841" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="7844" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="7849" href="Z.html#5752" class="Function">ℤ.neg</a> <a id="7855" href="Bracketing.html#7364" class="Bound">z</a> <a id="7857" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="7863" href="Z.html#5752" class="Function">ℤ.neg</a> <a id="7869" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1047" class="InductiveConstructor">ℤ.zero</a>                                      <a id="7913" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="7916" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="7921" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="7927" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1047" class="InductiveConstructor">ℤ.zero</a>                                            <a id="7977" href="Cubical.Foundations.Prelude.html#8499" class="Function Operator">∎</a>
  <a id="7981" class="Comment">-- if the height was zero, the height plus a non-zero complement would be zero which is impossible</a>
  <a id="8082" href="Bracketing.html#8082" class="Function">¬z&#39;</a> <a id="8086" class="Symbol">:</a> <a id="8088" class="Symbol">(</a><a id="8089" href="Bracketing.html#8089" class="Bound">k</a> <a id="8091" class="Symbol">:</a> <a id="8093" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="8094" class="Symbol">)</a> <a id="8096" class="Symbol">→</a> <a id="8098" href="Bracketing.html#8089" class="Bound">k</a> <a id="8100" href="Cubical.Data.Nat.Order.html#518" class="Function Operator">≤</a> <a id="8102" href="Bracketing.html#7360" class="Bound">n</a> <a id="8104" class="Symbol">→</a> <a id="8106" href="Cubical.Relation.Nullary.Base.html#355" class="Function Operator">¬</a> <a id="8108" class="Symbol">(</a><a id="8109" href="Bracketing.html#1755" class="Function">height</a> <a id="8116" href="Bracketing.html#8089" class="Bound">k</a> <a id="8118" class="Symbol">(</a><a id="8119" href="Arrows.html#2404" class="Function">fw</a> <a id="8122" class="Symbol">(</a><a id="8123" href="Bracketing.html#5620" class="Function">match</a> <a id="8129" class="Symbol">(</a><a id="8130" href="Bracketing.html#7360" class="Bound">n</a> <a id="8132" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8134" href="Bracketing.html#7364" class="Bound">z</a> <a id="8136" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8138" href="Bracketing.html#7368" class="Bound">¬z</a><a id="8140" class="Symbol">)))</a> <a id="8144" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="8146" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1047" class="InductiveConstructor">ℤ.zero</a><a id="8152" class="Symbol">)</a>
  <a id="8156" href="Bracketing.html#8082" class="Function">¬z&#39;</a> <a id="8160" href="Bracketing.html#8160" class="Bound">k</a> <a id="8162" href="Bracketing.html#8162" class="Bound">k≤n</a> <a id="8166" href="Bracketing.html#8166" class="Bound">p</a> <a id="8168" class="Symbol">=</a> <a id="8170" class="Hole">{!!}</a>

<a id="match²"></a><a id="8176" href="Bracketing.html#8176" class="Function">match²</a> <a id="8183" class="Symbol">:</a> <a id="8185" class="Symbol">{</a><a id="8186" href="Bracketing.html#8186" class="Bound">a</a> <a id="8188" class="Symbol">:</a> <a id="8190" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="8196" class="Symbol">}</a> <a id="8198" class="Symbol">(</a><a id="8199" href="Bracketing.html#8199" class="Bound">m</a> <a id="8201" class="Symbol">:</a> <a id="8203" href="Bracketing.html#4914" class="Function">matched</a> <a id="8211" href="Bracketing.html#8186" class="Bound">a</a><a id="8212" class="Symbol">)</a> <a id="8214" class="Symbol">→</a> <a id="8216" href="Bracketing.html#5620" class="Function">match</a> <a id="8222" class="Symbol">(</a><a id="8223" href="Bracketing.html#7278" class="Function">matched-sym</a> <a id="8235" href="Bracketing.html#8199" class="Bound">m</a><a id="8236" class="Symbol">)</a> <a id="8238" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="8240" href="Bracketing.html#8186" class="Bound">a</a>
<a id="8242" href="Bracketing.html#8176" class="Function">match²</a> <a id="8249" class="Symbol">{</a><a id="8250" href="Bracketing.html#8250" class="Bound">a</a><a id="8251" class="Symbol">}</a> <a id="8253" href="Bracketing.html#8253" class="Bound">m</a><a id="8254" class="Symbol">@(</a><a id="8256" href="Bracketing.html#8256" class="Bound">n</a> <a id="8258" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8260" href="Bracketing.html#8260" class="Bound">z</a> <a id="8262" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8264" href="Bracketing.html#8264" class="Bound">¬z</a><a id="8266" class="Symbol">)</a> <a id="8268" class="Symbol">=</a>
  <a id="8272" href="Bracketing.html#5620" class="Function">match</a> <a id="8278" class="Symbol">(</a><a id="8279" href="Bracketing.html#7278" class="Function">matched-sym</a> <a id="8291" class="Symbol">(</a><a id="8292" href="Bracketing.html#8256" class="Bound">n</a> <a id="8294" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8296" href="Bracketing.html#8260" class="Bound">z</a> <a id="8298" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8300" href="Bracketing.html#8264" class="Bound">¬z</a><a id="8302" class="Symbol">))</a>                                  <a id="8338" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="8341" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="8346" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="8350" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="8356" class="Symbol">(</a><a id="8357" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="8365" class="Symbol">(</a><a id="8366" href="Z.html#6591" class="Function">fromℕ</a> <a id="8372" href="Bracketing.html#8256" class="Bound">n</a><a id="8373" class="Symbol">)</a> <a id="8375" class="Symbol">(</a><a id="8376" href="Arrows.html#2404" class="Function">fw</a> <a id="8379" class="Symbol">(</a><a id="8380" href="Bracketing.html#5620" class="Function">match</a> <a id="8386" href="Bracketing.html#8253" class="Bound">m</a><a id="8387" class="Symbol">)))</a>                          <a id="8416" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="8419" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="8424" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="8428" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="8434" class="Symbol">(</a><a id="8435" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="8443" class="Symbol">(</a><a id="8444" href="Z.html#6591" class="Function">fromℕ</a> <a id="8450" href="Bracketing.html#8256" class="Bound">n</a><a id="8451" class="Symbol">)</a> <a id="8453" class="Symbol">(</a><a id="8454" href="Arrows.html#2404" class="Function">fw</a> <a id="8457" class="Symbol">(</a><a id="8458" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="8464" class="Symbol">(</a><a id="8465" href="Bracketing.html#5508" class="Function">match-end</a> <a id="8475" href="Bracketing.html#8253" class="Bound">m</a><a id="8476" class="Symbol">))))</a>              <a id="8494" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="8497" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="8502" class="Symbol">(λ</a> <a id="8505" href="Bracketing.html#8505" class="Bound">e</a> <a id="8507" class="Symbol">→</a> <a id="8509" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="8515" class="Symbol">(</a><a id="8516" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="8524" class="Symbol">(</a><a id="8525" href="Z.html#6591" class="Function">fromℕ</a> <a id="8531" href="Bracketing.html#8256" class="Bound">n</a><a id="8532" class="Symbol">)</a> <a id="8534" class="Symbol">(</a><a id="8535" href="Arrows.html#2404" class="Function">fw</a> <a id="8538" class="Symbol">(</a><a id="8539" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="8545" href="Bracketing.html#8505" class="Bound">e</a><a id="8546" class="Symbol">))))</a> <a id="8551" class="Symbol">(</a><a id="8552" href="Bracketing.html#6574" class="Function">match-closing</a> <a id="8566" href="Bracketing.html#8253" class="Bound">m</a><a id="8567" class="Symbol">)</a> <a id="8569" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="8573" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="8579" class="Symbol">(</a><a id="8580" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="8588" class="Symbol">(</a><a id="8589" href="Z.html#6591" class="Function">fromℕ</a> <a id="8595" href="Bracketing.html#8256" class="Bound">n</a><a id="8596" class="Symbol">)</a> <a id="8598" class="Symbol">(</a><a id="8599" href="Arrows.html#2404" class="Function">fw</a> <a id="8602" class="Symbol">(</a><a id="8603" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="8609" class="Symbol">(</a><a id="8610" href="Arrows.html#2514" class="Function">bw</a> <a id="8613" class="Symbol">(</a><a id="8614" href="Bracketing.html#5620" class="Function">match</a> <a id="8620" href="Bracketing.html#8253" class="Bound">m</a><a id="8621" class="Symbol">)))))</a>             <a id="8639" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="8642" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="8647" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="8651" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="8657" class="Symbol">(</a><a id="8658" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="8666" class="Symbol">(</a><a id="8667" href="Z.html#6591" class="Function">fromℕ</a> <a id="8673" href="Bracketing.html#8256" class="Bound">n</a><a id="8674" class="Symbol">)</a> <a id="8676" class="Symbol">(</a><a id="8677" href="Arrows.html#1903" class="Function">op</a> <a id="8680" class="Symbol">(</a><a id="8681" href="Arrows.html#2514" class="Function">bw</a> <a id="8684" class="Symbol">(</a><a id="8685" href="Bracketing.html#5620" class="Function">match</a> <a id="8691" href="Bracketing.html#8253" class="Bound">m</a><a id="8692" class="Symbol">))))</a>                     <a id="8717" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="8720" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="8724" class="Symbol">(</a><a id="8725" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="8730" class="Symbol">(λ</a> <a id="8733" href="Bracketing.html#8733" class="Bound">e</a> <a id="8735" class="Symbol">→</a> <a id="8737" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="8743" class="Symbol">(</a><a id="8744" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="8752" class="Symbol">(</a><a id="8753" href="Z.html#6591" class="Function">fromℕ</a> <a id="8759" href="Bracketing.html#8256" class="Bound">n</a><a id="8760" class="Symbol">)</a> <a id="8762" class="Symbol">(</a><a id="8763" href="Arrows.html#1903" class="Function">op</a> <a id="8766" href="Bracketing.html#8733" class="Bound">e</a><a id="8767" class="Symbol">)))</a> <a id="8771" class="Symbol">(</a><a id="8772" href="Bracketing.html#6574" class="Function">match-closing</a> <a id="8786" href="Bracketing.html#8253" class="Bound">m</a><a id="8787" class="Symbol">))</a> <a id="8790" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="8794" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="8800" class="Symbol">(</a><a id="8801" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="8809" class="Symbol">(</a><a id="8810" href="Z.html#6591" class="Function">fromℕ</a> <a id="8816" href="Bracketing.html#8256" class="Bound">n</a><a id="8817" class="Symbol">)</a> <a id="8819" class="Symbol">(</a><a id="8820" href="Arrows.html#1903" class="Function">op</a> <a id="8823" class="Symbol">(</a><a id="8824" href="Bracketing.html#5508" class="Function">match-end</a> <a id="8834" href="Bracketing.html#8253" class="Bound">m</a><a id="8835" class="Symbol">)))</a>                      <a id="8860" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="8863" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="8868" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="8872" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="8878" class="Symbol">(</a><a id="8879" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="8887" class="Symbol">(</a><a id="8888" href="Z.html#6591" class="Function">fromℕ</a> <a id="8894" href="Bracketing.html#8256" class="Bound">n</a><a id="8895" class="Symbol">)</a> <a id="8897" class="Symbol">(</a><a id="8898" href="Arrows.html#1903" class="Function">op</a> <a id="8901" class="Symbol">(</a><a id="8902" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="8910" class="Symbol">(</a><a id="8911" href="Z.html#6591" class="Function">fromℕ</a> <a id="8917" href="Bracketing.html#8256" class="Bound">n</a><a id="8918" class="Symbol">)</a> <a id="8920" class="Symbol">(</a><a id="8921" href="Arrows.html#2404" class="Function">fw</a> <a id="8924" href="Bracketing.html#8250" class="Bound">a</a><a id="8925" class="Symbol">))))</a>         <a id="8938" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="8941" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="8946" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="8952" class="Symbol">(</a><a id="8953" href="Arrows.html#4756" class="Function">iterate-op</a> <a id="8964" class="Symbol">(</a><a id="8965" href="Z.html#6591" class="Function">fromℕ</a> <a id="8971" href="Bracketing.html#8256" class="Bound">n</a><a id="8972" class="Symbol">)</a> <a id="8974" class="Symbol">_)</a> <a id="8977" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="8981" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="8987" class="Symbol">(</a><a id="8988" href="Arrows.html#1903" class="Function">op</a> <a id="8991" class="Symbol">(</a><a id="8992" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="9000" class="Symbol">(</a><a id="9001" href="Z.html#5752" class="Function">ℤ.neg</a> <a id="9007" class="Symbol">(</a><a id="9008" href="Z.html#6591" class="Function">fromℕ</a> <a id="9014" href="Bracketing.html#8256" class="Bound">n</a><a id="9015" class="Symbol">))</a> <a id="9018" class="Symbol">(</a><a id="9019" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="9027" class="Symbol">(</a><a id="9028" href="Z.html#6591" class="Function">fromℕ</a> <a id="9034" href="Bracketing.html#8256" class="Bound">n</a><a id="9035" class="Symbol">)</a> <a id="9037" class="Symbol">(</a><a id="9038" href="Arrows.html#2404" class="Function">fw</a> <a id="9041" href="Bracketing.html#8250" class="Bound">a</a><a id="9042" class="Symbol">))))</a> <a id="9047" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="9050" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="9055" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="9059" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9065" class="Symbol">(</a><a id="9066" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="9074" class="Symbol">(</a><a id="9075" href="Z.html#5752" class="Function">ℤ.neg</a> <a id="9081" class="Symbol">(</a><a id="9082" href="Z.html#6591" class="Function">fromℕ</a> <a id="9088" href="Bracketing.html#8256" class="Bound">n</a><a id="9089" class="Symbol">))</a> <a id="9092" class="Symbol">(</a><a id="9093" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="9101" class="Symbol">(</a><a id="9102" href="Z.html#6591" class="Function">fromℕ</a> <a id="9108" href="Bracketing.html#8256" class="Bound">n</a><a id="9109" class="Symbol">)</a> <a id="9111" class="Symbol">(</a><a id="9112" href="Arrows.html#2404" class="Function">fw</a> <a id="9115" href="Bracketing.html#8250" class="Bound">a</a><a id="9116" class="Symbol">)))</a>      <a id="9125" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="9128" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="9133" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9139" class="Symbol">(</a><a id="9140" href="Arrows.html#4222" class="Function">iterate-+</a> <a id="9150" class="Symbol">(</a><a id="9151" href="Z.html#6591" class="Function">fromℕ</a> <a id="9157" href="Bracketing.html#8256" class="Bound">n</a><a id="9158" class="Symbol">)</a> <a id="9160" class="Symbol">(</a><a id="9161" href="Z.html#5752" class="Function">ℤ.neg</a> <a id="9167" class="Symbol">(</a><a id="9168" href="Z.html#6591" class="Function">fromℕ</a> <a id="9174" href="Bracketing.html#8256" class="Bound">n</a><a id="9175" class="Symbol">))</a> <a id="9178" class="Symbol">(</a><a id="9179" href="Arrows.html#2404" class="Function">fw</a> <a id="9182" href="Bracketing.html#8250" class="Bound">a</a><a id="9183" class="Symbol">))</a> <a id="9186" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="9190" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9196" class="Symbol">(</a><a id="9197" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="9205" class="Symbol">(</a><a id="9206" href="Z.html#6591" class="Function">fromℕ</a> <a id="9212" href="Bracketing.html#8256" class="Bound">n</a> <a id="9214" href="Z.html#6128" class="Function Operator">ℤ.-</a> <a id="9218" href="Z.html#6591" class="Function">fromℕ</a> <a id="9224" href="Bracketing.html#8256" class="Bound">n</a><a id="9225" class="Symbol">)</a> <a id="9227" class="Symbol">(</a><a id="9228" href="Arrows.html#2404" class="Function">fw</a> <a id="9231" href="Bracketing.html#8250" class="Bound">a</a><a id="9232" class="Symbol">))</a>                      <a id="9256" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="9259" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="9264" class="Symbol">(λ</a> <a id="9267" href="Bracketing.html#9267" class="Bound">n</a> <a id="9269" class="Symbol">→</a> <a id="9271" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9277" class="Symbol">(</a><a id="9278" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="9286" href="Bracketing.html#9267" class="Bound">n</a> <a id="9288" class="Symbol">(</a><a id="9289" href="Arrows.html#2404" class="Function">fw</a> <a id="9292" href="Bracketing.html#8250" class="Bound">a</a><a id="9293" class="Symbol">)))</a> <a id="9297" class="Symbol">(</a><a id="9298" href="Z.html#6175" class="Postulate">n-n≡0</a> <a id="9304" class="Symbol">(</a><a id="9305" href="Z.html#6591" class="Function">fromℕ</a> <a id="9311" href="Bracketing.html#8256" class="Bound">n</a><a id="9312" class="Symbol">))</a> <a id="9315" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="9319" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9325" class="Symbol">(</a><a id="9326" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="9334" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1047" class="InductiveConstructor">ℤ.zero</a> <a id="9341" class="Symbol">(</a><a id="9342" href="Arrows.html#2404" class="Function">fw</a> <a id="9345" href="Bracketing.html#8250" class="Bound">a</a><a id="9346" class="Symbol">))</a>                                     <a id="9385" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="9388" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="9393" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="9397" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9403" class="Symbol">(</a><a id="9404" href="Arrows.html#2404" class="Function">fw</a> <a id="9407" href="Bracketing.html#8250" class="Bound">a</a><a id="9408" class="Symbol">)</a>                                                      <a id="9463" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="9466" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="9471" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="9475" href="Bracketing.html#8250" class="Bound">a</a>                                                                 <a id="9541" href="Cubical.Foundations.Prelude.html#8499" class="Function Operator">∎</a>

<a id="9544" class="Comment">-- match-indep : {a b : Arrows} → reachable-arr a b → match</a>

<a id="well-bracketed-end"></a><a id="9605" href="Bracketing.html#9605" class="Function">well-bracketed-end</a> <a id="9624" class="Symbol">:</a> <a id="9626" href="ArrowsBase.html#801" class="Function">Ends</a> <a id="9631" class="Symbol">→</a> <a id="9633" href="Agda.Primitive.html#326" class="Primitive">Type₀</a>
<a id="9639" href="Bracketing.html#9605" class="Function">well-bracketed-end</a> <a id="9658" href="Bracketing.html#9658" class="Bound">e</a> <a id="9660" class="Symbol">=</a> <a id="9662" class="Symbol">(</a><a id="9663" href="Bracketing.html#9663" class="Bound">n</a> <a id="9665" class="Symbol">:</a> <a id="9667" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1024" class="Datatype">ℤ</a><a id="9668" class="Symbol">)</a> <a id="9670" class="Symbol">→</a> <a id="9672" href="Bracketing.html#4914" class="Function">matched</a> <a id="9680" class="Symbol">(</a><a id="9681" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9687" class="Symbol">(</a><a id="9688" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="9696" href="Bracketing.html#9663" class="Bound">n</a> <a id="9698" href="Bracketing.html#9658" class="Bound">e</a><a id="9699" class="Symbol">))</a>

<a id="well-bracketed-end-isProp"></a><a id="9703" href="Bracketing.html#9703" class="Function">well-bracketed-end-isProp</a> <a id="9729" class="Symbol">:</a> <a id="9731" class="Symbol">(</a><a id="9732" href="Bracketing.html#9732" class="Bound">a</a> <a id="9734" class="Symbol">:</a> <a id="9736" href="ArrowsBase.html#801" class="Function">Ends</a><a id="9740" class="Symbol">)</a> <a id="9742" class="Symbol">→</a> <a id="9744" href="Cubical.Foundations.Prelude.html#14010" class="Function">isProp</a> <a id="9751" class="Symbol">(</a><a id="9752" href="Bracketing.html#9605" class="Function">well-bracketed-end</a> <a id="9771" href="Bracketing.html#9732" class="Bound">a</a><a id="9772" class="Symbol">)</a>
<a id="9774" href="Bracketing.html#9703" class="Function">well-bracketed-end-isProp</a> <a id="9800" href="Bracketing.html#9800" class="Bound">a</a> <a id="9802" class="Symbol">=</a> <a id="9804" href="Cubical.Foundations.HLevels.html#16363" class="Function">isPropΠ</a> <a id="9812" class="Symbol">(λ</a> <a id="9815" href="Bracketing.html#9815" class="Bound">n</a> <a id="9817" class="Symbol">→</a> <a id="9819" href="Bracketing.html#5127" class="Function">matched-isProp</a> <a id="9834" class="Symbol">_)</a>

<a id="9838" class="Comment">-- being well-bracketed is independent of the starting point</a>
<a id="well-bracketed-end-indep"></a><a id="9899" href="Bracketing.html#9899" class="Function">well-bracketed-end-indep</a> <a id="9924" class="Symbol">:</a> <a id="9926" class="Symbol">(</a><a id="9927" href="Bracketing.html#9927" class="Bound">a</a> <a id="9929" href="Bracketing.html#9929" class="Bound">b</a> <a id="9931" class="Symbol">:</a> <a id="9933" href="ArrowsBase.html#801" class="Function">Ends</a><a id="9937" class="Symbol">)</a> <a id="9939" class="Symbol">→</a> <a id="9941" href="ArrowsBase.html#3192" class="Function">reachable</a> <a id="9951" href="Bracketing.html#9927" class="Bound">a</a> <a id="9953" href="Bracketing.html#9929" class="Bound">b</a> <a id="9955" class="Symbol">→</a> <a id="9957" href="Bracketing.html#9605" class="Function">well-bracketed-end</a> <a id="9976" href="Bracketing.html#9927" class="Bound">a</a> <a id="9978" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="9980" href="Bracketing.html#9605" class="Function">well-bracketed-end</a> <a id="9999" href="Bracketing.html#9929" class="Bound">b</a>
<a id="10001" href="Bracketing.html#9899" class="Function">well-bracketed-end-indep</a> <a id="10026" href="Bracketing.html#10026" class="Bound">a</a> <a id="10028" href="Bracketing.html#10028" class="Bound">b</a> <a id="10030" class="Symbol">(</a><a id="10031" href="Bracketing.html#10031" class="Bound">nr</a> <a id="10034" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="10036" href="Bracketing.html#10036" class="Bound">r</a><a id="10037" class="Symbol">)</a> <a id="10039" class="Symbol">=</a> <a id="10041" href="Cubical.Foundations.Univalence.html#928" class="Function">ua</a> <a id="10044" class="Symbol">(</a><a id="10045" href="Cubical.Foundations.Isomorphism.html#3127" class="Function">isoToEquiv</a> <a id="10056" href="Bracketing.html#10069" class="Function">i</a><a id="10057" class="Symbol">)</a>
  <a id="10061" class="Keyword">where</a>
  <a id="10069" href="Bracketing.html#10069" class="Function">i</a> <a id="10071" class="Symbol">:</a> <a id="10073" href="Cubical.Foundations.Isomorphism.html#773" class="Record">Iso</a> <a id="10077" class="Symbol">(</a><a id="10078" href="Bracketing.html#9605" class="Function">well-bracketed-end</a> <a id="10097" href="Bracketing.html#10026" class="Bound">a</a><a id="10098" class="Symbol">)</a> <a id="10100" class="Symbol">(</a><a id="10101" href="Bracketing.html#9605" class="Function">well-bracketed-end</a> <a id="10120" href="Bracketing.html#10028" class="Bound">b</a><a id="10121" class="Symbol">)</a>
  <a id="10125" href="Cubical.Foundations.Isomorphism.html#885" class="Field">Iso.fun</a> <a id="10133" href="Bracketing.html#10069" class="Function">i</a> <a id="10135" href="Bracketing.html#10135" class="Bound">f</a> <a id="10137" href="Bracketing.html#10137" class="Bound">n</a> <a id="10139" class="Symbol">=</a> <a id="10141" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="10147" class="Symbol">(</a><a id="10148" href="Bracketing.html#4914" class="Function">matched</a> <a id="10156" href="Cubical.Foundations.Function.html#526" class="Function Operator">∘</a> <a id="10158" href="ArrowsBase.html#887" class="Function">arrow</a><a id="10163" class="Symbol">)</a> <a id="10165" href="Bracketing.html#10196" class="Function">p</a> <a id="10167" class="Symbol">(</a><a id="10168" href="Bracketing.html#10135" class="Bound">f</a> <a id="10170" class="Symbol">(</a><a id="10171" href="Bracketing.html#10031" class="Bound">nr</a> <a id="10174" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="10178" href="Bracketing.html#10137" class="Bound">n</a><a id="10179" class="Symbol">))</a>
    <a id="10186" class="Keyword">where</a>
    <a id="10196" href="Bracketing.html#10196" class="Function">p</a> <a id="10198" class="Symbol">=</a>
      <a id="10206" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="10214" class="Symbol">(</a><a id="10215" href="Bracketing.html#10031" class="Bound">nr</a> <a id="10218" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="10222" href="Bracketing.html#10137" class="Bound">n</a><a id="10223" class="Symbol">)</a> <a id="10225" href="Bracketing.html#10026" class="Bound">a</a>     <a id="10231" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="10234" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="10238" class="Symbol">(</a><a id="10239" href="Arrows.html#4222" class="Function">iterate-+</a> <a id="10249" href="Bracketing.html#10031" class="Bound">nr</a> <a id="10252" href="Bracketing.html#10137" class="Bound">n</a> <a id="10254" href="Bracketing.html#10026" class="Bound">a</a><a id="10255" class="Symbol">)</a> <a id="10257" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="10265" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="10273" href="Bracketing.html#10137" class="Bound">n</a> <a id="10275" class="Symbol">(</a><a id="10276" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="10284" href="Bracketing.html#10031" class="Bound">nr</a> <a id="10287" href="Bracketing.html#10026" class="Bound">a</a><a id="10288" class="Symbol">)</a> <a id="10290" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="10293" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="10298" class="Symbol">(</a><a id="10299" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="10307" href="Bracketing.html#10137" class="Bound">n</a><a id="10308" class="Symbol">)</a> <a id="10310" href="Bracketing.html#10036" class="Bound">r</a> <a id="10312" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="10320" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="10328" href="Bracketing.html#10137" class="Bound">n</a> <a id="10330" href="Bracketing.html#10028" class="Bound">b</a>              <a id="10345" href="Cubical.Foundations.Prelude.html#8499" class="Function Operator">∎</a>
  <a id="10349" href="Cubical.Foundations.Isomorphism.html#901" class="Field">Iso.inv</a> <a id="10357" href="Bracketing.html#10069" class="Function">i</a> <a id="10359" href="Bracketing.html#10359" class="Bound">f</a> <a id="10361" href="Bracketing.html#10361" class="Bound">n</a> <a id="10363" class="Symbol">=</a> <a id="10365" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="10371" class="Symbol">(</a><a id="10372" href="Bracketing.html#4914" class="Function">matched</a> <a id="10380" href="Cubical.Foundations.Function.html#526" class="Function Operator">∘</a> <a id="10382" href="ArrowsBase.html#887" class="Function">arrow</a><a id="10387" class="Symbol">)</a> <a id="10389" href="Bracketing.html#10426" class="Function">p</a> <a id="10391" class="Symbol">(</a><a id="10392" href="Bracketing.html#10359" class="Bound">f</a> <a id="10394" class="Symbol">(</a><a id="10395" href="Z.html#5752" class="Function">ℤ.neg</a> <a id="10401" href="Bracketing.html#10031" class="Bound">nr</a> <a id="10404" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="10408" href="Bracketing.html#10361" class="Bound">n</a><a id="10409" class="Symbol">))</a>
    <a id="10416" class="Keyword">where</a>
    <a id="10426" href="Bracketing.html#10426" class="Function">p</a> <a id="10428" class="Symbol">=</a>
      <a id="10436" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="10444" class="Symbol">(</a><a id="10445" href="Z.html#5752" class="Function">ℤ.neg</a> <a id="10451" href="Bracketing.html#10031" class="Bound">nr</a> <a id="10454" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="10458" href="Bracketing.html#10361" class="Bound">n</a><a id="10459" class="Symbol">)</a> <a id="10461" href="Bracketing.html#10028" class="Bound">b</a>              <a id="10476" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="10479" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a><a id="10482" class="Symbol">(</a> <a id="10484" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="10489" class="Symbol">(</a><a id="10490" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="10498" class="Symbol">(</a><a id="10499" href="Z.html#5752" class="Function">ℤ.neg</a> <a id="10505" href="Bracketing.html#10031" class="Bound">nr</a> <a id="10508" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="10512" href="Bracketing.html#10361" class="Bound">n</a><a id="10513" class="Symbol">))</a> <a id="10516" href="Bracketing.html#10036" class="Bound">r</a><a id="10517" class="Symbol">)</a> <a id="10519" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="10527" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="10535" class="Symbol">(</a><a id="10536" href="Z.html#5752" class="Function">ℤ.neg</a> <a id="10542" href="Bracketing.html#10031" class="Bound">nr</a> <a id="10545" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="10549" href="Bracketing.html#10361" class="Bound">n</a><a id="10550" class="Symbol">)</a> <a id="10552" class="Symbol">(</a><a id="10553" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="10561" href="Bracketing.html#10031" class="Bound">nr</a> <a id="10564" href="Bracketing.html#10026" class="Bound">a</a><a id="10565" class="Symbol">)</a> <a id="10567" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="10570" href="Arrows.html#4222" class="Function">iterate-+</a> <a id="10580" href="Bracketing.html#10031" class="Bound">nr</a> <a id="10583" class="Symbol">_</a> <a id="10585" href="Bracketing.html#10026" class="Bound">a</a> <a id="10587" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="10595" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="10603" class="Symbol">(</a><a id="10604" href="Bracketing.html#10031" class="Bound">nr</a> <a id="10607" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="10611" class="Symbol">(</a><a id="10612" href="Z.html#5752" class="Function">ℤ.neg</a> <a id="10618" href="Bracketing.html#10031" class="Bound">nr</a> <a id="10621" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="10625" href="Bracketing.html#10361" class="Bound">n</a><a id="10626" class="Symbol">))</a> <a id="10629" href="Bracketing.html#10026" class="Bound">a</a>     <a id="10635" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="10638" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="10643" class="Symbol">(λ</a> <a id="10646" href="Bracketing.html#10646" class="Bound">n</a> <a id="10648" class="Symbol">→</a> <a id="10650" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="10658" href="Bracketing.html#10646" class="Bound">n</a> <a id="10660" href="Bracketing.html#10026" class="Bound">a</a><a id="10661" class="Symbol">)</a> <a id="10663" class="Symbol">(</a><a id="10664" href="Z.html#5217" class="Postulate">ℤ.+-assoc</a> <a id="10674" href="Bracketing.html#10031" class="Bound">nr</a> <a id="10677" class="Symbol">_</a> <a id="10679" class="Symbol">_)</a> <a id="10682" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="10690" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="10698" class="Symbol">((</a><a id="10700" href="Bracketing.html#10031" class="Bound">nr</a> <a id="10703" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="10707" href="Z.html#5752" class="Function">ℤ.neg</a> <a id="10713" href="Bracketing.html#10031" class="Bound">nr</a><a id="10715" class="Symbol">)</a> <a id="10717" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="10721" href="Bracketing.html#10361" class="Bound">n</a><a id="10722" class="Symbol">)</a> <a id="10724" href="Bracketing.html#10026" class="Bound">a</a>     <a id="10730" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="10733" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="10738" class="Symbol">(λ</a> <a id="10741" href="Bracketing.html#10741" class="Bound">m</a> <a id="10743" class="Symbol">→</a> <a id="10745" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="10753" class="Symbol">(</a><a id="10754" href="Bracketing.html#10741" class="Bound">m</a> <a id="10756" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="10760" href="Bracketing.html#10361" class="Bound">n</a><a id="10761" class="Symbol">)</a> <a id="10763" href="Bracketing.html#10026" class="Bound">a</a><a id="10764" class="Symbol">)</a> <a id="10766" class="Symbol">(</a><a id="10767" href="Z.html#6175" class="Postulate">ℤ.n-n≡0</a> <a id="10775" href="Bracketing.html#10031" class="Bound">nr</a><a id="10777" class="Symbol">)</a> <a id="10779" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="10787" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="10795" class="Symbol">(</a><a id="10796" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1047" class="InductiveConstructor">ℤ.zero</a> <a id="10803" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="10807" href="Bracketing.html#10361" class="Bound">n</a><a id="10808" class="Symbol">)</a> <a id="10810" href="Bracketing.html#10026" class="Bound">a</a>                <a id="10827" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="10830" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="10835" class="Symbol">(λ</a> <a id="10838" href="Bracketing.html#10838" class="Bound">n</a> <a id="10840" class="Symbol">→</a> <a id="10842" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="10850" href="Bracketing.html#10838" class="Bound">n</a> <a id="10852" href="Bracketing.html#10026" class="Bound">a</a><a id="10853" class="Symbol">)</a> <a id="10855" class="Symbol">(</a><a id="10856" href="Z.html#5306" class="Postulate">ℤ.zero-+</a> <a id="10865" href="Bracketing.html#10361" class="Bound">n</a><a id="10866" class="Symbol">)</a> <a id="10868" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="10876" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="10884" href="Bracketing.html#10361" class="Bound">n</a> <a id="10886" href="Bracketing.html#10026" class="Bound">a</a>                             <a id="10916" href="Cubical.Foundations.Prelude.html#8499" class="Function Operator">∎</a>
  <a id="10920" href="Cubical.Foundations.Isomorphism.html#917" class="Field">Iso.rightInv</a> <a id="10933" href="Bracketing.html#10069" class="Function">i</a> <a id="10935" href="Bracketing.html#10935" class="Bound">f</a> <a id="10937" class="Symbol">=</a> <a id="10939" href="Cubical.Foundations.Prelude.html#9899" class="Function">funExt</a> <a id="10946" class="Symbol">(λ</a> <a id="10949" href="Bracketing.html#10949" class="Bound">n</a> <a id="10951" class="Symbol">→</a> <a id="10953" href="Bracketing.html#5127" class="Function">matched-isProp</a> <a id="10968" class="Symbol">_</a> <a id="10970" class="Symbol">_</a> <a id="10972" class="Symbol">_)</a>
  <a id="10977" href="Cubical.Foundations.Isomorphism.html#948" class="Field">Iso.leftInv</a>  <a id="10990" href="Bracketing.html#10069" class="Function">i</a> <a id="10992" href="Bracketing.html#10992" class="Bound">f</a> <a id="10994" class="Symbol">=</a> <a id="10996" href="Cubical.Foundations.Prelude.html#9899" class="Function">funExt</a> <a id="11003" class="Symbol">(λ</a> <a id="11006" href="Bracketing.html#11006" class="Bound">n</a> <a id="11008" class="Symbol">→</a> <a id="11010" href="Bracketing.html#5127" class="Function">matched-isProp</a> <a id="11025" class="Symbol">_</a> <a id="11027" class="Symbol">_</a> <a id="11029" class="Symbol">_)</a>

<a id="11033" class="Comment">-- the type of well-bracketed directed chains</a>
<a id="well-bracketed-dchain"></a><a id="11079" href="Bracketing.html#11079" class="Function">well-bracketed-dchain</a> <a id="11101" class="Symbol">:</a> <a id="11103" class="Symbol">(</a><a id="11104" href="Bracketing.html#11104" class="Bound">c</a> <a id="11106" class="Symbol">:</a> <a id="11108" href="ArrowsBase.html#3514" class="Function">dChains</a><a id="11115" class="Symbol">)</a> <a id="11117" class="Symbol">→</a> <a id="11119" href="Agda.Primitive.html#326" class="Primitive">Type₀</a>
<a id="11125" href="Bracketing.html#11079" class="Function">well-bracketed-dchain</a> <a id="11147" href="Bracketing.html#11147" class="Bound">c</a> <a id="11149" class="Symbol">=</a> <a id="11151" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="11155" href="Bracketing.html#11254" class="Function">T</a>
  <a id="11159" class="Keyword">where</a>
  <a id="11167" href="Bracketing.html#11167" class="Function">wb</a> <a id="11170" class="Symbol">:</a> <a id="11172" href="ArrowsBase.html#801" class="Function">Ends</a> <a id="11177" class="Symbol">→</a> <a id="11179" href="Cubical.Foundations.HLevels.html#2018" class="Function">hProp</a> <a id="11185" href="Agda.Primitive.html#764" class="Primitive">ℓ-zero</a>
  <a id="11194" href="Bracketing.html#11167" class="Function">wb</a> <a id="11197" href="Bracketing.html#11197" class="Bound">a</a> <a id="11199" class="Symbol">=</a> <a id="11201" href="Bracketing.html#9605" class="Function">well-bracketed-end</a> <a id="11220" href="Bracketing.html#11197" class="Bound">a</a> <a id="11222" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11224" href="Bracketing.html#9703" class="Function">well-bracketed-end-isProp</a> <a id="11250" href="Bracketing.html#11197" class="Bound">a</a>
  <a id="11254" href="Bracketing.html#11254" class="Function">T</a> <a id="11256" class="Symbol">:</a> <a id="11258" href="Cubical.Foundations.HLevels.html#2018" class="Function">hProp</a> <a id="11264" href="Agda.Primitive.html#764" class="Primitive">ℓ-zero</a>
  <a id="11273" href="Bracketing.html#11254" class="Function">T</a> <a id="11275" class="Symbol">=</a> <a id="11277" href="Cubical.HITs.SetQuotients.Properties.html#2695" class="Function">[].elim</a> <a id="11285" class="Symbol">(λ</a> <a id="11288" href="Bracketing.html#11288" class="Bound">_</a> <a id="11290" class="Symbol">→</a> <a id="11292" href="Cubical.Foundations.HLevels.html#22223" class="Function">isSetHProp</a><a id="11302" class="Symbol">)</a> <a id="11304" href="Bracketing.html#11167" class="Function">wb</a> <a id="11307" class="Symbol">(λ</a> <a id="11310" href="Bracketing.html#11310" class="Bound">a</a> <a id="11312" href="Bracketing.html#11312" class="Bound">b</a> <a id="11314" href="Bracketing.html#11314" class="Bound">r</a> <a id="11316" class="Symbol">→</a> <a id="11318" href="Cubical.Data.Sigma.Properties.html#13039" class="Function">Σ≡Prop</a> <a id="11325" class="Symbol">(λ</a> <a id="11328" href="Bracketing.html#11328" class="Bound">_</a> <a id="11330" class="Symbol">→</a> <a id="11332" href="Cubical.Foundations.Prelude.html#18759" class="Function">isPropIsProp</a><a id="11344" class="Symbol">)</a> <a id="11346" class="Symbol">(</a><a id="11347" href="Bracketing.html#9899" class="Function">well-bracketed-end-indep</a> <a id="11372" href="Bracketing.html#11310" class="Bound">a</a> <a id="11374" href="Bracketing.html#11312" class="Bound">b</a> <a id="11376" class="Symbol">(</a><a id="11377" href="Arrows.html#17534" class="Function">reachable-reveal</a> <a id="11394" href="Bracketing.html#11314" class="Bound">r</a><a id="11395" class="Symbol">)))</a> <a id="11399" href="Bracketing.html#11147" class="Bound">c</a>

<a id="11402" class="Comment">-- being well-bracketed is independent of the direction</a>
<a id="well-bracketed-end-op"></a><a id="11458" href="Bracketing.html#11458" class="Function">well-bracketed-end-op</a> <a id="11480" class="Symbol">:</a> <a id="11482" class="Symbol">(</a><a id="11483" href="Bracketing.html#11483" class="Bound">a</a> <a id="11485" class="Symbol">:</a> <a id="11487" href="ArrowsBase.html#801" class="Function">Ends</a><a id="11491" class="Symbol">)</a> <a id="11493" class="Symbol">→</a> <a id="11495" href="Bracketing.html#9605" class="Function">well-bracketed-end</a> <a id="11514" class="Symbol">(</a><a id="11515" href="Arrows.html#1903" class="Function">op</a> <a id="11518" href="Bracketing.html#11483" class="Bound">a</a><a id="11519" class="Symbol">)</a> <a id="11521" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="11523" href="Bracketing.html#9605" class="Function">well-bracketed-end</a> <a id="11542" href="Bracketing.html#11483" class="Bound">a</a>
<a id="11544" href="Bracketing.html#11458" class="Function">well-bracketed-end-op</a> <a id="11566" href="Bracketing.html#11566" class="Bound">a</a> <a id="11568" class="Symbol">=</a> <a id="11570" href="Cubical.Foundations.Univalence.html#928" class="Function">ua</a> <a id="11573" class="Symbol">(</a><a id="11574" href="Cubical.Foundations.Isomorphism.html#3127" class="Function">isoToEquiv</a> <a id="11585" href="Bracketing.html#11598" class="Function">i</a><a id="11586" class="Symbol">)</a>
  <a id="11590" class="Keyword">where</a>
  <a id="11598" href="Bracketing.html#11598" class="Function">i</a> <a id="11600" class="Symbol">:</a> <a id="11602" href="Cubical.Foundations.Isomorphism.html#773" class="Record">Iso</a> <a id="11606" class="Symbol">(</a><a id="11607" href="Bracketing.html#9605" class="Function">well-bracketed-end</a> <a id="11626" class="Symbol">(</a><a id="11627" href="Arrows.html#1903" class="Function">op</a> <a id="11630" href="Bracketing.html#11566" class="Bound">a</a><a id="11631" class="Symbol">))</a> <a id="11634" class="Symbol">(</a><a id="11635" href="Bracketing.html#9605" class="Function">well-bracketed-end</a> <a id="11654" href="Bracketing.html#11566" class="Bound">a</a><a id="11655" class="Symbol">)</a>
  <a id="11659" href="Cubical.Foundations.Isomorphism.html#885" class="Field">Iso.fun</a> <a id="11667" href="Bracketing.html#11598" class="Function">i</a> <a id="11669" href="Bracketing.html#11669" class="Bound">f</a> <a id="11671" href="Bracketing.html#11671" class="Bound">n</a> <a id="11673" class="Symbol">=</a> <a id="11675" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="11681" href="Bracketing.html#4914" class="Function">matched</a> <a id="11689" href="Bracketing.html#11719" class="Function">p</a> <a id="11691" class="Symbol">(</a><a id="11692" href="Bracketing.html#11669" class="Bound">f</a> <a id="11694" class="Symbol">(</a><a id="11695" href="Z.html#5752" class="Function">ℤ.neg</a> <a id="11701" href="Bracketing.html#11671" class="Bound">n</a><a id="11702" class="Symbol">))</a>
    <a id="11709" class="Keyword">where</a>
    <a id="11719" href="Bracketing.html#11719" class="Function">p</a> <a id="11721" class="Symbol">=</a>
      <a id="11729" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="11735" class="Symbol">(</a><a id="11736" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="11744" class="Symbol">(</a><a id="11745" href="Z.html#5752" class="Function">ℤ.neg</a> <a id="11751" href="Bracketing.html#11671" class="Bound">n</a><a id="11752" class="Symbol">)</a> <a id="11754" class="Symbol">(</a><a id="11755" href="Arrows.html#1903" class="Function">op</a> <a id="11758" href="Bracketing.html#11566" class="Bound">a</a><a id="11759" class="Symbol">))</a> <a id="11762" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="11765" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="11770" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="11776" class="Symbol">(</a><a id="11777" href="Arrows.html#5265" class="Function">iterate-neg-op</a> <a id="11792" href="Bracketing.html#11671" class="Bound">n</a> <a id="11794" href="Bracketing.html#11566" class="Bound">a</a><a id="11795" class="Symbol">)</a> <a id="11797" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="11805" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="11811" class="Symbol">(</a><a id="11812" href="Arrows.html#1903" class="Function">op</a> <a id="11815" class="Symbol">(</a><a id="11816" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="11824" href="Bracketing.html#11671" class="Bound">n</a> <a id="11826" href="Bracketing.html#11566" class="Bound">a</a><a id="11827" class="Symbol">))</a>         <a id="11838" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="11841" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="11846" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="11854" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="11860" class="Symbol">(</a><a id="11861" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="11869" href="Bracketing.html#11671" class="Bound">n</a> <a id="11871" href="Bracketing.html#11566" class="Bound">a</a><a id="11872" class="Symbol">)</a>              <a id="11887" href="Cubical.Foundations.Prelude.html#8499" class="Function Operator">∎</a>
  <a id="11891" href="Cubical.Foundations.Isomorphism.html#901" class="Field">Iso.inv</a> <a id="11899" href="Bracketing.html#11598" class="Function">i</a> <a id="11901" href="Bracketing.html#11901" class="Bound">f</a> <a id="11903" href="Bracketing.html#11903" class="Bound">n</a> <a id="11905" class="Symbol">=</a> <a id="11907" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="11913" href="Bracketing.html#4914" class="Function">matched</a> <a id="11921" href="Bracketing.html#11951" class="Function">p</a> <a id="11923" class="Symbol">(</a><a id="11924" href="Bracketing.html#11901" class="Bound">f</a> <a id="11926" class="Symbol">(</a><a id="11927" href="Z.html#5752" class="Function">ℤ.neg</a> <a id="11933" href="Bracketing.html#11903" class="Bound">n</a><a id="11934" class="Symbol">))</a>
    <a id="11941" class="Keyword">where</a>
    <a id="11951" href="Bracketing.html#11951" class="Function">p</a> <a id="11953" class="Symbol">=</a>
      <a id="11961" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="11967" class="Symbol">(</a><a id="11968" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="11976" class="Symbol">(</a><a id="11977" href="Z.html#5752" class="Function">ℤ.neg</a> <a id="11983" href="Bracketing.html#11903" class="Bound">n</a><a id="11984" class="Symbol">)</a> <a id="11986" href="Bracketing.html#11566" class="Bound">a</a><a id="11987" class="Symbol">)</a>   <a id="11991" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="11994" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="11999" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="12005" class="Symbol">(</a><a id="12006" href="Arrows.html#5117" class="Function">iterate-neg</a> <a id="12018" href="Bracketing.html#11903" class="Bound">n</a> <a id="12020" href="Bracketing.html#11566" class="Bound">a</a><a id="12021" class="Symbol">)</a> <a id="12023" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="12031" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="12037" class="Symbol">(</a><a id="12038" href="Arrows.html#1903" class="Function">op</a> <a id="12041" class="Symbol">(</a><a id="12042" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="12050" href="Bracketing.html#11903" class="Bound">n</a> <a id="12052" class="Symbol">(</a><a id="12053" href="Arrows.html#1903" class="Function">op</a> <a id="12056" href="Bracketing.html#11566" class="Bound">a</a><a id="12057" class="Symbol">)))</a> <a id="12061" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="12064" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="12069" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="12077" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="12083" class="Symbol">(</a><a id="12084" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="12092" href="Bracketing.html#11903" class="Bound">n</a> <a id="12094" class="Symbol">(</a><a id="12095" href="Arrows.html#1903" class="Function">op</a> <a id="12098" href="Bracketing.html#11566" class="Bound">a</a><a id="12099" class="Symbol">))</a>      <a id="12107" href="Cubical.Foundations.Prelude.html#8499" class="Function Operator">∎</a>
  <a id="12111" href="Cubical.Foundations.Isomorphism.html#917" class="Field">Iso.rightInv</a> <a id="12124" href="Bracketing.html#11598" class="Function">i</a> <a id="12126" href="Bracketing.html#12126" class="Bound">f</a> <a id="12128" class="Symbol">=</a> <a id="12130" href="Cubical.Foundations.Prelude.html#9899" class="Function">funExt</a> <a id="12137" class="Symbol">(λ</a> <a id="12140" href="Bracketing.html#12140" class="Bound">n</a> <a id="12142" class="Symbol">→</a> <a id="12144" href="Bracketing.html#5127" class="Function">matched-isProp</a> <a id="12159" class="Symbol">_</a> <a id="12161" class="Symbol">_</a> <a id="12163" class="Symbol">_)</a>
  <a id="12168" href="Cubical.Foundations.Isomorphism.html#948" class="Field">Iso.leftInv</a>  <a id="12181" href="Bracketing.html#11598" class="Function">i</a> <a id="12183" href="Bracketing.html#12183" class="Bound">f</a> <a id="12185" class="Symbol">=</a> <a id="12187" href="Cubical.Foundations.Prelude.html#9899" class="Function">funExt</a> <a id="12194" class="Symbol">(λ</a> <a id="12197" href="Bracketing.html#12197" class="Bound">n</a> <a id="12199" class="Symbol">→</a> <a id="12201" href="Bracketing.html#5127" class="Function">matched-isProp</a> <a id="12216" class="Symbol">_</a> <a id="12218" class="Symbol">_</a> <a id="12220" class="Symbol">_)</a>

<a id="12224" class="Comment">-- the chain of a directed arrow is well-bracketed</a>
<a id="well-bracketed"></a><a id="12275" href="Bracketing.html#12275" class="Function">well-bracketed</a> <a id="12290" class="Symbol">:</a> <a id="12292" href="ArrowsBase.html#769" class="Function">Arrows</a> <a id="12299" class="Symbol">→</a> <a id="12301" href="Agda.Primitive.html#326" class="Primitive">Type₀</a>
<a id="12307" href="Bracketing.html#12275" class="Function">well-bracketed</a> <a id="12322" href="Bracketing.html#12322" class="Bound">a</a> <a id="12324" class="Symbol">=</a> <a id="12326" href="Bracketing.html#9605" class="Function">well-bracketed-end</a> <a id="12345" class="Symbol">(</a><a id="12346" href="Arrows.html#2404" class="Function">fw</a> <a id="12349" href="Bracketing.html#12322" class="Bound">a</a><a id="12350" class="Symbol">)</a>

<a id="well-bracketed-isProp"></a><a id="12353" href="Bracketing.html#12353" class="Function">well-bracketed-isProp</a> <a id="12375" class="Symbol">:</a> <a id="12377" class="Symbol">(</a><a id="12378" href="Bracketing.html#12378" class="Bound">a</a> <a id="12380" class="Symbol">:</a> <a id="12382" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="12388" class="Symbol">)</a> <a id="12390" class="Symbol">→</a> <a id="12392" href="Cubical.Foundations.Prelude.html#14010" class="Function">isProp</a> <a id="12399" class="Symbol">(</a><a id="12400" href="Bracketing.html#12275" class="Function">well-bracketed</a> <a id="12415" href="Bracketing.html#12378" class="Bound">a</a><a id="12416" class="Symbol">)</a>
<a id="12418" href="Bracketing.html#12353" class="Function">well-bracketed-isProp</a> <a id="12440" href="Bracketing.html#12440" class="Bound">a</a> <a id="12442" class="Symbol">=</a> <a id="12444" href="Bracketing.html#9703" class="Function">well-bracketed-end-isProp</a> <a id="12470" class="Symbol">(</a><a id="12471" href="Arrows.html#2404" class="Function">fw</a> <a id="12474" href="Bracketing.html#12440" class="Bound">a</a><a id="12475" class="Symbol">)</a>

<a id="12478" class="Comment">-- being well-bracketed is independent of the starting point</a>
<a id="well-bracketed-indep"></a><a id="12539" href="Bracketing.html#12539" class="Function">well-bracketed-indep</a> <a id="12560" class="Symbol">:</a> <a id="12562" class="Symbol">(</a><a id="12563" href="Bracketing.html#12563" class="Bound">a</a> <a id="12565" href="Bracketing.html#12565" class="Bound">b</a> <a id="12567" class="Symbol">:</a> <a id="12569" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="12575" class="Symbol">)</a> <a id="12577" class="Symbol">→</a> <a id="12579" href="Arrows.html#7695" class="Function">reachable-arr</a> <a id="12593" href="Bracketing.html#12563" class="Bound">a</a> <a id="12595" href="Bracketing.html#12565" class="Bound">b</a> <a id="12597" class="Symbol">→</a> <a id="12599" href="Bracketing.html#12275" class="Function">well-bracketed</a> <a id="12614" href="Bracketing.html#12563" class="Bound">a</a> <a id="12616" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="12618" href="Bracketing.html#12275" class="Function">well-bracketed</a> <a id="12633" href="Bracketing.html#12565" class="Bound">b</a>
<a id="12635" href="Bracketing.html#12539" class="Function">well-bracketed-indep</a> <a id="12656" href="Bracketing.html#12656" class="Bound">a</a> <a id="12658" href="Bracketing.html#12658" class="Bound">b</a> <a id="12660" href="Bracketing.html#12660" class="Bound">r</a> <a id="12662" class="Keyword">with</a> <a id="12667" href="Arrows.html#9235" class="Function">reachable-arr→reachable</a> <a id="12691" href="Bracketing.html#12660" class="Bound">r</a>
<a id="12693" class="Symbol">...</a> <a id="12697" class="Symbol">|</a> <a id="12699" href="Cubical.Data.Sum.Base.html#261" class="InductiveConstructor">inl</a> <a id="12703" href="Bracketing.html#12703" class="Bound">r&#39;</a> <a id="12706" class="Symbol">=</a> <a id="12708" href="Bracketing.html#9899" class="Function">well-bracketed-end-indep</a> <a id="12733" class="Symbol">(</a><a id="12734" href="Arrows.html#2404" class="Function">fw</a> <a id="12737" class="Bound">a</a><a id="12738" class="Symbol">)</a> <a id="12740" class="Symbol">(</a><a id="12741" href="Arrows.html#2404" class="Function">fw</a> <a id="12744" class="Bound">b</a><a id="12745" class="Symbol">)</a> <a id="12747" href="Bracketing.html#12703" class="Bound">r&#39;</a>
<a id="12750" class="Symbol">...</a> <a id="12754" class="Symbol">|</a> <a id="12756" href="Cubical.Data.Sum.Base.html#279" class="InductiveConstructor">inr</a> <a id="12760" href="Bracketing.html#12760" class="Bound">r&#39;</a> <a id="12763" class="Symbol">=</a> <a id="12765" href="Bracketing.html#9899" class="Function">well-bracketed-end-indep</a> <a id="12790" class="Symbol">(</a><a id="12791" href="Arrows.html#2404" class="Function">fw</a> <a id="12794" class="Bound">a</a><a id="12795" class="Symbol">)</a> <a id="12797" class="Symbol">(</a><a id="12798" href="Arrows.html#2514" class="Function">bw</a> <a id="12801" class="Bound">b</a><a id="12802" class="Symbol">)</a> <a id="12804" href="Bracketing.html#12760" class="Bound">r&#39;</a> <a id="12807" href="Cubical.Foundations.Prelude.html#4447" class="Function Operator">∙</a> <a id="12809" href="Bracketing.html#11458" class="Function">well-bracketed-end-op</a> <a id="12831" class="Symbol">(</a><a id="12832" href="Arrows.html#2404" class="Function">fw</a> <a id="12835" class="Bound">b</a><a id="12836" class="Symbol">)</a>

<a id="well-bracketed-chain-hProp"></a><a id="12839" href="Bracketing.html#12839" class="Function">well-bracketed-chain-hProp</a> <a id="12866" class="Symbol">:</a> <a id="12868" class="Symbol">(</a><a id="12869" href="Bracketing.html#12869" class="Bound">c</a> <a id="12871" class="Symbol">:</a> <a id="12873" href="Arrows.html#22514" class="Function">Chains</a><a id="12879" class="Symbol">)</a> <a id="12881" class="Symbol">→</a> <a id="12883" href="Cubical.Foundations.HLevels.html#2018" class="Function">hProp</a> <a id="12889" href="Agda.Primitive.html#764" class="Primitive">ℓ-zero</a>
<a id="12896" href="Bracketing.html#12839" class="Function">well-bracketed-chain-hProp</a> <a id="12923" href="Bracketing.html#12923" class="Bound">c</a> <a id="12925" class="Symbol">=</a> <a id="12927" href="Cubical.HITs.SetQuotients.Properties.html#2695" class="Function">[].elim</a> <a id="12935" class="Symbol">(λ</a> <a id="12938" href="Bracketing.html#12938" class="Bound">_</a> <a id="12940" class="Symbol">→</a> <a id="12942" href="Cubical.Foundations.HLevels.html#22223" class="Function">isSetHProp</a><a id="12952" class="Symbol">)</a> <a id="12954" class="Symbol">(λ</a> <a id="12957" href="Bracketing.html#12957" class="Bound">a</a> <a id="12959" class="Symbol">→</a> <a id="12961" href="Bracketing.html#12275" class="Function">well-bracketed</a> <a id="12976" href="Bracketing.html#12957" class="Bound">a</a> <a id="12978" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="12980" href="Bracketing.html#12353" class="Function">well-bracketed-isProp</a> <a id="13002" href="Bracketing.html#12957" class="Bound">a</a><a id="13003" class="Symbol">)</a> <a id="13005" href="Bracketing.html#13036" class="Function">indep</a> <a id="13011" href="Bracketing.html#12923" class="Bound">c</a>
  <a id="13015" class="Keyword">where</a>
  <a id="13023" class="Keyword">abstract</a>
    <a id="13036" href="Bracketing.html#13036" class="Function">indep</a> <a id="13042" class="Symbol">:</a> <a id="13044" class="Symbol">(</a><a id="13045" href="Bracketing.html#13045" class="Bound">a</a> <a id="13047" href="Bracketing.html#13047" class="Bound">b</a> <a id="13049" class="Symbol">:</a> <a id="13051" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="13057" class="Symbol">)</a> <a id="13059" class="Symbol">(</a><a id="13060" href="Bracketing.html#13060" class="Bound">r</a> <a id="13062" class="Symbol">:</a> <a id="13064" href="Arrows.html#10174" class="Function">is-reachable-arr</a> <a id="13081" href="Bracketing.html#13045" class="Bound">a</a> <a id="13083" href="Bracketing.html#13047" class="Bound">b</a><a id="13084" class="Symbol">)</a> <a id="13086" class="Symbol">→</a> <a id="13088" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">_≡_</a> <a id="13092" class="Symbol">{</a><a id="13093" class="Argument">A</a> <a id="13095" class="Symbol">=</a> <a id="13097" href="Cubical.Foundations.HLevels.html#2018" class="Function">hProp</a> <a id="13103" href="Agda.Primitive.html#764" class="Primitive">ℓ-zero</a><a id="13109" class="Symbol">}</a> <a id="13111" class="Symbol">(</a><a id="13112" href="Bracketing.html#12275" class="Function">well-bracketed</a> <a id="13127" href="Bracketing.html#13045" class="Bound">a</a> <a id="13129" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13131" href="Bracketing.html#12353" class="Function">well-bracketed-isProp</a> <a id="13153" href="Bracketing.html#13045" class="Bound">a</a><a id="13154" class="Symbol">)</a> <a id="13156" class="Symbol">(</a><a id="13157" href="Bracketing.html#12275" class="Function">well-bracketed</a> <a id="13172" href="Bracketing.html#13047" class="Bound">b</a> <a id="13174" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13176" href="Bracketing.html#12353" class="Function">well-bracketed-isProp</a> <a id="13198" href="Bracketing.html#13047" class="Bound">b</a><a id="13199" class="Symbol">)</a>
    <a id="13205" href="Bracketing.html#13036" class="Function">indep</a> <a id="13211" class="Symbol">=</a> <a id="13213" class="Symbol">(λ</a> <a id="13216" href="Bracketing.html#13216" class="Bound">a</a> <a id="13218" href="Bracketing.html#13218" class="Bound">b</a> <a id="13220" href="Bracketing.html#13220" class="Bound">r</a> <a id="13222" class="Symbol">→</a> <a id="13224" href="Cubical.Data.Sigma.Properties.html#13039" class="Function">Σ≡Prop</a> <a id="13231" class="Symbol">(λ</a> <a id="13234" href="Bracketing.html#13234" class="Bound">_</a> <a id="13236" class="Symbol">→</a> <a id="13238" href="Cubical.Foundations.Prelude.html#18759" class="Function">isPropIsProp</a><a id="13250" class="Symbol">)</a> <a id="13252" class="Symbol">(</a><a id="13253" href="Bracketing.html#12539" class="Function">well-bracketed-indep</a> <a id="13274" href="Bracketing.html#13216" class="Bound">a</a> <a id="13276" href="Bracketing.html#13218" class="Bound">b</a> <a id="13278" class="Symbol">(</a><a id="13279" href="Arrows.html#16428" class="Function">reachable-arr-reveal</a> <a id="13300" href="Bracketing.html#13220" class="Bound">r</a><a id="13301" class="Symbol">)))</a>

<a id="13306" class="Comment">-- the chain of an arrow is well-bracketed</a>
<a id="well-bracketed-chain"></a><a id="13349" href="Bracketing.html#13349" class="Function">well-bracketed-chain</a> <a id="13370" class="Symbol">:</a> <a id="13372" class="Symbol">(</a><a id="13373" href="Bracketing.html#13373" class="Bound">c</a> <a id="13375" class="Symbol">:</a> <a id="13377" href="Arrows.html#22514" class="Function">Chains</a><a id="13383" class="Symbol">)</a> <a id="13385" class="Symbol">→</a> <a id="13387" href="Agda.Primitive.html#326" class="Primitive">Type₀</a>
<a id="13393" href="Bracketing.html#13349" class="Function">well-bracketed-chain</a> <a id="13414" href="Bracketing.html#13414" class="Bound">c</a> <a id="13416" class="Symbol">=</a> <a id="13418" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="13422" class="Symbol">(</a><a id="13423" href="Bracketing.html#12839" class="Function">well-bracketed-chain-hProp</a> <a id="13450" href="Bracketing.html#13414" class="Bound">c</a><a id="13451" class="Symbol">)</a>

<a id="well-bracketed-chain-isProp"></a><a id="13454" href="Bracketing.html#13454" class="Function">well-bracketed-chain-isProp</a> <a id="13482" class="Symbol">:</a> <a id="13484" class="Symbol">(</a><a id="13485" href="Bracketing.html#13485" class="Bound">c</a> <a id="13487" class="Symbol">:</a> <a id="13489" href="Arrows.html#22514" class="Function">Chains</a><a id="13495" class="Symbol">)</a> <a id="13497" class="Symbol">→</a> <a id="13499" href="Cubical.Foundations.Prelude.html#14010" class="Function">isProp</a> <a id="13506" class="Symbol">(</a><a id="13507" href="Bracketing.html#13349" class="Function">well-bracketed-chain</a> <a id="13528" href="Bracketing.html#13485" class="Bound">c</a><a id="13529" class="Symbol">)</a>
<a id="13531" href="Bracketing.html#13454" class="Function">well-bracketed-chain-isProp</a> <a id="13559" href="Bracketing.html#13559" class="Bound">c</a> <a id="13561" class="Symbol">=</a> <a id="13563" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="13567" class="Symbol">(</a><a id="13568" href="Bracketing.html#12839" class="Function">well-bracketed-chain-hProp</a> <a id="13595" href="Bracketing.html#13559" class="Bound">c</a><a id="13596" class="Symbol">)</a>

<a id="13599" class="Comment">-- matched arrows are at even distance (it is stated odd because matched takes</a>
<a id="13678" class="Comment">-- the successor of the number)</a>
<a id="matched-odd"></a><a id="13710" href="Bracketing.html#13710" class="Function">matched-odd</a> <a id="13722" class="Symbol">:</a> <a id="13724" class="Symbol">{</a><a id="13725" href="Bracketing.html#13725" class="Bound">a</a> <a id="13727" class="Symbol">:</a> <a id="13729" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="13735" class="Symbol">}</a> <a id="13737" class="Symbol">(</a><a id="13738" href="Bracketing.html#13738" class="Bound">m</a> <a id="13740" class="Symbol">:</a> <a id="13742" href="Bracketing.html#4914" class="Function">matched</a> <a id="13750" href="Bracketing.html#13725" class="Bound">a</a><a id="13751" class="Symbol">)</a> <a id="13753" class="Symbol">→</a> <a id="13755" href="Nat.html#376" class="Datatype">ℕ.is-odd</a> <a id="13764" class="Symbol">(</a><a id="13765" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="13769" href="Bracketing.html#13738" class="Bound">m</a><a id="13770" class="Symbol">)</a>
<a id="13772" href="Bracketing.html#13710" class="Function">matched-odd</a> <a id="13784" class="Symbol">{</a><a id="13785" href="Bracketing.html#13785" class="Bound">a</a><a id="13786" class="Symbol">}</a> <a id="13788" class="Symbol">(</a><a id="13789" href="Bracketing.html#13789" class="Bound">n</a> <a id="13791" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13793" href="Bracketing.html#13793" class="Bound">z</a> <a id="13795" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13797" href="Bracketing.html#13797" class="Bound">¬z</a><a id="13799" class="Symbol">)</a> <a id="13801" class="Keyword">with</a> <a id="13806" href="Nat.html#1093" class="Function">ℕ.parity</a> <a id="13815" href="Bracketing.html#13789" class="Bound">n</a>
<a id="13817" class="Symbol">...</a> <a id="13821" class="Symbol">|</a> <a id="13823" href="Cubical.Data.Sum.Base.html#279" class="InductiveConstructor">inr</a> <a id="13827" href="Bracketing.html#13827" class="Bound">odd</a> <a id="13831" class="Symbol">=</a> <a id="13833" href="Bracketing.html#13827" class="Bound">odd</a>
<a id="13837" class="Symbol">...</a> <a id="13841" class="Symbol">|</a> <a id="13843" href="Cubical.Data.Sum.Base.html#261" class="InductiveConstructor">inl</a> <a id="13847" href="Bracketing.html#13847" class="Bound">even</a> <a id="13852" class="Symbol">=</a> <a id="13854" href="Cubical.Data.Empty.Base.html#269" class="Function">⊥.elim</a> <a id="13861" class="Symbol">(</a><a id="13862" href="Z.html#8793" class="Postulate">ℤ.even-or-odd</a> <a id="13876" class="Symbol">(</a><a id="13877" href="Bracketing.html#1755" class="Function">height</a> <a id="13884" class="Bound">n</a> <a id="13886" class="Symbol">(</a><a id="13887" href="Arrows.html#2404" class="Function">fw</a> <a id="13890" class="Bound">a</a><a id="13891" class="Symbol">))</a> <a id="13894" class="Symbol">(</a><a id="13895" href="Bracketing.html#14536" class="Function">lem-even</a> <a id="13904" class="Symbol">(</a><a id="13905" href="Arrows.html#2404" class="Function">fw</a> <a id="13908" class="Bound">a</a><a id="13909" class="Symbol">)</a> <a id="13911" class="Bound">n</a> <a id="13913" href="Bracketing.html#13847" class="Bound">even</a> <a id="13918" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13920" href="Z.html#9100" class="Postulate">even-suc-inv</a> <a id="13933" class="Symbol">(</a><a id="13934" href="Bracketing.html#1755" class="Function">height</a> <a id="13941" class="Bound">n</a> <a id="13943" class="Symbol">(</a><a id="13944" href="Arrows.html#2404" class="Function">fw</a> <a id="13947" class="Bound">a</a><a id="13948" class="Symbol">))</a> <a id="13951" class="Symbol">(</a><a id="13952" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="13958" href="Z.html#7878" class="Datatype">ℤ.is-even</a> <a id="13968" class="Symbol">(</a><a id="13969" href="Z.html#5521" class="Postulate">ℤ.+1-suc</a> <a id="13978" class="Symbol">(</a><a id="13979" href="Bracketing.html#1755" class="Function">height</a> <a id="13986" class="Bound">n</a> <a id="13988" class="Symbol">(</a><a id="13989" href="Arrows.html#2404" class="Function">fw</a> <a id="13992" class="Bound">a</a><a id="13993" class="Symbol">)))</a> <a id="13997" class="Hole">{!!}</a><a id="14001" class="Symbol">)))</a>
  <a id="14007" class="Keyword">where</a>
  <a id="14015" href="Bracketing.html#14015" class="Function">even-hw</a> <a id="14023" class="Symbol">:</a> <a id="14025" class="Symbol">(</a><a id="14026" href="Bracketing.html#14026" class="Bound">n</a> <a id="14028" class="Symbol">:</a> <a id="14030" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="14031" class="Symbol">)</a> <a id="14033" class="Symbol">(</a><a id="14034" href="Bracketing.html#14034" class="Bound">o</a> <a id="14036" href="Bracketing.html#14036" class="Bound">o&#39;</a> <a id="14039" class="Symbol">:</a> <a id="14041" href="ArrowsBase.html#801" class="Function">Ends</a><a id="14045" class="Symbol">)</a> <a id="14047" class="Symbol">→</a> <a id="14049" href="Z.html#7903" class="Datatype">ℤ.is-odd</a> <a id="14058" class="Symbol">(</a><a id="14059" href="Bracketing.html#1755" class="Function">height</a> <a id="14066" href="Bracketing.html#14026" class="Bound">n</a> <a id="14068" href="Bracketing.html#14034" class="Bound">o</a><a id="14069" class="Symbol">)</a> <a id="14071" class="Symbol">→</a> <a id="14073" href="Z.html#7878" class="Datatype">ℤ.is-even</a> <a id="14083" class="Symbol">(</a><a id="14084" href="Bracketing.html#1755" class="Function">height</a> <a id="14091" href="Bracketing.html#14026" class="Bound">n</a> <a id="14093" href="Bracketing.html#14034" class="Bound">o</a> <a id="14095" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="14099" href="Bracketing.html#1179" class="Function">weight</a> <a id="14106" href="Bracketing.html#14036" class="Bound">o&#39;</a><a id="14108" class="Symbol">)</a>
  <a id="14112" href="Bracketing.html#14015" class="Function">even-hw</a> <a id="14120" href="Bracketing.html#14120" class="Bound">n</a> <a id="14122" href="Bracketing.html#14122" class="Bound">o</a> <a id="14124" class="Symbol">(</a><a id="14125" href="Bracketing.html#14125" class="Bound">o&#39;</a> <a id="14128" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14130" href="Ends.html#341" class="InductiveConstructor">src</a><a id="14133" class="Symbol">)</a> <a id="14135" href="Bracketing.html#14135" class="Bound">odd</a> <a id="14139" class="Symbol">=</a> <a id="14141" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="14147" href="Z.html#7878" class="Datatype">ℤ.is-even</a> <a id="14157" class="Symbol">(</a><a id="14158" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="14162" class="Symbol">(</a><a id="14163" href="Z.html#5521" class="Postulate">ℤ.+1-suc</a> <a id="14172" class="Symbol">_))</a> <a id="14176" class="Symbol">(</a><a id="14177" href="Z.html#7973" class="InductiveConstructor">even-suc</a> <a id="14186" href="Bracketing.html#14135" class="Bound">odd</a><a id="14189" class="Symbol">)</a>
  <a id="14193" href="Bracketing.html#14015" class="Function">even-hw</a> <a id="14201" href="Bracketing.html#14201" class="Bound">n</a> <a id="14203" href="Bracketing.html#14203" class="Bound">o</a> <a id="14205" class="Symbol">(</a><a id="14206" href="Bracketing.html#14206" class="Bound">o&#39;</a> <a id="14209" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14211" href="Ends.html#353" class="InductiveConstructor">tgt</a><a id="14214" class="Symbol">)</a> <a id="14216" href="Bracketing.html#14216" class="Bound">odd</a> <a id="14220" class="Symbol">=</a> <a id="14222" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="14228" href="Z.html#7878" class="Datatype">ℤ.is-even</a> <a id="14238" class="Symbol">(</a><a id="14239" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="14243" class="Symbol">(</a><a id="14244" href="Z.html#6208" class="Postulate">ℤ.-1-pred</a> <a id="14254" class="Symbol">_))</a> <a id="14258" class="Symbol">(</a><a id="14259" href="Z.html#8025" class="InductiveConstructor">even-predl</a> <a id="14270" href="Bracketing.html#14216" class="Bound">odd</a><a id="14273" class="Symbol">)</a>
  <a id="14277" href="Bracketing.html#14277" class="Function">odd-hw</a> <a id="14284" class="Symbol">:</a> <a id="14286" class="Symbol">(</a><a id="14287" href="Bracketing.html#14287" class="Bound">n</a> <a id="14289" class="Symbol">:</a> <a id="14291" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="14292" class="Symbol">)</a> <a id="14294" class="Symbol">(</a><a id="14295" href="Bracketing.html#14295" class="Bound">o</a> <a id="14297" href="Bracketing.html#14297" class="Bound">o&#39;</a> <a id="14300" class="Symbol">:</a> <a id="14302" href="ArrowsBase.html#801" class="Function">Ends</a><a id="14306" class="Symbol">)</a> <a id="14308" class="Symbol">→</a> <a id="14310" href="Z.html#7878" class="Datatype">ℤ.is-even</a> <a id="14320" class="Symbol">(</a><a id="14321" href="Bracketing.html#1755" class="Function">height</a> <a id="14328" href="Bracketing.html#14287" class="Bound">n</a> <a id="14330" href="Bracketing.html#14295" class="Bound">o</a><a id="14331" class="Symbol">)</a> <a id="14333" class="Symbol">→</a> <a id="14335" href="Z.html#7903" class="Datatype">ℤ.is-odd</a> <a id="14344" class="Symbol">(</a><a id="14345" href="Bracketing.html#1755" class="Function">height</a> <a id="14352" href="Bracketing.html#14287" class="Bound">n</a> <a id="14354" href="Bracketing.html#14295" class="Bound">o</a> <a id="14356" href="Z.html#5015" class="Function Operator">ℤ.+</a> <a id="14360" href="Bracketing.html#1179" class="Function">weight</a> <a id="14367" href="Bracketing.html#14297" class="Bound">o&#39;</a><a id="14369" class="Symbol">)</a>
  <a id="14373" href="Bracketing.html#14277" class="Function">odd-hw</a> <a id="14380" href="Bracketing.html#14380" class="Bound">n</a> <a id="14382" href="Bracketing.html#14382" class="Bound">o</a> <a id="14384" class="Symbol">(</a><a id="14385" href="Bracketing.html#14385" class="Bound">o&#39;</a> <a id="14388" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14390" href="Ends.html#341" class="InductiveConstructor">src</a><a id="14393" class="Symbol">)</a> <a id="14395" href="Bracketing.html#14395" class="Bound">even</a> <a id="14400" class="Symbol">=</a> <a id="14402" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="14408" href="Z.html#7903" class="Datatype">ℤ.is-odd</a> <a id="14417" class="Symbol">(</a><a id="14418" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="14422" class="Symbol">(</a><a id="14423" href="Z.html#5521" class="Postulate">ℤ.+1-suc</a> <a id="14432" class="Symbol">_))</a> <a id="14436" class="Symbol">(</a><a id="14437" href="Z.html#8152" class="InductiveConstructor">odd-suc</a> <a id="14445" href="Bracketing.html#14395" class="Bound">even</a><a id="14449" class="Symbol">)</a>
  <a id="14453" href="Bracketing.html#14277" class="Function">odd-hw</a> <a id="14460" href="Bracketing.html#14460" class="Bound">n</a> <a id="14462" href="Bracketing.html#14462" class="Bound">o</a> <a id="14464" class="Symbol">(</a><a id="14465" href="Bracketing.html#14465" class="Bound">o&#39;</a> <a id="14468" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14470" href="Ends.html#353" class="InductiveConstructor">tgt</a><a id="14473" class="Symbol">)</a> <a id="14475" href="Bracketing.html#14475" class="Bound">even</a> <a id="14480" class="Symbol">=</a> <a id="14482" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="14488" href="Z.html#7903" class="Datatype">ℤ.is-odd</a> <a id="14497" class="Symbol">(</a><a id="14498" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="14502" class="Symbol">(</a><a id="14503" href="Z.html#6208" class="Postulate">ℤ.-1-pred</a> <a id="14513" class="Symbol">_))</a> <a id="14517" class="Symbol">(</a><a id="14518" href="Z.html#8203" class="InductiveConstructor">odd-predl</a> <a id="14528" href="Bracketing.html#14475" class="Bound">even</a><a id="14532" class="Symbol">)</a>
  <a id="14536" href="Bracketing.html#14536" class="Function">lem-even</a> <a id="14545" class="Symbol">:</a> <a id="14547" class="Symbol">(</a><a id="14548" href="Bracketing.html#14548" class="Bound">o</a> <a id="14550" class="Symbol">:</a> <a id="14552" href="ArrowsBase.html#801" class="Function">Ends</a><a id="14556" class="Symbol">)</a> <a id="14558" class="Symbol">(</a><a id="14559" href="Bracketing.html#14559" class="Bound">n</a> <a id="14561" class="Symbol">:</a> <a id="14563" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="14564" class="Symbol">)</a> <a id="14566" class="Symbol">→</a> <a id="14568" href="Nat.html#351" class="Datatype">ℕ.is-even</a> <a id="14578" href="Bracketing.html#14559" class="Bound">n</a> <a id="14580" class="Symbol">→</a> <a id="14582" href="Z.html#7878" class="Datatype">ℤ.is-even</a> <a id="14592" class="Symbol">(</a><a id="14593" href="Bracketing.html#1755" class="Function">height</a> <a id="14600" href="Bracketing.html#14559" class="Bound">n</a> <a id="14602" href="Bracketing.html#14548" class="Bound">o</a><a id="14603" class="Symbol">)</a>
  <a id="14607" href="Bracketing.html#14607" class="Function">lem-odd</a>  <a id="14616" class="Symbol">:</a> <a id="14618" class="Symbol">(</a><a id="14619" href="Bracketing.html#14619" class="Bound">o</a> <a id="14621" class="Symbol">:</a> <a id="14623" href="ArrowsBase.html#801" class="Function">Ends</a><a id="14627" class="Symbol">)</a> <a id="14629" class="Symbol">(</a><a id="14630" href="Bracketing.html#14630" class="Bound">n</a> <a id="14632" class="Symbol">:</a> <a id="14634" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="14635" class="Symbol">)</a> <a id="14637" class="Symbol">→</a> <a id="14639" href="Nat.html#376" class="Datatype">ℕ.is-odd</a> <a id="14648" href="Bracketing.html#14630" class="Bound">n</a> <a id="14650" class="Symbol">→</a> <a id="14652" href="Z.html#7903" class="Datatype">ℤ.is-odd</a> <a id="14661" class="Symbol">(</a><a id="14662" href="Bracketing.html#1755" class="Function">height</a> <a id="14669" href="Bracketing.html#14630" class="Bound">n</a> <a id="14671" href="Bracketing.html#14619" class="Bound">o</a><a id="14672" class="Symbol">)</a>
  <a id="14676" href="Bracketing.html#14536" class="Function">lem-even</a> <a id="14685" href="Bracketing.html#14685" class="Bound">o</a> <a id="14687" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a> <a id="14692" href="Bracketing.html#14692" class="Bound">p</a> <a id="14694" class="Symbol">=</a> <a id="14696" href="Z.html#7945" class="InductiveConstructor">even-zero</a>
  <a id="14708" href="Bracketing.html#14536" class="Function">lem-even</a> <a id="14717" href="Bracketing.html#14717" class="Bound">o</a> <a id="14719" class="Symbol">(</a><a id="14720" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="14724" href="Bracketing.html#14724" class="Bound">n</a><a id="14725" class="Symbol">)</a> <a id="14727" href="Bracketing.html#14727" class="Bound">p</a> <a id="14729" class="Symbol">=</a> <a id="14731" href="Bracketing.html#14015" class="Function">even-hw</a> <a id="14739" href="Bracketing.html#14724" class="Bound">n</a> <a id="14741" href="Bracketing.html#14717" class="Bound">o</a> <a id="14743" class="Symbol">(</a><a id="14744" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="14752" class="Symbol">(</a><a id="14753" href="Z.html#6591" class="Function">fromℕ</a> <a id="14759" href="Bracketing.html#14724" class="Bound">n</a><a id="14760" class="Symbol">)</a> <a id="14762" href="Bracketing.html#14717" class="Bound">o</a><a id="14763" class="Symbol">)</a> <a id="14765" class="Symbol">(</a><a id="14766" href="Bracketing.html#14607" class="Function">lem-odd</a> <a id="14774" href="Bracketing.html#14717" class="Bound">o</a> <a id="14776" href="Bracketing.html#14724" class="Bound">n</a> <a id="14778" class="Symbol">(</a><a id="14779" href="Nat.html#942" class="Function">odd-pred</a> <a id="14788" href="Bracketing.html#14727" class="Bound">p</a><a id="14789" class="Symbol">))</a>
  <a id="14794" href="Bracketing.html#14607" class="Function">lem-odd</a> <a id="14802" href="Bracketing.html#14802" class="Bound">o</a> <a id="14804" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a> <a id="14809" href="Bracketing.html#14809" class="Bound">p</a> <a id="14811" class="Symbol">=</a> <a id="14813" href="Cubical.Data.Empty.Base.html#269" class="Function">⊥.elim</a> <a id="14820" class="Symbol">(</a><a id="14821" href="Nat.html#900" class="Function">¬odd-zero</a> <a id="14831" href="Bracketing.html#14809" class="Bound">p</a><a id="14832" class="Symbol">)</a>
  <a id="14836" href="Bracketing.html#14607" class="Function">lem-odd</a> <a id="14844" href="Bracketing.html#14844" class="Bound">o</a> <a id="14846" class="Symbol">(</a><a id="14847" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="14851" href="Bracketing.html#14851" class="Bound">n</a><a id="14852" class="Symbol">)</a> <a id="14854" href="Bracketing.html#14854" class="Bound">p</a> <a id="14856" class="Symbol">=</a> <a id="14858" href="Bracketing.html#14277" class="Function">odd-hw</a> <a id="14865" href="Bracketing.html#14851" class="Bound">n</a> <a id="14867" href="Bracketing.html#14844" class="Bound">o</a> <a id="14869" class="Symbol">(</a><a id="14870" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="14878" class="Symbol">(</a><a id="14879" href="Z.html#6591" class="Function">fromℕ</a> <a id="14885" href="Bracketing.html#14851" class="Bound">n</a><a id="14886" class="Symbol">)</a> <a id="14888" href="Bracketing.html#14844" class="Bound">o</a><a id="14889" class="Symbol">)</a> <a id="14891" class="Symbol">(</a><a id="14892" href="Bracketing.html#14536" class="Function">lem-even</a> <a id="14901" href="Bracketing.html#14844" class="Bound">o</a> <a id="14903" href="Bracketing.html#14851" class="Bound">n</a> <a id="14905" class="Symbol">(</a><a id="14906" href="Nat.html#1017" class="Function">even-pred</a> <a id="14916" href="Bracketing.html#14854" class="Bound">p</a><a id="14917" class="Symbol">))</a>

<a id="14921" class="Comment">-- match swaps the A/B component</a>
<a id="match-lr"></a><a id="14954" href="Bracketing.html#14954" class="Function">match-lr</a> <a id="14963" class="Symbol">:</a> <a id="14965" class="Symbol">{</a><a id="14966" href="Bracketing.html#14966" class="Bound">a</a> <a id="14968" class="Symbol">:</a> <a id="14970" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="14976" class="Symbol">}</a> <a id="14978" class="Symbol">(</a><a id="14979" href="Bracketing.html#14979" class="Bound">m</a> <a id="14981" class="Symbol">:</a> <a id="14983" href="Bracketing.html#4914" class="Function">matched</a> <a id="14991" href="Bracketing.html#14966" class="Bound">a</a><a id="14992" class="Symbol">)</a> <a id="14994" class="Symbol">→</a> <a id="14996" href="Misc.html#9390" class="Datatype">in-left</a> <a id="15004" href="Bracketing.html#14966" class="Bound">a</a> <a id="15006" class="Symbol">→</a> <a id="15008" href="Misc.html#9517" class="Datatype">in-right</a> <a id="15017" class="Symbol">(</a><a id="15018" href="Bracketing.html#5620" class="Function">match</a> <a id="15024" href="Bracketing.html#14979" class="Bound">m</a><a id="15025" class="Symbol">)</a>
<a id="15027" href="Bracketing.html#14954" class="Function">match-lr</a> <a id="15036" href="Bracketing.html#15036" class="Bound">m</a> <a id="15038" class="Symbol">(</a><a id="15039" href="Misc.html#9476" class="InductiveConstructor">is-inl</a> <a id="15046" href="Bracketing.html#15046" class="Bound">a</a><a id="15047" class="Symbol">)</a> <a id="15049" class="Symbol">=</a> <a id="15051" href="Arrows.html#6009" class="Function">iterate-A-odd</a> <a id="15065" class="Symbol">(</a><a id="15066" href="Misc.html#9476" class="InductiveConstructor">is-inl</a> <a id="15073" href="Bracketing.html#15046" class="Bound">a</a><a id="15074" class="Symbol">)</a> <a id="15076" class="Symbol">(</a><a id="15077" href="Z.html#10857" class="Function">is-oddℕ</a> <a id="15085" class="Symbol">(</a><a id="15086" href="Bracketing.html#13710" class="Function">matched-odd</a> <a id="15098" href="Bracketing.html#15036" class="Bound">m</a><a id="15099" class="Symbol">))</a>

<a id="match-rl"></a><a id="15103" href="Bracketing.html#15103" class="Function">match-rl</a> <a id="15112" class="Symbol">:</a> <a id="15114" class="Symbol">{</a><a id="15115" href="Bracketing.html#15115" class="Bound">a</a> <a id="15117" class="Symbol">:</a> <a id="15119" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="15125" class="Symbol">}</a> <a id="15127" class="Symbol">(</a><a id="15128" href="Bracketing.html#15128" class="Bound">m</a> <a id="15130" class="Symbol">:</a> <a id="15132" href="Bracketing.html#4914" class="Function">matched</a> <a id="15140" href="Bracketing.html#15115" class="Bound">a</a><a id="15141" class="Symbol">)</a> <a id="15143" class="Symbol">→</a> <a id="15145" href="Misc.html#9517" class="Datatype">in-right</a> <a id="15154" href="Bracketing.html#15115" class="Bound">a</a> <a id="15156" class="Symbol">→</a> <a id="15158" href="Misc.html#9390" class="Datatype">in-left</a> <a id="15166" class="Symbol">(</a><a id="15167" href="Bracketing.html#5620" class="Function">match</a> <a id="15173" href="Bracketing.html#15128" class="Bound">m</a><a id="15174" class="Symbol">)</a>
<a id="15176" href="Bracketing.html#15103" class="Function">match-rl</a> <a id="15185" href="Bracketing.html#15185" class="Bound">m</a> <a id="15187" class="Symbol">(</a><a id="15188" href="Misc.html#9604" class="InductiveConstructor">is-inr</a> <a id="15195" href="Bracketing.html#15195" class="Bound">b</a><a id="15196" class="Symbol">)</a> <a id="15198" class="Symbol">=</a> <a id="15200" href="Arrows.html#6227" class="Function">iterate-B-odd</a> <a id="15214" class="Symbol">(</a><a id="15215" href="Misc.html#9604" class="InductiveConstructor">is-inr</a> <a id="15222" href="Bracketing.html#15195" class="Bound">b</a><a id="15223" class="Symbol">)</a> <a id="15225" class="Symbol">(</a><a id="15226" href="Z.html#10857" class="Function">is-oddℕ</a> <a id="15234" class="Symbol">(</a><a id="15235" href="Bracketing.html#13710" class="Function">matched-odd</a> <a id="15247" href="Bracketing.html#15185" class="Bound">m</a><a id="15248" class="Symbol">))</a>

<a id="wb-reachable-arr-matched"></a><a id="15252" href="Bracketing.html#15252" class="Function">wb-reachable-arr-matched</a> <a id="15277" class="Symbol">:</a> <a id="15279" class="Symbol">{</a><a id="15280" href="Bracketing.html#15280" class="Bound">a</a> <a id="15282" href="Bracketing.html#15282" class="Bound">b</a> <a id="15284" class="Symbol">:</a> <a id="15286" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="15292" class="Symbol">}</a> <a id="15294" class="Symbol">→</a> <a id="15296" href="Bracketing.html#12275" class="Function">well-bracketed</a> <a id="15311" href="Bracketing.html#15280" class="Bound">a</a> <a id="15313" class="Symbol">→</a> <a id="15315" href="Arrows.html#10174" class="Function">is-reachable-arr</a> <a id="15332" href="Bracketing.html#15280" class="Bound">a</a> <a id="15334" href="Bracketing.html#15282" class="Bound">b</a> <a id="15336" class="Symbol">→</a> <a id="15338" href="Bracketing.html#4914" class="Function">matched</a> <a id="15346" href="Bracketing.html#15282" class="Bound">b</a>
<a id="15348" href="Bracketing.html#15252" class="Function">wb-reachable-arr-matched</a> <a id="15373" href="Bracketing.html#15373" class="Bound">wb</a> <a id="15376" href="Bracketing.html#15376" class="Bound">r</a> <a id="15378" class="Symbol">=</a> <a id="15380" href="Cubical.HITs.PropositionalTruncation.Properties.html#3342" class="Function">∥∥.elim</a> <a id="15388" class="Symbol">(λ</a> <a id="15391" href="Bracketing.html#15391" class="Bound">_</a> <a id="15393" class="Symbol">→</a> <a id="15395" href="Bracketing.html#5127" class="Function">matched-isProp</a> <a id="15410" class="Symbol">_)</a> <a id="15413" class="Symbol">(λ</a> <a id="15416" href="Bracketing.html#15416" class="Bound">r</a> <a id="15418" class="Symbol">→</a> <a id="15420" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="15426" href="Bracketing.html#4914" class="Function">matched</a> <a id="15434" class="Symbol">(</a><a id="15435" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="15439" href="Bracketing.html#15416" class="Bound">r</a><a id="15440" class="Symbol">)</a> <a id="15442" class="Symbol">(</a><a id="15443" href="Bracketing.html#15373" class="Bound">wb</a> <a id="15446" class="Symbol">(</a><a id="15447" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="15451" href="Bracketing.html#15416" class="Bound">r</a><a id="15452" class="Symbol">)))</a> <a id="15456" href="Bracketing.html#15376" class="Bound">r</a>

<a id="matching-equiv"></a><a id="15459" href="Bracketing.html#15459" class="Function">matching-equiv</a> <a id="15474" class="Symbol">:</a> <a id="15476" class="Symbol">{</a><a id="15477" href="Bracketing.html#15477" class="Bound">c</a> <a id="15479" class="Symbol">:</a> <a id="15481" href="Arrows.html#22514" class="Function">Chains</a><a id="15487" class="Symbol">}</a> <a id="15489" class="Symbol">→</a> <a id="15491" href="Bracketing.html#13349" class="Function">well-bracketed-chain</a> <a id="15512" href="Bracketing.html#15477" class="Bound">c</a> <a id="15514" class="Symbol">→</a> <a id="15516" href="Arrows.html#28559" class="Function">chain-A≃B</a> <a id="15526" href="Bracketing.html#15477" class="Bound">c</a>
<a id="15528" href="Bracketing.html#15459" class="Function">matching-equiv</a> <a id="15543" class="Symbol">{</a><a id="15544" href="Bracketing.html#15544" class="Bound">c</a><a id="15545" class="Symbol">}</a> <a id="15547" class="Symbol">=</a> <a id="15549" href="Cubical.HITs.SetQuotients.Properties.html#2695" class="Function">[].elim</a>
  <a id="15559" class="Symbol">{</a><a id="15560" class="Argument">P</a> <a id="15562" class="Symbol">=</a> <a id="15564" class="Symbol">λ</a> <a id="15566" href="Bracketing.html#15566" class="Bound">c</a> <a id="15568" class="Symbol">→</a> <a id="15570" href="Bracketing.html#13349" class="Function">well-bracketed-chain</a> <a id="15591" href="Bracketing.html#15566" class="Bound">c</a> <a id="15593" class="Symbol">→</a> <a id="15595" href="Arrows.html#28559" class="Function">chain-A≃B</a> <a id="15605" href="Bracketing.html#15566" class="Bound">c</a><a id="15606" class="Symbol">}</a>
  <a id="15610" class="Symbol">(λ</a> <a id="15613" href="Bracketing.html#15613" class="Bound">o</a> <a id="15615" class="Symbol">→</a> <a id="15617" href="Cubical.Foundations.HLevels.html#17906" class="Function">isSetΠ</a> <a id="15624" class="Symbol">(λ</a> <a id="15627" href="Bracketing.html#15627" class="Bound">_</a> <a id="15629" class="Symbol">→</a> <a id="15631" href="Arrows.html#28622" class="Function">chain-A≃B-isSet</a> <a id="15647" class="Symbol">_))</a>
  <a id="15653" href="Bracketing.html#17107" class="Function">e</a>
  <a id="15657" class="Symbol">(λ</a> <a id="15660" href="Bracketing.html#15660" class="Bound">a</a> <a id="15662" href="Bracketing.html#15662" class="Bound">b</a> <a id="15664" href="Bracketing.html#15664" class="Bound">r</a> <a id="15666" class="Symbol">→</a> <a id="15668" href="Bracketing.html#17202" class="Function">e-indep</a> <a id="15676" href="Bracketing.html#15664" class="Bound">r</a><a id="15677" class="Symbol">)</a>
  <a id="15681" href="Bracketing.html#15544" class="Bound">c</a>
  <a id="15685" class="Keyword">where</a>
  <a id="15693" href="Bracketing.html#15693" class="Function">i</a> <a id="15695" class="Symbol">:</a> <a id="15697" class="Symbol">{</a><a id="15698" href="Bracketing.html#15698" class="Bound">a</a> <a id="15700" class="Symbol">:</a> <a id="15702" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="15708" class="Symbol">}</a> <a id="15710" class="Symbol">→</a> <a id="15712" href="Bracketing.html#12275" class="Function">well-bracketed</a> <a id="15727" href="Bracketing.html#15698" class="Bound">a</a> <a id="15729" class="Symbol">→</a> <a id="15731" href="Cubical.Foundations.Isomorphism.html#773" class="Record">Iso</a> <a id="15735" class="Symbol">(</a><a id="15736" href="Arrows.html#28064" class="Function">chainA</a> <a id="15743" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">[</a> <a id="15745" href="Bracketing.html#15698" class="Bound">a</a> <a id="15747" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">]</a><a id="15748" class="Symbol">)</a> <a id="15750" class="Symbol">(</a><a id="15751" href="Arrows.html#28162" class="Function">chainB</a> <a id="15758" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">[</a> <a id="15760" href="Bracketing.html#15698" class="Bound">a</a> <a id="15762" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">]</a><a id="15763" class="Symbol">)</a>
  <a id="15767" href="Cubical.Foundations.Isomorphism.html#885" class="Field">Iso.fun</a> <a id="15775" class="Symbol">(</a><a id="15776" href="Bracketing.html#15693" class="Function">i</a> <a id="15778" href="Bracketing.html#15778" class="Bound">wb</a><a id="15780" class="Symbol">)</a> <a id="15782" class="Symbol">(</a><a id="15783" href="Bracketing.html#15783" class="Bound">b</a> <a id="15785" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15787" href="Bracketing.html#15787" class="Bound">l</a><a id="15788" class="Symbol">)</a> <a id="15790" class="Symbol">=</a> <a id="15792" class="Symbol">(</a><a id="15793" href="Bracketing.html#5620" class="Function">match</a> <a id="15799" href="Bracketing.html#15882" class="Function">m</a> <a id="15801" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15803" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="15807" class="Symbol">(</a><a id="15808" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="15812" class="Symbol">_</a> <a id="15814" class="Symbol">_</a> <a id="15816" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣</a> <a id="15818" href="Bracketing.html#5732" class="Function">match-reachable-arr</a> <a id="15838" href="Bracketing.html#15882" class="Function">m</a> <a id="15840" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣₁</a><a id="15842" class="Symbol">)</a> <a id="15844" href="Cubical.Foundations.Prelude.html#4447" class="Function Operator">∙</a> <a id="15846" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="15850" href="Bracketing.html#15783" class="Bound">b</a><a id="15851" class="Symbol">)</a> <a id="15853" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15855" href="Bracketing.html#14954" class="Function">match-lr</a> <a id="15864" href="Bracketing.html#15882" class="Function">m</a> <a id="15866" href="Bracketing.html#15787" class="Bound">l</a>
    <a id="15872" class="Keyword">where</a>
    <a id="15882" href="Bracketing.html#15882" class="Function">m</a> <a id="15884" class="Symbol">:</a> <a id="15886" href="Bracketing.html#4914" class="Function">matched</a> <a id="15894" class="Symbol">(</a><a id="15895" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="15899" href="Bracketing.html#15783" class="Bound">b</a><a id="15900" class="Symbol">)</a>
    <a id="15906" href="Bracketing.html#15882" class="Function">m</a> <a id="15908" class="Symbol">=</a> <a id="15910" href="Bracketing.html#15252" class="Function">wb-reachable-arr-matched</a> <a id="15935" href="Bracketing.html#15778" class="Bound">wb</a> <a id="15938" class="Symbol">(</a><a id="15939" href="Arrows.html#23307" class="Function">element-is-reachable-arr</a> <a id="15964" href="Bracketing.html#15783" class="Bound">b</a><a id="15965" class="Symbol">)</a>
  <a id="15969" href="Cubical.Foundations.Isomorphism.html#901" class="Field">Iso.inv</a> <a id="15977" class="Symbol">(</a><a id="15978" href="Bracketing.html#15693" class="Function">i</a> <a id="15980" href="Bracketing.html#15980" class="Bound">wb</a><a id="15982" class="Symbol">)</a> <a id="15984" class="Symbol">(</a><a id="15985" href="Bracketing.html#15985" class="Bound">b</a> <a id="15987" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15989" href="Bracketing.html#15989" class="Bound">r</a><a id="15990" class="Symbol">)</a> <a id="15992" class="Symbol">=</a> <a id="15994" class="Symbol">(</a><a id="15995" href="Bracketing.html#5620" class="Function">match</a> <a id="16001" href="Bracketing.html#16084" class="Function">m</a> <a id="16003" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16005" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="16009" class="Symbol">(</a><a id="16010" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="16014" class="Symbol">_</a> <a id="16016" class="Symbol">_</a> <a id="16018" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣</a> <a id="16020" href="Bracketing.html#5732" class="Function">match-reachable-arr</a> <a id="16040" href="Bracketing.html#16084" class="Function">m</a> <a id="16042" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣₁</a><a id="16044" class="Symbol">)</a> <a id="16046" href="Cubical.Foundations.Prelude.html#4447" class="Function Operator">∙</a> <a id="16048" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="16052" href="Bracketing.html#15985" class="Bound">b</a><a id="16053" class="Symbol">)</a> <a id="16055" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16057" href="Bracketing.html#15103" class="Function">match-rl</a> <a id="16066" href="Bracketing.html#16084" class="Function">m</a> <a id="16068" href="Bracketing.html#15989" class="Bound">r</a>
    <a id="16074" class="Keyword">where</a>
    <a id="16084" href="Bracketing.html#16084" class="Function">m</a> <a id="16086" class="Symbol">=</a> <a id="16088" href="Bracketing.html#15252" class="Function">wb-reachable-arr-matched</a> <a id="16113" href="Bracketing.html#15980" class="Bound">wb</a> <a id="16116" class="Symbol">(</a><a id="16117" href="Arrows.html#23307" class="Function">element-is-reachable-arr</a> <a id="16142" href="Bracketing.html#15985" class="Bound">b</a><a id="16143" class="Symbol">)</a>
  <a id="16147" href="Cubical.Foundations.Isomorphism.html#917" class="Field">Iso.rightInv</a> <a id="16160" class="Symbol">(</a><a id="16161" href="Bracketing.html#15693" class="Function">i</a> <a id="16163" href="Bracketing.html#16163" class="Bound">wb</a><a id="16165" class="Symbol">)</a> <a id="16167" class="Symbol">(</a><a id="16168" href="Bracketing.html#16168" class="Bound">b</a> <a id="16170" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16172" href="Bracketing.html#16172" class="Bound">r</a><a id="16173" class="Symbol">)</a> <a id="16175" class="Symbol">=</a> <a id="16177" href="Cubical.Data.Sigma.Properties.html#13039" class="Function">Σ≡Prop</a> <a id="16184" class="Symbol">(λ</a> <a id="16187" href="Bracketing.html#16187" class="Bound">_</a> <a id="16189" class="Symbol">→</a> <a id="16191" href="Misc.html#9746" class="Function">in-right-isProp</a> <a id="16207" class="Symbol">_)</a> <a id="16210" class="Symbol">(</a><a id="16211" href="Cubical.Data.Sigma.Properties.html#13039" class="Function">Σ≡Prop</a> <a id="16218" class="Symbol">(λ</a> <a id="16221" href="Bracketing.html#16221" class="Bound">_</a> <a id="16223" class="Symbol">→</a> <a id="16225" href="Arrows.html#22566" class="Function">Chains-isSet</a> <a id="16238" class="Symbol">_</a> <a id="16240" class="Symbol">_)</a> <a id="16243" href="Bracketing.html#16363" class="Function">lem</a><a id="16246" class="Symbol">)</a>
    <a id="16252" class="Keyword">where</a>
    <a id="16262" href="Bracketing.html#16262" class="Function">m</a> <a id="16264" class="Symbol">=</a> <a id="16266" href="Bracketing.html#15252" class="Function">wb-reachable-arr-matched</a> <a id="16291" href="Bracketing.html#16163" class="Bound">wb</a> <a id="16294" class="Symbol">(</a><a id="16295" href="Arrows.html#23307" class="Function">element-is-reachable-arr</a> <a id="16320" href="Bracketing.html#16168" class="Bound">b</a><a id="16321" class="Symbol">)</a>
    <a id="16327" class="Comment">-- this is essentially match² m</a>
    <a id="16363" href="Bracketing.html#16363" class="Function">lem</a> <a id="16367" class="Symbol">=</a>
      <a id="16375" href="Bracketing.html#5620" class="Function">match</a> <a id="16381" class="Symbol">(</a><a id="16382" href="Bracketing.html#15252" class="Function">wb-reachable-arr-matched</a> <a id="16407" href="Bracketing.html#16163" class="Bound">wb</a> <a id="16410" class="Symbol">(</a><a id="16411" href="Arrows.html#23307" class="Function">element-is-reachable-arr</a> <a id="16436" class="Symbol">(</a><a id="16437" href="Bracketing.html#5620" class="Function">match</a> <a id="16443" href="Bracketing.html#16262" class="Function">m</a> <a id="16445" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16447" class="Symbol">(</a><a id="16448" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="16452" class="Symbol">(</a><a id="16453" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="16457" class="Symbol">_</a> <a id="16459" class="Symbol">_</a> <a id="16461" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣</a> <a id="16463" href="Bracketing.html#5732" class="Function">match-reachable-arr</a> <a id="16483" href="Bracketing.html#16262" class="Function">m</a> <a id="16485" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣₁</a><a id="16487" class="Symbol">)</a> <a id="16489" href="Cubical.Foundations.Prelude.html#4447" class="Function Operator">∙</a> <a id="16491" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="16495" href="Bracketing.html#16168" class="Bound">b</a><a id="16496" class="Symbol">))))</a> <a id="16501" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="16504" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="16509" href="Bracketing.html#5620" class="Function">match</a> <a id="16515" class="Symbol">(</a><a id="16516" href="Bracketing.html#5127" class="Function">matched-isProp</a> <a id="16531" class="Symbol">(</a><a id="16532" href="Bracketing.html#5620" class="Function">match</a> <a id="16538" href="Bracketing.html#16262" class="Function">m</a><a id="16539" class="Symbol">)</a> <a id="16541" class="Symbol">(</a><a id="16542" href="Bracketing.html#15252" class="Function">wb-reachable-arr-matched</a> <a id="16567" href="Bracketing.html#16163" class="Bound">wb</a> <a id="16570" class="Symbol">(</a><a id="16571" href="Arrows.html#23307" class="Function">element-is-reachable-arr</a> <a id="16596" class="Symbol">(</a><a id="16597" href="Bracketing.html#5620" class="Function">match</a> <a id="16603" href="Bracketing.html#16262" class="Function">m</a> <a id="16605" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16607" class="Symbol">(</a><a id="16608" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="16612" class="Symbol">(</a><a id="16613" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="16617" class="Symbol">_</a> <a id="16619" class="Symbol">_</a> <a id="16621" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣</a> <a id="16623" href="Bracketing.html#5732" class="Function">match-reachable-arr</a> <a id="16643" href="Bracketing.html#16262" class="Function">m</a> <a id="16645" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣₁</a><a id="16647" class="Symbol">)</a> <a id="16649" href="Cubical.Foundations.Prelude.html#4447" class="Function Operator">∙</a> <a id="16651" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="16655" href="Bracketing.html#16168" class="Bound">b</a><a id="16656" class="Symbol">))))</a> <a id="16661" class="Symbol">(</a><a id="16662" href="Bracketing.html#7278" class="Function">matched-sym</a> <a id="16674" href="Bracketing.html#16262" class="Function">m</a><a id="16675" class="Symbol">))</a> <a id="16678" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="16686" href="Bracketing.html#5620" class="Function">match</a> <a id="16692" class="Symbol">(</a><a id="16693" href="Bracketing.html#7278" class="Function">matched-sym</a> <a id="16705" href="Bracketing.html#16262" class="Function">m</a><a id="16706" class="Symbol">)</a> <a id="16708" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="16711" href="Bracketing.html#8176" class="Function">match²</a> <a id="16718" href="Bracketing.html#16262" class="Function">m</a> <a id="16720" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="16728" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="16732" href="Bracketing.html#16168" class="Bound">b</a> <a id="16734" href="Cubical.Foundations.Prelude.html#8499" class="Function Operator">∎</a>
  <a id="16738" href="Cubical.Foundations.Isomorphism.html#948" class="Field">Iso.leftInv</a> <a id="16750" class="Symbol">(</a><a id="16751" href="Bracketing.html#15693" class="Function">i</a> <a id="16753" href="Bracketing.html#16753" class="Bound">wb</a><a id="16755" class="Symbol">)</a> <a id="16757" class="Symbol">(</a><a id="16758" href="Bracketing.html#16758" class="Bound">b</a> <a id="16760" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16762" href="Bracketing.html#16762" class="Bound">l</a><a id="16763" class="Symbol">)</a> <a id="16765" class="Symbol">=</a> <a id="16767" href="Cubical.Data.Sigma.Properties.html#13039" class="Function">Σ≡Prop</a> <a id="16774" class="Symbol">(λ</a> <a id="16777" href="Bracketing.html#16777" class="Bound">_</a> <a id="16779" class="Symbol">→</a> <a id="16781" href="Misc.html#9641" class="Function">in-left-isProp</a> <a id="16796" class="Symbol">_)</a> <a id="16799" class="Symbol">(</a><a id="16800" href="Cubical.Data.Sigma.Properties.html#13039" class="Function">Σ≡Prop</a> <a id="16807" class="Symbol">(λ</a> <a id="16810" href="Bracketing.html#16810" class="Bound">_</a> <a id="16812" class="Symbol">→</a> <a id="16814" href="Arrows.html#22566" class="Function">Chains-isSet</a> <a id="16827" class="Symbol">_</a> <a id="16829" class="Symbol">_)</a> <a id="16832" href="Bracketing.html#16916" class="Function">lem</a><a id="16835" class="Symbol">)</a>
    <a id="16841" class="Keyword">where</a>
    <a id="16851" href="Bracketing.html#16851" class="Function">m</a> <a id="16853" class="Symbol">=</a> <a id="16855" href="Bracketing.html#15252" class="Function">wb-reachable-arr-matched</a> <a id="16880" href="Bracketing.html#16753" class="Bound">wb</a> <a id="16883" class="Symbol">(</a><a id="16884" href="Arrows.html#23307" class="Function">element-is-reachable-arr</a> <a id="16909" href="Bracketing.html#16758" class="Bound">b</a><a id="16910" class="Symbol">)</a>
    <a id="16916" href="Bracketing.html#16916" class="Function">lem</a> <a id="16920" class="Symbol">=</a> <a id="16922" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="16927" href="Bracketing.html#5620" class="Function">match</a> <a id="16933" class="Symbol">(</a><a id="16934" href="Bracketing.html#5127" class="Function">matched-isProp</a> <a id="16949" class="Symbol">(</a><a id="16950" href="Bracketing.html#5620" class="Function">match</a> <a id="16956" href="Bracketing.html#16851" class="Function">m</a><a id="16957" class="Symbol">)</a> <a id="16959" class="Symbol">(</a><a id="16960" href="Bracketing.html#15252" class="Function">wb-reachable-arr-matched</a> <a id="16985" href="Bracketing.html#16753" class="Bound">wb</a> <a id="16988" class="Symbol">(</a><a id="16989" href="Arrows.html#23307" class="Function">element-is-reachable-arr</a> <a id="17014" class="Symbol">(</a><a id="17015" href="Bracketing.html#5620" class="Function">match</a> <a id="17021" href="Bracketing.html#16851" class="Function">m</a> <a id="17023" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17025" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="17029" class="Symbol">(</a><a id="17030" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="17034" class="Symbol">_</a> <a id="17036" class="Symbol">_</a> <a id="17038" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣</a> <a id="17040" href="Bracketing.html#5732" class="Function">match-reachable-arr</a> <a id="17060" href="Bracketing.html#16851" class="Function">m</a> <a id="17062" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣₁</a><a id="17064" class="Symbol">)</a> <a id="17066" href="Cubical.Foundations.Prelude.html#4447" class="Function Operator">∙</a> <a id="17068" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="17072" href="Bracketing.html#16758" class="Bound">b</a><a id="17073" class="Symbol">)))</a> <a id="17077" class="Symbol">(</a><a id="17078" href="Bracketing.html#7278" class="Function">matched-sym</a> <a id="17090" href="Bracketing.html#16851" class="Function">m</a><a id="17091" class="Symbol">))</a> <a id="17094" href="Cubical.Foundations.Prelude.html#4447" class="Function Operator">∙</a> <a id="17096" href="Bracketing.html#8176" class="Function">match²</a> <a id="17103" href="Bracketing.html#16851" class="Function">m</a>
  <a id="17107" href="Bracketing.html#17107" class="Function">e</a> <a id="17109" class="Symbol">:</a> <a id="17111" class="Symbol">(</a><a id="17112" href="Bracketing.html#17112" class="Bound">a</a> <a id="17114" class="Symbol">:</a> <a id="17116" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="17122" class="Symbol">)</a> <a id="17124" class="Symbol">→</a> <a id="17126" href="Bracketing.html#13349" class="Function">well-bracketed-chain</a> <a id="17147" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">[</a> <a id="17149" href="Bracketing.html#17112" class="Bound">a</a> <a id="17151" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">]</a> <a id="17153" class="Symbol">→</a> <a id="17155" href="Arrows.html#28559" class="Function">chain-A≃B</a> <a id="17165" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">[</a> <a id="17167" href="Bracketing.html#17112" class="Bound">a</a> <a id="17169" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">]</a>
  <a id="17173" href="Bracketing.html#17107" class="Function">e</a> <a id="17175" href="Bracketing.html#17175" class="Bound">a</a> <a id="17177" href="Bracketing.html#17177" class="Bound">wb</a> <a id="17180" class="Symbol">=</a> <a id="17182" href="Cubical.Foundations.Isomorphism.html#3127" class="Function">isoToEquiv</a> <a id="17193" class="Symbol">(</a><a id="17194" href="Bracketing.html#15693" class="Function">i</a> <a id="17196" href="Bracketing.html#17177" class="Bound">wb</a><a id="17198" class="Symbol">)</a>
  <a id="17202" href="Bracketing.html#17202" class="Function">e-indep</a> <a id="17210" class="Symbol">:</a> <a id="17212" class="Symbol">{</a><a id="17213" href="Bracketing.html#17213" class="Bound">a</a> <a id="17215" href="Bracketing.html#17215" class="Bound">b</a> <a id="17217" class="Symbol">:</a> <a id="17219" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="17225" class="Symbol">}</a> <a id="17227" class="Symbol">(</a><a id="17228" href="Bracketing.html#17228" class="Bound">r</a> <a id="17230" class="Symbol">:</a> <a id="17232" href="Arrows.html#10174" class="Function">is-reachable-arr</a> <a id="17249" href="Bracketing.html#17213" class="Bound">a</a> <a id="17251" href="Bracketing.html#17215" class="Bound">b</a><a id="17252" class="Symbol">)</a> <a id="17254" class="Symbol">→</a> <a id="17256" href="Agda.Builtin.Cubical.Path.html#197" class="Postulate">PathP</a> <a id="17262" class="Symbol">(λ</a> <a id="17265" href="Bracketing.html#17265" class="Bound">i</a> <a id="17267" class="Symbol">→</a> <a id="17269" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="17274" class="Symbol">(λ</a> <a id="17277" href="Bracketing.html#17277" class="Bound">c</a> <a id="17279" class="Symbol">→</a> <a id="17281" href="Bracketing.html#13349" class="Function">well-bracketed-chain</a> <a id="17302" href="Bracketing.html#17277" class="Bound">c</a> <a id="17304" class="Symbol">→</a> <a id="17306" href="Arrows.html#28559" class="Function">chain-A≃B</a> <a id="17316" href="Bracketing.html#17277" class="Bound">c</a><a id="17317" class="Symbol">)</a> <a id="17319" class="Symbol">(</a><a id="17320" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="17324" href="Bracketing.html#17213" class="Bound">a</a> <a id="17326" href="Bracketing.html#17215" class="Bound">b</a> <a id="17328" href="Bracketing.html#17228" class="Bound">r</a><a id="17329" class="Symbol">)</a> <a id="17331" href="Bracketing.html#17265" class="Bound">i</a><a id="17332" class="Symbol">)</a> <a id="17334" class="Symbol">(</a><a id="17335" href="Bracketing.html#17107" class="Function">e</a> <a id="17337" href="Bracketing.html#17213" class="Bound">a</a><a id="17338" class="Symbol">)</a> <a id="17340" class="Symbol">(</a><a id="17341" href="Bracketing.html#17107" class="Function">e</a> <a id="17343" href="Bracketing.html#17215" class="Bound">b</a><a id="17344" class="Symbol">)</a>
  <a id="17348" href="Bracketing.html#17202" class="Function">e-indep</a> <a id="17356" class="Symbol">{</a><a id="17357" href="Bracketing.html#17357" class="Bound">a</a><a id="17358" class="Symbol">}</a> <a id="17360" class="Symbol">{</a><a id="17361" href="Bracketing.html#17361" class="Bound">b</a><a id="17362" class="Symbol">}</a> <a id="17364" href="Bracketing.html#17364" class="Bound">r</a> <a id="17366" class="Symbol">=</a> <a id="17368" href="Cubical.Foundations.Prelude.html#12717" class="Function">toPathP</a> <a id="17376" class="Symbol">(</a><a id="17377" href="Cubical.Foundations.Prelude.html#9899" class="Function">funExt</a> <a id="17384" class="Symbol">(λ</a> <a id="17387" href="Bracketing.html#17387" class="Bound">wb</a> <a id="17390" class="Symbol">→</a> <a id="17392" href="Cubical.Foundations.Equiv.html#1981" class="Function">equivEq</a> <a id="17400" class="Symbol">(</a><a id="17401" href="Cubical.Foundations.Prelude.html#9899" class="Function">funExt</a> <a id="17408" class="Symbol">λ</a> <a id="17410" class="Symbol">{</a> <a id="17412" class="Symbol">(</a><a id="17413" href="Bracketing.html#17413" class="Bound">x</a> <a id="17415" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17417" href="Bracketing.html#17417" class="Bound">l</a><a id="17418" class="Symbol">)</a> <a id="17420" class="Symbol">→</a> <a id="17422" href="Cubical.Data.Sigma.Properties.html#13039" class="Function">Σ≡Prop</a> <a id="17429" class="Symbol">(λ</a> <a id="17432" href="Bracketing.html#17432" class="Bound">_</a> <a id="17434" class="Symbol">→</a> <a id="17436" href="Misc.html#9746" class="Function">in-right-isProp</a> <a id="17452" class="Symbol">_)</a> <a id="17455" class="Symbol">(</a><a id="17456" href="Cubical.Data.Sigma.Properties.html#13039" class="Function">Σ≡Prop</a> <a id="17463" class="Symbol">(λ</a> <a id="17466" href="Bracketing.html#17466" class="Bound">_</a> <a id="17468" class="Symbol">→</a> <a id="17470" href="Arrows.html#22566" class="Function">Chains-isSet</a> <a id="17483" class="Symbol">_</a> <a id="17485" class="Symbol">_)</a> <a id="17488" class="Symbol">(</a><a id="17489" href="Bracketing.html#17976" class="Function">lem</a> <a id="17493" href="Bracketing.html#17364" class="Bound">r</a> <a id="17495" href="Bracketing.html#17387" class="Bound">wb</a> <a id="17498" href="Bracketing.html#17413" class="Bound">x</a> <a id="17500" href="Bracketing.html#17417" class="Bound">l</a><a id="17501" class="Symbol">))</a> <a id="17504" class="Symbol">})))</a>
    <a id="17513" class="Keyword">where</a>
    <a id="17523" class="Comment">-- matching is independent of starting point</a>
    <a id="17572" href="Bracketing.html#17572" class="Function">match-indep</a> <a id="17584" class="Symbol">:</a> <a id="17586" class="Symbol">{</a><a id="17587" href="Bracketing.html#17587" class="Bound">a</a> <a id="17589" href="Bracketing.html#17589" class="Bound">b</a> <a id="17591" href="Bracketing.html#17591" class="Bound">c</a> <a id="17593" class="Symbol">:</a> <a id="17595" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="17601" class="Symbol">}</a> <a id="17603" class="Symbol">(</a><a id="17604" href="Bracketing.html#17604" class="Bound">r</a> <a id="17606" class="Symbol">:</a> <a id="17608" href="Arrows.html#10174" class="Function">is-reachable-arr</a> <a id="17625" href="Bracketing.html#17587" class="Bound">a</a> <a id="17627" href="Bracketing.html#17589" class="Bound">b</a><a id="17628" class="Symbol">)</a> <a id="17630" class="Symbol">(</a><a id="17631" href="Bracketing.html#17631" class="Bound">wb&#39;</a> <a id="17635" class="Symbol">:</a> <a id="17637" href="Bracketing.html#12275" class="Function">well-bracketed</a> <a id="17652" href="Bracketing.html#17587" class="Bound">a</a><a id="17653" class="Symbol">)</a> <a id="17655" class="Symbol">(</a><a id="17656" href="Bracketing.html#17656" class="Bound">r&#39;</a> <a id="17659" class="Symbol">:</a> <a id="17661" href="Arrows.html#10174" class="Function">is-reachable-arr</a> <a id="17678" href="Bracketing.html#17587" class="Bound">a</a> <a id="17680" href="Bracketing.html#17591" class="Bound">c</a><a id="17681" class="Symbol">)</a> <a id="17683" class="Symbol">(</a><a id="17684" href="Bracketing.html#17684" class="Bound">wb&#39;&#39;</a> <a id="17689" class="Symbol">:</a> <a id="17691" href="Bracketing.html#12275" class="Function">well-bracketed</a> <a id="17706" href="Bracketing.html#17589" class="Bound">b</a><a id="17707" class="Symbol">)</a> <a id="17709" class="Symbol">(</a><a id="17710" href="Bracketing.html#17710" class="Bound">r&#39;&#39;</a> <a id="17714" class="Symbol">:</a> <a id="17716" href="Arrows.html#10174" class="Function">is-reachable-arr</a> <a id="17733" href="Bracketing.html#17589" class="Bound">b</a> <a id="17735" href="Bracketing.html#17591" class="Bound">c</a><a id="17736" class="Symbol">)</a> <a id="17738" class="Symbol">→</a> <a id="17740" href="Bracketing.html#5620" class="Function">match</a> <a id="17746" class="Symbol">(</a><a id="17747" href="Bracketing.html#15252" class="Function">wb-reachable-arr-matched</a> <a id="17772" href="Bracketing.html#17631" class="Bound">wb&#39;</a> <a id="17776" href="Bracketing.html#17656" class="Bound">r&#39;</a><a id="17778" class="Symbol">)</a> <a id="17780" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="17782" href="Bracketing.html#5620" class="Function">match</a> <a id="17788" class="Symbol">(</a><a id="17789" href="Bracketing.html#15252" class="Function">wb-reachable-arr-matched</a> <a id="17814" href="Bracketing.html#17684" class="Bound">wb&#39;&#39;</a> <a id="17819" href="Bracketing.html#17710" class="Bound">r&#39;&#39;</a><a id="17822" class="Symbol">)</a>
    <a id="17828" href="Bracketing.html#17572" class="Function">match-indep</a> <a id="17840" class="Symbol">{</a><a id="17841" href="Bracketing.html#17841" class="Bound">a</a><a id="17842" class="Symbol">}</a> <a id="17844" class="Symbol">{</a><a id="17845" href="Bracketing.html#17845" class="Bound">b</a><a id="17846" class="Symbol">}</a> <a id="17848" class="Symbol">{</a><a id="17849" href="Bracketing.html#17849" class="Bound">c</a><a id="17850" class="Symbol">}</a> <a id="17852" href="Bracketing.html#17852" class="Bound">r</a> <a id="17854" href="Bracketing.html#17854" class="Bound">wb&#39;</a> <a id="17858" href="Bracketing.html#17858" class="Bound">r&#39;</a> <a id="17861" href="Bracketing.html#17861" class="Bound">wb&#39;&#39;</a> <a id="17866" href="Bracketing.html#17866" class="Bound">r&#39;&#39;</a> <a id="17870" class="Symbol">=</a> <a id="17872" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="17877" href="Bracketing.html#5620" class="Function">match</a> <a id="17883" class="Symbol">(</a><a id="17884" href="Bracketing.html#5127" class="Function">matched-isProp</a> <a id="17899" href="Bracketing.html#17849" class="Bound">c</a> <a id="17901" class="Symbol">(</a><a id="17902" href="Bracketing.html#15252" class="Function">wb-reachable-arr-matched</a> <a id="17927" href="Bracketing.html#17854" class="Bound">wb&#39;</a> <a id="17931" href="Bracketing.html#17858" class="Bound">r&#39;</a><a id="17933" class="Symbol">)</a> <a id="17935" class="Symbol">(</a><a id="17936" href="Bracketing.html#15252" class="Function">wb-reachable-arr-matched</a> <a id="17961" href="Bracketing.html#17861" class="Bound">wb&#39;&#39;</a> <a id="17966" href="Bracketing.html#17866" class="Bound">r&#39;&#39;</a><a id="17969" class="Symbol">))</a>
    <a id="17976" href="Bracketing.html#17976" class="Function">lem</a> <a id="17980" class="Symbol">:</a> <a id="17982" class="Symbol">{</a><a id="17983" href="Bracketing.html#17983" class="Bound">a</a> <a id="17985" href="Bracketing.html#17985" class="Bound">b</a> <a id="17987" class="Symbol">:</a> <a id="17989" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="17995" class="Symbol">}</a> <a id="17997" class="Symbol">(</a><a id="17998" href="Bracketing.html#17998" class="Bound">r</a> <a id="18000" class="Symbol">:</a> <a id="18002" href="Arrows.html#10174" class="Function">is-reachable-arr</a> <a id="18019" href="Bracketing.html#17983" class="Bound">a</a> <a id="18021" href="Bracketing.html#17985" class="Bound">b</a><a id="18022" class="Symbol">)</a> <a id="18024" class="Symbol">(</a><a id="18025" href="Bracketing.html#18025" class="Bound">wb</a> <a id="18028" class="Symbol">:</a> <a id="18030" href="Bracketing.html#13349" class="Function">well-bracketed-chain</a> <a id="18051" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">[</a> <a id="18053" href="Bracketing.html#17985" class="Bound">b</a> <a id="18055" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">]</a><a id="18056" class="Symbol">)</a> <a id="18058" class="Symbol">(</a><a id="18059" href="Bracketing.html#18059" class="Bound">c</a> <a id="18061" class="Symbol">:</a> <a id="18063" href="Arrows.html#22641" class="Function">elements</a> <a id="18072" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">[</a> <a id="18074" href="Bracketing.html#17985" class="Bound">b</a> <a id="18076" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">]</a><a id="18077" class="Symbol">)</a> <a id="18079" class="Symbol">(</a><a id="18080" href="Bracketing.html#18080" class="Bound">l</a> <a id="18082" class="Symbol">:</a> <a id="18084" href="Misc.html#9390" class="Datatype">in-left</a> <a id="18092" class="Symbol">(</a><a id="18093" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18097" href="Bracketing.html#18059" class="Bound">c</a><a id="18098" class="Symbol">))</a> <a id="18101" class="Symbol">→</a>
          <a id="18113" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="18123" class="Symbol">(λ</a> <a id="18126" href="Bracketing.html#18126" class="Bound">_</a> <a id="18128" class="Symbol">→</a> <a id="18130" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="18136" class="Symbol">)</a> <a id="18138" class="Symbol">(</a><a id="18139" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18143" class="Symbol">(</a><a id="18144" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18148" class="Symbol">(</a><a id="18149" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18153" class="Symbol">(</a><a id="18154" href="Bracketing.html#17107" class="Function">e</a> <a id="18156" href="Bracketing.html#17983" class="Bound">a</a> <a id="18158" class="Symbol">(</a><a id="18159" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="18169" class="Symbol">(λ</a> <a id="18172" href="Bracketing.html#18172" class="Bound">j</a> <a id="18174" class="Symbol">→</a> <a id="18176" href="Bracketing.html#13349" class="Function">well-bracketed-chain</a> <a id="18197" class="Symbol">(</a><a id="18198" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="18202" href="Bracketing.html#17983" class="Bound">a</a> <a id="18204" href="Bracketing.html#17985" class="Bound">b</a> <a id="18206" href="Bracketing.html#17998" class="Bound">r</a> <a id="18208" class="Symbol">(</a><a id="18209" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="18211" href="Bracketing.html#18172" class="Bound">j</a><a id="18212" class="Symbol">)))</a> <a id="18216" href="Bracketing.html#18025" class="Bound">wb</a><a id="18218" class="Symbol">))</a> <a id="18221" class="Symbol">(</a><a id="18222" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="18232" class="Symbol">(λ</a> <a id="18235" href="Bracketing.html#18235" class="Bound">j</a> <a id="18237" class="Symbol">→</a> <a id="18239" href="Arrows.html#28064" class="Function">chainA</a> <a id="18246" class="Symbol">(</a><a id="18247" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="18251" href="Bracketing.html#17983" class="Bound">a</a> <a id="18253" href="Bracketing.html#17985" class="Bound">b</a> <a id="18255" href="Bracketing.html#17998" class="Bound">r</a> <a id="18257" class="Symbol">(</a><a id="18258" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="18260" href="Bracketing.html#18235" class="Bound">j</a><a id="18261" class="Symbol">)))</a> <a id="18265" class="Symbol">(</a><a id="18266" href="Bracketing.html#18059" class="Bound">c</a> <a id="18268" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18270" href="Bracketing.html#18080" class="Bound">l</a><a id="18271" class="Symbol">)))))</a>
          <a id="18287" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="18289" href="Bracketing.html#17107" class="Function">e</a> <a id="18291" href="Bracketing.html#17985" class="Bound">b</a> <a id="18293" href="Bracketing.html#18025" class="Bound">wb</a> <a id="18296" class="Symbol">.</a><a id="18297" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18301" class="Symbol">(</a><a id="18302" href="Bracketing.html#18059" class="Bound">c</a> <a id="18304" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18306" href="Bracketing.html#18080" class="Bound">l</a><a id="18307" class="Symbol">)</a> <a id="18309" class="Symbol">.</a><a id="18310" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18314" class="Symbol">.</a><a id="18315" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a>
    <a id="18323" href="Bracketing.html#17976" class="Function">lem</a> <a id="18327" class="Symbol">{</a><a id="18328" href="Bracketing.html#18328" class="Bound">a</a><a id="18329" class="Symbol">}</a> <a id="18331" class="Symbol">{</a><a id="18332" href="Bracketing.html#18332" class="Bound">b</a><a id="18333" class="Symbol">}</a> <a id="18335" href="Bracketing.html#18335" class="Bound">r</a> <a id="18337" href="Bracketing.html#18337" class="Bound">wb</a> <a id="18340" href="Bracketing.html#18340" class="Bound">c</a> <a id="18342" href="Bracketing.html#18342" class="Bound">l</a> <a id="18344" class="Symbol">=</a>
      <a id="18352" class="Keyword">let</a>
          <a id="18366" href="Bracketing.html#18366" class="Bound">wb&#39;</a> <a id="18370" class="Symbol">:</a> <a id="18372" href="Bracketing.html#12275" class="Function">well-bracketed</a> <a id="18387" href="Bracketing.html#18328" class="Bound">a</a>
          <a id="18399" href="Bracketing.html#18366" class="Bound">wb&#39;</a> <a id="18403" class="Symbol">=</a> <a id="18405" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="18415" class="Symbol">(λ</a> <a id="18418" href="Bracketing.html#18418" class="Bound">j</a> <a id="18420" class="Symbol">→</a> <a id="18422" href="Bracketing.html#13349" class="Function">well-bracketed-chain</a> <a id="18443" class="Symbol">(</a><a id="18444" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="18448" href="Bracketing.html#18328" class="Bound">a</a> <a id="18450" href="Bracketing.html#18332" class="Bound">b</a> <a id="18452" href="Bracketing.html#18335" class="Bound">r</a> <a id="18454" class="Symbol">(</a><a id="18455" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="18457" href="Bracketing.html#18418" class="Bound">j</a><a id="18458" class="Symbol">)))</a> <a id="18462" href="Bracketing.html#18337" class="Bound">wb</a>
          <a id="18475" href="Bracketing.html#18475" class="Bound">r&#39;</a> <a id="18478" class="Symbol">:</a> <a id="18480" href="Arrows.html#10174" class="Function">is-reachable-arr</a> <a id="18497" href="Bracketing.html#18328" class="Bound">a</a> <a id="18499" class="Symbol">(</a><a id="18500" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18504" href="Bracketing.html#18340" class="Bound">c</a><a id="18505" class="Symbol">)</a>
          <a id="18517" href="Bracketing.html#18475" class="Bound">r&#39;</a> <a id="18520" class="Symbol">=</a> <a id="18522" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="18528" class="Symbol">(</a><a id="18529" href="Arrows.html#10174" class="Function">is-reachable-arr</a> <a id="18546" href="Bracketing.html#18328" class="Bound">a</a><a id="18547" class="Symbol">)</a> <a id="18549" class="Symbol">(</a><a id="18550" href="Cubical.Foundations.Prelude.html#8818" class="Function">transportRefl</a> <a id="18564" class="Symbol">(</a><a id="18565" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18569" href="Bracketing.html#18340" class="Bound">c</a><a id="18570" class="Symbol">))</a> <a id="18573" class="Symbol">(</a><a id="18574" href="Arrows.html#23307" class="Function">element-is-reachable-arr</a> <a id="18599" class="Symbol">(</a><a id="18600" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18604" class="Symbol">(</a><a id="18605" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="18615" class="Symbol">(λ</a> <a id="18618" href="Bracketing.html#18618" class="Bound">j</a> <a id="18620" class="Symbol">→</a> <a id="18622" href="Arrows.html#28064" class="Function">chainA</a> <a id="18629" class="Symbol">(</a><a id="18630" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="18634" href="Bracketing.html#18328" class="Bound">a</a> <a id="18636" href="Bracketing.html#18332" class="Bound">b</a> <a id="18638" href="Bracketing.html#18335" class="Bound">r</a> <a id="18640" class="Symbol">(</a><a id="18641" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="18643" href="Bracketing.html#18618" class="Bound">j</a><a id="18644" class="Symbol">)))</a> <a id="18648" class="Symbol">(</a><a id="18649" href="Bracketing.html#18340" class="Bound">c</a> <a id="18651" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18653" href="Bracketing.html#18342" class="Bound">l</a><a id="18654" class="Symbol">))))</a>
          <a id="18669" href="Bracketing.html#18669" class="Bound">wb&#39;&#39;</a> <a id="18674" class="Symbol">:</a> <a id="18676" href="Bracketing.html#12275" class="Function">well-bracketed</a> <a id="18691" href="Bracketing.html#18328" class="Bound">a</a>
          <a id="18703" href="Bracketing.html#18669" class="Bound">wb&#39;&#39;</a> <a id="18708" class="Symbol">=</a> <a id="18710" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="18720" class="Symbol">(λ</a> <a id="18723" href="Bracketing.html#18723" class="Bound">j</a> <a id="18725" class="Symbol">→</a> <a id="18727" href="Bracketing.html#13349" class="Function">well-bracketed-chain</a> <a id="18748" class="Symbol">(</a><a id="18749" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="18753" href="Bracketing.html#18328" class="Bound">a</a> <a id="18755" href="Bracketing.html#18332" class="Bound">b</a> <a id="18757" href="Bracketing.html#18335" class="Bound">r</a> <a id="18759" class="Symbol">(</a><a id="18760" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="18762" href="Bracketing.html#18723" class="Bound">j</a><a id="18763" class="Symbol">)))</a> <a id="18767" href="Bracketing.html#18337" class="Bound">wb</a>
          <a id="18780" href="Bracketing.html#18780" class="Bound">r&#39;&#39;</a> <a id="18784" class="Symbol">:</a> <a id="18786" href="Arrows.html#10174" class="Function">is-reachable-arr</a> <a id="18803" href="Bracketing.html#18328" class="Bound">a</a> <a id="18805" class="Symbol">(</a><a id="18806" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="18816" class="Symbol">(λ</a> <a id="18819" href="Bracketing.html#18819" class="Bound">_</a> <a id="18821" class="Symbol">→</a> <a id="18823" href="Bracketing.html#866" class="Bound">A</a> <a id="18825" href="Cubical.Data.Sum.Base.html#203" class="Datatype Operator">⊎</a> <a id="18827" href="Bracketing.html#868" class="Bound">B</a><a id="18828" class="Symbol">)</a> <a id="18830" class="Symbol">(</a><a id="18831" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18835" href="Bracketing.html#18340" class="Bound">c</a><a id="18836" class="Symbol">))</a>
          <a id="18849" href="Bracketing.html#18780" class="Bound">r&#39;&#39;</a> <a id="18853" class="Symbol">=</a> <a id="18855" href="Arrows.html#23307" class="Function">element-is-reachable-arr</a> <a id="18880" class="Symbol">(</a><a id="18881" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18885" class="Symbol">(</a><a id="18886" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="18896" class="Symbol">(λ</a> <a id="18899" href="Bracketing.html#18899" class="Bound">j</a> <a id="18901" class="Symbol">→</a> <a id="18903" href="Arrows.html#28064" class="Function">chainA</a> <a id="18910" class="Symbol">(</a><a id="18911" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="18915" href="Bracketing.html#18328" class="Bound">a</a> <a id="18917" href="Bracketing.html#18332" class="Bound">b</a> <a id="18919" href="Bracketing.html#18335" class="Bound">r</a> <a id="18921" class="Symbol">(</a><a id="18922" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="18924" href="Bracketing.html#18899" class="Bound">j</a><a id="18925" class="Symbol">)))</a> <a id="18929" class="Symbol">(</a><a id="18930" href="Bracketing.html#18340" class="Bound">c</a> <a id="18932" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18934" href="Bracketing.html#18342" class="Bound">l</a><a id="18935" class="Symbol">)))</a>
          <a id="18949" href="Bracketing.html#18949" class="Bound">r&#39;&#39;≡r&#39;</a> <a id="18956" class="Symbol">:</a> <a id="18958" href="Agda.Builtin.Cubical.Path.html#197" class="Postulate">PathP</a> <a id="18964" class="Symbol">(λ</a> <a id="18967" href="Bracketing.html#18967" class="Bound">i</a> <a id="18969" class="Symbol">→</a> <a id="18971" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="18976" class="Symbol">(</a><a id="18977" href="Arrows.html#10174" class="Function">is-reachable-arr</a> <a id="18994" href="Bracketing.html#18328" class="Bound">a</a><a id="18995" class="Symbol">)</a> <a id="18997" class="Symbol">(</a><a id="18998" href="Cubical.Foundations.Prelude.html#8818" class="Function">transportRefl</a> <a id="19012" class="Symbol">(</a><a id="19013" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19017" href="Bracketing.html#18340" class="Bound">c</a><a id="19018" class="Symbol">))</a> <a id="19021" href="Bracketing.html#18967" class="Bound">i</a><a id="19022" class="Symbol">)</a> <a id="19024" href="Bracketing.html#18780" class="Bound">r&#39;&#39;</a> <a id="19028" href="Bracketing.html#18475" class="Bound">r&#39;</a>
          <a id="19041" href="Bracketing.html#18949" class="Bound">r&#39;&#39;≡r&#39;</a> <a id="19048" class="Symbol">=</a> <a id="19050" href="Cubical.Foundations.HLevels.html#24798" class="Function">isOfHLevel→isOfHLevelDep</a> <a id="19075" class="Number">1</a> <a id="19077" class="Symbol">(</a><a id="19078" href="Arrows.html#10264" class="Function">is-reachable-arr-isProp</a> <a id="19102" href="Bracketing.html#18328" class="Bound">a</a><a id="19103" class="Symbol">)</a> <a id="19105" href="Bracketing.html#18780" class="Bound">r&#39;&#39;</a> <a id="19109" href="Bracketing.html#18475" class="Bound">r&#39;</a> <a id="19112" class="Symbol">(</a><a id="19113" href="Cubical.Foundations.Prelude.html#8818" class="Function">transportRefl</a> <a id="19127" class="Symbol">(</a><a id="19128" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19132" href="Bracketing.html#18340" class="Bound">c</a><a id="19133" class="Symbol">))</a>
          <a id="19146" href="Bracketing.html#19146" class="Bound">wb&#39;&#39;≡wb&#39;</a> <a id="19155" class="Symbol">:</a> <a id="19157" href="Bracketing.html#18669" class="Bound">wb&#39;&#39;</a> <a id="19162" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="19164" href="Bracketing.html#18366" class="Bound">wb&#39;</a>
          <a id="19178" href="Bracketing.html#19146" class="Bound">wb&#39;&#39;≡wb&#39;</a> <a id="19187" class="Symbol">=</a> <a id="19189" href="Bracketing.html#12353" class="Function">well-bracketed-isProp</a> <a id="19211" href="Bracketing.html#18328" class="Bound">a</a> <a id="19213" href="Bracketing.html#18669" class="Bound">wb&#39;&#39;</a> <a id="19218" href="Bracketing.html#18366" class="Bound">wb&#39;</a>
          <a id="19232" href="Bracketing.html#19232" class="Bound">rm&#39;&#39;≡rm&#39;</a> <a id="19241" class="Symbol">:</a> <a id="19243" href="Agda.Builtin.Cubical.Path.html#197" class="Postulate">PathP</a> <a id="19249" class="Symbol">(λ</a> <a id="19252" href="Bracketing.html#19252" class="Bound">i</a> <a id="19254" class="Symbol">→</a> <a id="19256" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="19261" href="Bracketing.html#4914" class="Function">matched</a> <a id="19269" class="Symbol">(</a><a id="19270" href="Cubical.Foundations.Prelude.html#8818" class="Function">transportRefl</a> <a id="19284" class="Symbol">(</a><a id="19285" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19289" href="Bracketing.html#18340" class="Bound">c</a><a id="19290" class="Symbol">))</a> <a id="19293" href="Bracketing.html#19252" class="Bound">i</a><a id="19294" class="Symbol">)</a> <a id="19296" class="Symbol">(</a><a id="19297" href="Bracketing.html#15252" class="Function">wb-reachable-arr-matched</a> <a id="19322" href="Bracketing.html#18669" class="Bound">wb&#39;&#39;</a> <a id="19327" href="Bracketing.html#18780" class="Bound">r&#39;&#39;</a><a id="19330" class="Symbol">)</a> <a id="19332" class="Symbol">(</a><a id="19333" href="Bracketing.html#15252" class="Function">wb-reachable-arr-matched</a> <a id="19358" href="Bracketing.html#18366" class="Bound">wb&#39;</a> <a id="19362" href="Bracketing.html#18475" class="Bound">r&#39;</a><a id="19364" class="Symbol">)</a>
          <a id="19376" href="Bracketing.html#19232" class="Bound">rm&#39;&#39;≡rm&#39;</a> <a id="19385" class="Symbol">=</a> <a id="19387" href="Cubical.Foundations.Prelude.html#2302" class="Function">congP₂</a> <a id="19394" class="Symbol">{</a><a id="19395" class="Argument">A</a> <a id="19397" class="Symbol">=</a> <a id="19399" class="Symbol">λ</a> <a id="19401" href="Bracketing.html#19401" class="Bound">i</a> <a id="19403" class="Symbol">→</a> <a id="19405" href="Bracketing.html#12275" class="Function">well-bracketed</a> <a id="19420" href="Bracketing.html#18328" class="Bound">a</a><a id="19421" class="Symbol">}</a> <a id="19423" class="Symbol">{</a><a id="19424" class="Argument">B</a> <a id="19426" class="Symbol">=</a> <a id="19428" class="Symbol">λ</a> <a id="19430" href="Bracketing.html#19430" class="Bound">i</a> <a id="19432" href="Bracketing.html#19432" class="Bound">_</a> <a id="19434" class="Symbol">→</a> <a id="19436" href="Arrows.html#10174" class="Function">is-reachable-arr</a> <a id="19453" href="Bracketing.html#18328" class="Bound">a</a> <a id="19455" class="Symbol">(</a><a id="19456" href="Cubical.Foundations.Prelude.html#8818" class="Function">transportRefl</a> <a id="19470" class="Symbol">(</a><a id="19471" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19475" href="Bracketing.html#18340" class="Bound">c</a><a id="19476" class="Symbol">)</a> <a id="19478" href="Bracketing.html#19430" class="Bound">i</a><a id="19479" class="Symbol">)}</a> <a id="19482" class="Symbol">{</a><a id="19483" class="Argument">C</a> <a id="19485" class="Symbol">=</a> <a id="19487" class="Symbol">λ</a> <a id="19489" href="Bracketing.html#19489" class="Bound">i</a> <a id="19491" href="Bracketing.html#19491" class="Bound">wb</a> <a id="19494" href="Bracketing.html#19494" class="Bound">r</a> <a id="19496" class="Symbol">→</a> <a id="19498" href="Bracketing.html#4914" class="Function">matched</a> <a id="19506" class="Symbol">(</a><a id="19507" href="Cubical.Foundations.Prelude.html#8818" class="Function">transportRefl</a> <a id="19521" class="Symbol">(</a><a id="19522" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19526" href="Bracketing.html#18340" class="Bound">c</a><a id="19527" class="Symbol">)</a> <a id="19529" href="Bracketing.html#19489" class="Bound">i</a><a id="19530" class="Symbol">)}</a>
                     <a id="19554" class="Symbol">(λ</a> <a id="19557" href="Bracketing.html#19557" class="Bound">i</a> <a id="19559" href="Bracketing.html#19559" class="Bound">wb</a> <a id="19562" href="Bracketing.html#19562" class="Bound">r</a> <a id="19564" class="Symbol">→</a> <a id="19566" href="Bracketing.html#15252" class="Function">wb-reachable-arr-matched</a> <a id="19591" class="Symbol">(</a><a id="19592" href="Bracketing.html#19146" class="Bound">wb&#39;&#39;≡wb&#39;</a> <a id="19601" href="Bracketing.html#19557" class="Bound">i</a><a id="19602" class="Symbol">)</a> <a id="19604" class="Symbol">(</a><a id="19605" href="Bracketing.html#18949" class="Bound">r&#39;&#39;≡r&#39;</a> <a id="19612" href="Bracketing.html#19557" class="Bound">i</a><a id="19613" class="Symbol">))</a> <a id="19616" href="Bracketing.html#19146" class="Bound">wb&#39;&#39;≡wb&#39;</a> <a id="19625" href="Bracketing.html#18949" class="Bound">r&#39;&#39;≡r&#39;</a>
          <a id="19642" href="Bracketing.html#19642" class="Bound">p</a> <a id="19644" class="Symbol">:</a> <a id="19646" href="Bracketing.html#5620" class="Function">match</a> <a id="19652" class="Symbol">(</a><a id="19653" href="Bracketing.html#15252" class="Function">wb-reachable-arr-matched</a> <a id="19678" href="Bracketing.html#18366" class="Bound">wb&#39;</a> <a id="19682" href="Bracketing.html#18475" class="Bound">r&#39;</a><a id="19684" class="Symbol">)</a> <a id="19686" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="19688" href="Bracketing.html#5620" class="Function">match</a> <a id="19694" class="Symbol">(</a><a id="19695" href="Bracketing.html#15252" class="Function">wb-reachable-arr-matched</a> <a id="19720" href="Bracketing.html#18669" class="Bound">wb&#39;&#39;</a> <a id="19725" href="Bracketing.html#18780" class="Bound">r&#39;&#39;</a><a id="19728" class="Symbol">)</a>
          <a id="19740" href="Bracketing.html#19642" class="Bound">p</a> <a id="19742" class="Symbol">=</a> <a id="19744" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="19748" class="Symbol">(</a><a id="19749" href="Cubical.Foundations.Prelude.html#1802" class="Function">congP</a> <a id="19755" class="Symbol">(λ</a> <a id="19758" href="Bracketing.html#19758" class="Bound">i</a> <a id="19760" class="Symbol">→</a> <a id="19762" href="Bracketing.html#5620" class="Function">match</a><a id="19767" class="Symbol">)</a> <a id="19769" href="Bracketing.html#19232" class="Bound">rm&#39;&#39;≡rm&#39;</a><a id="19777" class="Symbol">)</a>
      <a id="19785" class="Keyword">in</a>
      <a id="19794" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="19804" class="Symbol">(λ</a> <a id="19807" href="Bracketing.html#19807" class="Bound">_</a> <a id="19809" class="Symbol">→</a> <a id="19811" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="19817" class="Symbol">)</a> <a id="19819" class="Symbol">(</a><a id="19820" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19824" class="Symbol">(</a><a id="19825" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19829" class="Symbol">(</a><a id="19830" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19834" class="Symbol">(</a><a id="19835" href="Bracketing.html#17107" class="Function">e</a> <a id="19837" href="Bracketing.html#18328" class="Bound">a</a> <a id="19839" class="Symbol">(</a><a id="19840" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="19850" class="Symbol">(λ</a> <a id="19853" href="Bracketing.html#19853" class="Bound">j</a> <a id="19855" class="Symbol">→</a> <a id="19857" href="Bracketing.html#13349" class="Function">well-bracketed-chain</a> <a id="19878" class="Symbol">(</a><a id="19879" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="19883" href="Bracketing.html#18328" class="Bound">a</a> <a id="19885" href="Bracketing.html#18332" class="Bound">b</a> <a id="19887" href="Bracketing.html#18335" class="Bound">r</a> <a id="19889" class="Symbol">(</a><a id="19890" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="19892" href="Bracketing.html#19853" class="Bound">j</a><a id="19893" class="Symbol">)))</a> <a id="19897" href="Bracketing.html#18337" class="Bound">wb</a><a id="19899" class="Symbol">))</a> <a id="19902" class="Symbol">(</a><a id="19903" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="19913" class="Symbol">(λ</a> <a id="19916" href="Bracketing.html#19916" class="Bound">j</a> <a id="19918" class="Symbol">→</a> <a id="19920" href="Arrows.html#28064" class="Function">chainA</a> <a id="19927" class="Symbol">(</a><a id="19928" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="19932" href="Bracketing.html#18328" class="Bound">a</a> <a id="19934" href="Bracketing.html#18332" class="Bound">b</a> <a id="19936" href="Bracketing.html#18335" class="Bound">r</a> <a id="19938" class="Symbol">(</a><a id="19939" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="19941" href="Bracketing.html#19916" class="Bound">j</a><a id="19942" class="Symbol">)))</a> <a id="19946" class="Symbol">(</a><a id="19947" href="Bracketing.html#18340" class="Bound">c</a> <a id="19949" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="19951" href="Bracketing.html#18342" class="Bound">l</a><a id="19952" class="Symbol">)))))</a> <a id="19958" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="19961" href="Cubical.Foundations.Prelude.html#8818" class="Function">transportRefl</a> <a id="19975" class="Symbol">_</a> <a id="19977" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="19985" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19989" class="Symbol">(</a><a id="19990" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19994" class="Symbol">(</a><a id="19995" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19999" class="Symbol">(</a><a id="20000" href="Bracketing.html#17107" class="Function">e</a> <a id="20002" href="Bracketing.html#18328" class="Bound">a</a> <a id="20004" class="Symbol">(</a><a id="20005" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="20015" class="Symbol">(λ</a> <a id="20018" href="Bracketing.html#20018" class="Bound">j</a> <a id="20020" class="Symbol">→</a> <a id="20022" href="Bracketing.html#13349" class="Function">well-bracketed-chain</a> <a id="20043" class="Symbol">(</a><a id="20044" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="20048" href="Bracketing.html#18328" class="Bound">a</a> <a id="20050" href="Bracketing.html#18332" class="Bound">b</a> <a id="20052" href="Bracketing.html#18335" class="Bound">r</a> <a id="20054" class="Symbol">(</a><a id="20055" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="20057" href="Bracketing.html#20018" class="Bound">j</a><a id="20058" class="Symbol">)))</a> <a id="20062" href="Bracketing.html#18337" class="Bound">wb</a><a id="20064" class="Symbol">))</a> <a id="20067" class="Symbol">(</a><a id="20068" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="20078" class="Symbol">(λ</a> <a id="20081" href="Bracketing.html#20081" class="Bound">j</a> <a id="20083" class="Symbol">→</a> <a id="20085" href="Arrows.html#28064" class="Function">chainA</a> <a id="20092" class="Symbol">(</a><a id="20093" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="20097" href="Bracketing.html#18328" class="Bound">a</a> <a id="20099" href="Bracketing.html#18332" class="Bound">b</a> <a id="20101" href="Bracketing.html#18335" class="Bound">r</a> <a id="20103" class="Symbol">(</a><a id="20104" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="20106" href="Bracketing.html#20081" class="Bound">j</a><a id="20107" class="Symbol">)))</a> <a id="20111" class="Symbol">(</a><a id="20112" href="Bracketing.html#18340" class="Bound">c</a> <a id="20114" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20116" href="Bracketing.html#18342" class="Bound">l</a><a id="20117" class="Symbol">))))</a> <a id="20122" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="20125" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="20130" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="20138" href="Bracketing.html#17107" class="Function">e</a> <a id="20140" href="Bracketing.html#18328" class="Bound">a</a> <a id="20142" class="Symbol">(</a><a id="20143" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="20153" class="Symbol">(λ</a> <a id="20156" href="Bracketing.html#20156" class="Bound">j</a> <a id="20158" class="Symbol">→</a> <a id="20160" href="Bracketing.html#13349" class="Function">well-bracketed-chain</a> <a id="20181" class="Symbol">(</a><a id="20182" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="20186" href="Bracketing.html#18328" class="Bound">a</a> <a id="20188" href="Bracketing.html#18332" class="Bound">b</a> <a id="20190" href="Bracketing.html#18335" class="Bound">r</a> <a id="20192" class="Symbol">(</a><a id="20193" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="20195" href="Bracketing.html#20156" class="Bound">j</a><a id="20196" class="Symbol">)))</a> <a id="20200" href="Bracketing.html#18337" class="Bound">wb</a><a id="20202" class="Symbol">)</a> <a id="20204" class="Symbol">.</a><a id="20205" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20209" class="Symbol">(</a><a id="20210" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="20220" class="Symbol">(λ</a> <a id="20223" href="Bracketing.html#20223" class="Bound">j</a> <a id="20225" class="Symbol">→</a> <a id="20227" href="Arrows.html#28064" class="Function">chainA</a> <a id="20234" class="Symbol">(</a><a id="20235" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="20239" href="Bracketing.html#18328" class="Bound">a</a> <a id="20241" href="Bracketing.html#18332" class="Bound">b</a> <a id="20243" href="Bracketing.html#18335" class="Bound">r</a> <a id="20245" class="Symbol">(</a><a id="20246" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="20248" href="Bracketing.html#20223" class="Bound">j</a><a id="20249" class="Symbol">)))</a> <a id="20253" class="Symbol">(</a><a id="20254" href="Bracketing.html#18340" class="Bound">c</a> <a id="20256" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20258" href="Bracketing.html#18342" class="Bound">l</a><a id="20259" class="Symbol">))</a> <a id="20262" class="Symbol">.</a><a id="20263" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20267" class="Symbol">.</a><a id="20268" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20272" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="20275" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="20280" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="20288" href="Bracketing.html#5620" class="Function">match</a> <a id="20294" class="Symbol">(</a><a id="20295" href="Bracketing.html#15252" class="Function">wb-reachable-arr-matched</a> <a id="20320" class="Symbol">(</a><a id="20321" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="20331" class="Symbol">(λ</a> <a id="20334" href="Bracketing.html#20334" class="Bound">j</a> <a id="20336" class="Symbol">→</a> <a id="20338" href="Bracketing.html#13349" class="Function">well-bracketed-chain</a> <a id="20359" class="Symbol">(</a><a id="20360" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="20364" href="Bracketing.html#18328" class="Bound">a</a> <a id="20366" href="Bracketing.html#18332" class="Bound">b</a> <a id="20368" href="Bracketing.html#18335" class="Bound">r</a> <a id="20370" class="Symbol">(</a><a id="20371" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="20373" href="Bracketing.html#20334" class="Bound">j</a><a id="20374" class="Symbol">)))</a> <a id="20378" href="Bracketing.html#18337" class="Bound">wb</a><a id="20380" class="Symbol">)</a> <a id="20382" class="Symbol">(</a><a id="20383" href="Arrows.html#23307" class="Function">element-is-reachable-arr</a> <a id="20408" class="Symbol">(</a><a id="20409" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20413" class="Symbol">((</a><a id="20415" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="20425" class="Symbol">(λ</a> <a id="20428" href="Bracketing.html#20428" class="Bound">j</a> <a id="20430" class="Symbol">→</a> <a id="20432" href="Arrows.html#28064" class="Function">chainA</a> <a id="20439" class="Symbol">(</a><a id="20440" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="20444" href="Bracketing.html#18328" class="Bound">a</a> <a id="20446" href="Bracketing.html#18332" class="Bound">b</a> <a id="20448" href="Bracketing.html#18335" class="Bound">r</a> <a id="20450" class="Symbol">(</a><a id="20451" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="20453" href="Bracketing.html#20428" class="Bound">j</a><a id="20454" class="Symbol">)))</a> <a id="20458" class="Symbol">(</a><a id="20459" href="Bracketing.html#18340" class="Bound">c</a> <a id="20461" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20463" href="Bracketing.html#18342" class="Bound">l</a><a id="20464" class="Symbol">))))))</a> <a id="20471" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a>
        <a id="20482" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a>
          <a id="20498" class="Symbol">(λ</a> <a id="20501" href="Bracketing.html#20501" class="Bound">X</a> <a id="20503" class="Symbol">→</a> <a id="20505" href="Bracketing.html#20501" class="Bound">X</a> <a id="20507" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="20509" href="Bracketing.html#5620" class="Function">match</a> <a id="20515" class="Symbol">(</a><a id="20516" href="Bracketing.html#15252" class="Function">wb-reachable-arr-matched</a> <a id="20541" href="Bracketing.html#18337" class="Bound">wb</a> <a id="20544" class="Symbol">(</a><a id="20545" href="Arrows.html#23307" class="Function">element-is-reachable-arr</a> <a id="20570" href="Bracketing.html#18340" class="Bound">c</a><a id="20571" class="Symbol">)))</a>
          <a id="20585" href="Bracketing.html#19642" class="Bound">p</a>
          <a id="20597" class="Symbol">(</a><a id="20598" href="Bracketing.html#17572" class="Function">match-indep</a> <a id="20610" href="Bracketing.html#18335" class="Bound">r</a>
            <a id="20624" class="Symbol">(</a><a id="20625" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="20635" class="Symbol">(λ</a> <a id="20638" href="Bracketing.html#20638" class="Bound">j</a> <a id="20640" class="Symbol">→</a> <a id="20642" href="Bracketing.html#13349" class="Function">well-bracketed-chain</a> <a id="20663" class="Symbol">(</a><a id="20664" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="20668" href="Bracketing.html#18328" class="Bound">a</a> <a id="20670" href="Bracketing.html#18332" class="Bound">b</a> <a id="20672" href="Bracketing.html#18335" class="Bound">r</a> <a id="20674" class="Symbol">(</a><a id="20675" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="20677" href="Bracketing.html#20638" class="Bound">j</a><a id="20678" class="Symbol">)))</a> <a id="20682" href="Bracketing.html#18337" class="Bound">wb</a><a id="20684" class="Symbol">)</a>
            <a id="20698" class="Symbol">(</a><a id="20699" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="20705" class="Symbol">(</a><a id="20706" href="Arrows.html#10174" class="Function">is-reachable-arr</a> <a id="20723" href="Bracketing.html#18328" class="Bound">a</a><a id="20724" class="Symbol">)</a> <a id="20726" class="Symbol">(</a><a id="20727" href="Cubical.Foundations.Prelude.html#8818" class="Function">transportRefl</a> <a id="20741" class="Symbol">_)</a> <a id="20744" class="Symbol">(</a><a id="20745" href="Arrows.html#23307" class="Function">element-is-reachable-arr</a> <a id="20770" class="Symbol">(</a><a id="20771" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20775" class="Symbol">((</a><a id="20777" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="20787" class="Symbol">(λ</a> <a id="20790" href="Bracketing.html#20790" class="Bound">j</a> <a id="20792" class="Symbol">→</a> <a id="20794" href="Arrows.html#28064" class="Function">chainA</a> <a id="20801" class="Symbol">(</a><a id="20802" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="20806" href="Bracketing.html#18328" class="Bound">a</a> <a id="20808" href="Bracketing.html#18332" class="Bound">b</a> <a id="20810" href="Bracketing.html#18335" class="Bound">r</a> <a id="20812" class="Symbol">(</a><a id="20813" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="20815" href="Bracketing.html#20790" class="Bound">j</a><a id="20816" class="Symbol">)))</a> <a id="20820" class="Symbol">(</a><a id="20821" href="Bracketing.html#18340" class="Bound">c</a> <a id="20823" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20825" href="Bracketing.html#18342" class="Bound">l</a><a id="20826" class="Symbol">))))))</a>
            <a id="20845" href="Bracketing.html#18337" class="Bound">wb</a>
            <a id="20860" class="Symbol">(</a><a id="20861" href="Arrows.html#23307" class="Function">element-is-reachable-arr</a> <a id="20886" href="Bracketing.html#18340" class="Bound">c</a><a id="20887" class="Symbol">))</a>
        <a id="20898" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a> <a id="20900" class="Comment">-- essentially match-indep plus some transportRefl (lots of noise for not much...)</a>
      <a id="20989" href="Bracketing.html#5620" class="Function">match</a> <a id="20995" class="Symbol">(</a><a id="20996" href="Bracketing.html#15252" class="Function">wb-reachable-arr-matched</a> <a id="21021" href="Bracketing.html#18337" class="Bound">wb</a> <a id="21024" class="Symbol">(</a><a id="21025" href="Arrows.html#23307" class="Function">element-is-reachable-arr</a> <a id="21050" href="Bracketing.html#18340" class="Bound">c</a><a id="21051" class="Symbol">))</a> <a id="21054" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="21057" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="21062" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="21070" href="Bracketing.html#17107" class="Function">e</a> <a id="21072" href="Bracketing.html#18332" class="Bound">b</a> <a id="21074" href="Bracketing.html#18337" class="Bound">wb</a> <a id="21077" class="Symbol">.</a><a id="21078" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="21082" class="Symbol">(</a><a id="21083" href="Bracketing.html#18340" class="Bound">c</a> <a id="21085" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="21087" href="Bracketing.html#18342" class="Bound">l</a><a id="21088" class="Symbol">)</a> <a id="21090" class="Symbol">.</a><a id="21091" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="21095" class="Symbol">.</a><a id="21096" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="21100" href="Cubical.Foundations.Prelude.html#8499" class="Function Operator">∎</a>

</pre></body></html>