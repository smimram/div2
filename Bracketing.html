<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Bracketing</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--cubical</a> <a id="23" class="Pragma">--allow-unsolved-metas</a> <a id="46" class="Symbol">#-}</a>

<a id="51" class="Keyword">open</a> <a id="56" class="Keyword">import</a> <a id="63" href="Cubical.Foundations.Prelude.html" class="Module">Cubical.Foundations.Prelude</a>
<a id="91" class="Keyword">open</a> <a id="96" class="Keyword">import</a> <a id="103" href="Cubical.Foundations.Function.html" class="Module">Cubical.Foundations.Function</a>
<a id="132" class="Keyword">open</a> <a id="137" class="Keyword">import</a> <a id="144" href="Cubical.Foundations.Isomorphism.html" class="Module">Cubical.Foundations.Isomorphism</a>
<a id="176" class="Keyword">open</a> <a id="181" class="Keyword">import</a> <a id="188" href="Cubical.Foundations.Equiv.html" class="Module">Cubical.Foundations.Equiv</a>
<a id="214" class="Keyword">open</a> <a id="219" class="Keyword">import</a> <a id="226" href="Cubical.Foundations.HLevels.html" class="Module">Cubical.Foundations.HLevels</a>
<a id="254" class="Keyword">open</a> <a id="259" class="Keyword">import</a> <a id="266" href="Cubical.Foundations.Univalence.html" class="Module">Cubical.Foundations.Univalence</a>
<a id="297" class="Keyword">open</a> <a id="302" class="Keyword">import</a> <a id="309" href="Cubical.Relation.Nullary.html" class="Module">Cubical.Relation.Nullary</a>
<a id="334" class="Keyword">open</a> <a id="339" class="Keyword">import</a> <a id="346" href="Cubical.Relation.Binary.html" class="Module">Cubical.Relation.Binary</a>
<a id="370" class="Keyword">open</a> <a id="375" href="Cubical.Relation.Binary.Base.html#1455" class="Module">BinaryRelation</a> <a id="390" class="Keyword">using</a> <a id="396" class="Symbol">(</a><a id="397" href="Cubical.Relation.Binary.Base.html#1813" class="Record">isEquivRel</a><a id="407" class="Symbol">)</a>
<a id="409" class="Keyword">open</a> <a id="414" class="Keyword">import</a> <a id="421" href="Cubical.Data.Empty.html" class="Module">Cubical.Data.Empty</a> <a id="440" class="Symbol">as</a> <a id="443" class="Module">⊥</a>
<a id="445" class="Keyword">open</a> <a id="450" class="Keyword">import</a> <a id="457" href="Cubical.Data.Unit.html" class="Module">Cubical.Data.Unit</a> <a id="475" class="Keyword">renaming</a> <a id="484" class="Symbol">(</a><a id="485" href="Cubical.Data.Unit.Base.html#171" class="Record">Unit</a> <a id="490" class="Symbol">to</a> <a id="493" class="Record">⊤</a><a id="494" class="Symbol">)</a>
<a id="496" class="Keyword">open</a> <a id="501" class="Keyword">import</a> <a id="508" href="Cubical.Data.Sum.html" class="Module">Cubical.Data.Sum</a>
<a id="525" class="Keyword">open</a> <a id="530" class="Keyword">import</a> <a id="537" href="Cubical.Data.Sigma.html" class="Module">Cubical.Data.Sigma</a>
<a id="556" class="Keyword">open</a> <a id="561" class="Keyword">import</a> <a id="568" href="Z.html" class="Module">Z</a> <a id="570" class="Symbol">as</a> <a id="573" class="Module">ℤ</a> <a id="575" class="Keyword">hiding</a> <a id="582" class="Symbol">(</a><a id="583" href="Z.html#11171" class="Function Operator">_&lt;_</a> <a id="587" class="Symbol">;</a> <a id="589" href="Z.html#11116" class="Function Operator">_≤_</a> <a id="593" class="Symbol">;</a> <a id="595" href="Z.html#12466" class="Postulate Operator">_≟_</a><a id="598" class="Symbol">)</a>
<a id="600" class="Keyword">open</a> <a id="605" class="Keyword">import</a> <a id="612" href="Cubical.Data.Nat.html" class="Module">Cubical.Data.Nat</a> <a id="629" class="Symbol">as</a> <a id="632" class="Module">ℕ</a>
<a id="634" class="Keyword">open</a> <a id="639" class="Keyword">import</a> <a id="646" href="Cubical.Data.Nat.Order.html" class="Module">Cubical.Data.Nat.Order</a> <a id="669" class="Symbol">as</a> <a id="672" class="Module">ℕ</a> <a id="674" class="Keyword">hiding</a> <a id="681" class="Symbol">(</a><a id="682" href="Cubical.Data.Nat.Order.html#642" class="Function Operator">_&gt;_</a><a id="685" class="Symbol">)</a>
<a id="687" class="Keyword">open</a> <a id="692" class="Keyword">import</a> <a id="699" href="Nat.html" class="Module">Nat</a> <a id="703" class="Symbol">as</a> <a id="706" class="Module">ℕ</a>
<a id="708" class="Keyword">open</a> <a id="713" class="Keyword">import</a> <a id="720" href="Misc.html" class="Module">Misc</a>
<a id="725" class="Keyword">open</a> <a id="730" class="Keyword">import</a> <a id="737" href="Cubical.HITs.PropositionalTruncation.html" class="Module">Cubical.HITs.PropositionalTruncation</a> <a id="774" class="Symbol">as</a> <a id="777" class="Module">∥∥</a>
<a id="780" class="Keyword">open</a> <a id="785" class="Keyword">import</a> <a id="792" href="Cubical.HITs.SetQuotients.html" class="Module">Cubical.HITs.SetQuotients</a> <a id="818" class="Symbol">as</a> <a id="821" class="Module">[]</a>

<a id="825" class="Keyword">open</a> <a id="830" class="Keyword">import</a> <a id="837" href="Ends.html" class="Module">Ends</a>

<a id="843" class="Keyword">module</a> <a id="850" href="Bracketing.html" class="Module">Bracketing</a> <a id="861" class="Symbol">{</a><a id="862" href="Bracketing.html#862" class="Bound">ℓ</a><a id="863" class="Symbol">}</a> <a id="865" class="Symbol">{</a><a id="866" href="Bracketing.html#866" class="Bound">A</a> <a id="868" href="Bracketing.html#868" class="Bound">B</a> <a id="870" class="Symbol">:</a> <a id="872" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="877" href="Bracketing.html#862" class="Bound">ℓ</a><a id="878" class="Symbol">}</a> <a id="880" class="Symbol">(</a><a id="881" href="Bracketing.html#881" class="Bound">DA</a> <a id="884" class="Symbol">:</a> <a id="886" href="Cubical.Relation.Nullary.Base.html#1538" class="Function">Discrete</a> <a id="895" href="Bracketing.html#866" class="Bound">A</a><a id="896" class="Symbol">)</a> <a id="898" class="Symbol">(</a><a id="899" href="Bracketing.html#899" class="Bound">DB</a> <a id="902" class="Symbol">:</a> <a id="904" href="Cubical.Relation.Nullary.Base.html#1538" class="Function">Discrete</a> <a id="913" href="Bracketing.html#868" class="Bound">B</a><a id="914" class="Symbol">)</a> <a id="916" class="Symbol">(</a><a id="917" href="Bracketing.html#917" class="Bound">isom</a> <a id="922" class="Symbol">:</a> <a id="924" href="Bracketing.html#866" class="Bound">A</a> <a id="926" href="Cubical.Data.Sigma.Base.html#461" class="Function Operator">×</a> <a id="928" href="Ends.html#323" class="Datatype">End</a> <a id="932" href="Agda.Builtin.Cubical.Glue.html#1051" class="Function Operator">≃</a> <a id="934" href="Bracketing.html#868" class="Bound">B</a> <a id="936" href="Cubical.Data.Sigma.Base.html#461" class="Function Operator">×</a> <a id="938" href="Ends.html#323" class="Datatype">End</a><a id="941" class="Symbol">)</a> <a id="943" class="Keyword">where</a>

<a id="950" class="Keyword">open</a> <a id="955" class="Keyword">import</a> <a id="962" href="Arrows.html" class="Module">Arrows</a> <a id="969" href="Bracketing.html#881" class="Bound">DA</a> <a id="972" href="Bracketing.html#899" class="Bound">DB</a> <a id="975" href="Bracketing.html#917" class="Bound">isom</a>

<a id="981" class="Comment">---</a>
<a id="985" class="Comment">--- Well-bracketed chains</a>
<a id="1011" class="Comment">---</a>

<a id="opening"></a><a id="1016" href="Bracketing.html#1016" class="Function">opening</a> <a id="1024" class="Symbol">:</a> <a id="1026" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1024" class="Datatype">ℤ</a>
<a id="1028" href="Bracketing.html#1016" class="Function">opening</a> <a id="1036" class="Symbol">=</a> <a id="1038" href="Z.html#634" class="Function">ℤ.one</a>

<a id="closing"></a><a id="1045" href="Bracketing.html#1045" class="Function">closing</a> <a id="1053" class="Symbol">:</a> <a id="1055" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1024" class="Datatype">ℤ</a>
<a id="1057" href="Bracketing.html#1045" class="Function">closing</a> <a id="1065" class="Symbol">=</a> <a id="1067" href="Z.html#5769" class="Function">ℤ.neg</a> <a id="1073" href="Z.html#634" class="Function">ℤ.one</a>

<a id="1080" class="Comment">-- Weight of an arrow, contrarily to Conway&#39;s paper, the convention is: → is</a>
<a id="1157" class="Comment">-- opening and ← is closing</a>
<a id="weight"></a><a id="1185" href="Bracketing.html#1185" class="Function">weight</a> <a id="1192" class="Symbol">:</a> <a id="1194" href="ArrowsBase.html#871" class="Function">dArrows</a> <a id="1202" class="Symbol">→</a> <a id="1204" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1024" class="Datatype">ℤ</a>
<a id="1206" href="Bracketing.html#1185" class="Function">weight</a> <a id="1213" class="Symbol">(_</a> <a id="1216" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1218" href="Ends.html#341" class="InductiveConstructor">src</a><a id="1221" class="Symbol">)</a> <a id="1223" class="Symbol">=</a> <a id="1225" href="Bracketing.html#1016" class="Function">opening</a>
<a id="1233" href="Bracketing.html#1185" class="Function">weight</a> <a id="1240" class="Symbol">(_</a> <a id="1243" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1245" href="Ends.html#353" class="InductiveConstructor">tgt</a><a id="1248" class="Symbol">)</a> <a id="1250" class="Symbol">=</a> <a id="1252" href="Bracketing.html#1045" class="Function">closing</a>

<a id="1261" class="Comment">-- -- every bracket is either opening or closing and thus brings one in the total</a>
<a id="1343" class="Comment">-- -- count</a>
<a id="1355" class="Comment">-- weight-one : (x : Ends) → (weight x ≡ ℤ.one) ⊎ (weight x ≡ ℤ.neg ℤ.one)</a>
<a id="1430" class="Comment">-- weight-one (_ , src) = inl refl</a>
<a id="1465" class="Comment">-- weight-one (_ , tgt) = inr refl</a>

<a id="1501" class="Comment">-- weight-fw : (a : Arrows) → weight (fw a) ≡ opening</a>
<a id="1555" class="Comment">-- weight-fw _ = refl</a>

<a id="weight-op"></a><a id="1578" href="Bracketing.html#1578" class="Function">weight-op</a> <a id="1588" class="Symbol">:</a> <a id="1590" class="Symbol">(</a><a id="1591" href="Bracketing.html#1591" class="Bound">e</a> <a id="1593" class="Symbol">:</a> <a id="1595" href="ArrowsBase.html#871" class="Function">dArrows</a><a id="1602" class="Symbol">)</a> <a id="1604" class="Symbol">→</a> <a id="1606" href="Bracketing.html#1185" class="Function">weight</a> <a id="1613" class="Symbol">(</a><a id="1614" href="Arrows.html#1732" class="Function">op</a> <a id="1617" href="Bracketing.html#1591" class="Bound">e</a><a id="1618" class="Symbol">)</a> <a id="1620" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="1622" href="Z.html#5769" class="Function">ℤ.neg</a> <a id="1628" class="Symbol">(</a><a id="1629" href="Bracketing.html#1185" class="Function">weight</a> <a id="1636" href="Bracketing.html#1591" class="Bound">e</a><a id="1637" class="Symbol">)</a>
<a id="1639" href="Bracketing.html#1578" class="Function">weight-op</a> <a id="1649" class="Symbol">(</a><a id="1650" href="Bracketing.html#1650" class="Bound">x</a> <a id="1652" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1654" href="Ends.html#341" class="InductiveConstructor">src</a><a id="1657" class="Symbol">)</a> <a id="1659" class="Symbol">=</a> <a id="1661" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a>
<a id="1666" href="Bracketing.html#1578" class="Function">weight-op</a> <a id="1676" class="Symbol">(</a><a id="1677" href="Bracketing.html#1677" class="Bound">x</a> <a id="1679" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1681" href="Ends.html#353" class="InductiveConstructor">tgt</a><a id="1684" class="Symbol">)</a> <a id="1686" class="Symbol">=</a> <a id="1688" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a>

<a id="1694" class="Comment">-- number of opening and closing brackets within the next n arrows</a>
<a id="height"></a><a id="1761" href="Bracketing.html#1761" class="Function">height</a> <a id="1768" class="Symbol">:</a> <a id="1770" class="Symbol">(</a><a id="1771" href="Bracketing.html#1771" class="Bound">n</a> <a id="1773" class="Symbol">:</a> <a id="1775" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1776" class="Symbol">)</a> <a id="1778" class="Symbol">→</a> <a id="1780" href="ArrowsBase.html#871" class="Function">dArrows</a> <a id="1788" class="Symbol">→</a> <a id="1790" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1024" class="Datatype">ℤ</a>
<a id="1792" href="Bracketing.html#1761" class="Function">height</a> <a id="1799" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">ℕ.zero</a>  <a id="1807" href="Bracketing.html#1807" class="Bound">x</a> <a id="1809" class="Symbol">=</a> <a id="1811" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1047" class="InductiveConstructor">ℤ.zero</a>
<a id="1818" href="Bracketing.html#1761" class="Function">height</a> <a id="1825" class="Symbol">(</a><a id="1826" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1830" href="Bracketing.html#1830" class="Bound">n</a><a id="1831" class="Symbol">)</a> <a id="1833" href="Bracketing.html#1833" class="Bound">x</a> <a id="1835" class="Symbol">=</a> <a id="1837" href="Bracketing.html#1761" class="Function">height</a> <a id="1844" href="Bracketing.html#1830" class="Bound">n</a> <a id="1846" href="Bracketing.html#1833" class="Bound">x</a> <a id="1848" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="1852" href="Bracketing.html#1185" class="Function">weight</a> <a id="1859" class="Symbol">(</a><a id="1860" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="1868" class="Symbol">(</a><a id="1869" href="Z.html#6608" class="Function">fromℕ</a> <a id="1875" href="Bracketing.html#1830" class="Bound">n</a><a id="1876" class="Symbol">)</a> <a id="1878" href="Bracketing.html#1833" class="Bound">x</a><a id="1879" class="Symbol">)</a>

<a id="1882" class="Keyword">abstract</a>
  <a id="1893" class="Comment">-- height is compatible with concatenation</a>
  <a id="height-+"></a><a id="1938" href="Bracketing.html#1938" class="Function">height-+</a> <a id="1947" class="Symbol">:</a> <a id="1949" class="Symbol">(</a><a id="1950" href="Bracketing.html#1950" class="Bound">m</a> <a id="1952" href="Bracketing.html#1952" class="Bound">n</a> <a id="1954" class="Symbol">:</a> <a id="1956" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1957" class="Symbol">)</a> <a id="1959" class="Symbol">(</a><a id="1960" href="Bracketing.html#1960" class="Bound">e</a> <a id="1962" class="Symbol">:</a> <a id="1964" href="ArrowsBase.html#801" class="Function">Ends</a><a id="1968" class="Symbol">)</a> <a id="1970" class="Symbol">→</a> <a id="1972" href="Bracketing.html#1761" class="Function">height</a> <a id="1979" class="Symbol">(</a><a id="1980" href="Bracketing.html#1950" class="Bound">m</a> <a id="1982" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="1986" href="Bracketing.html#1952" class="Bound">n</a><a id="1987" class="Symbol">)</a> <a id="1989" href="Bracketing.html#1960" class="Bound">e</a> <a id="1991" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="1993" href="Bracketing.html#1761" class="Function">height</a> <a id="2000" href="Bracketing.html#1950" class="Bound">m</a> <a id="2002" href="Bracketing.html#1960" class="Bound">e</a> <a id="2004" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="2008" href="Bracketing.html#1761" class="Function">height</a> <a id="2015" href="Bracketing.html#1952" class="Bound">n</a> <a id="2017" class="Symbol">(</a><a id="2018" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="2026" class="Symbol">(</a><a id="2027" href="Z.html#6608" class="Function">fromℕ</a> <a id="2033" href="Bracketing.html#1950" class="Bound">m</a><a id="2034" class="Symbol">)</a> <a id="2036" href="Bracketing.html#1960" class="Bound">e</a><a id="2037" class="Symbol">)</a>
  <a id="2041" href="Bracketing.html#1938" class="Function">height-+</a> <a id="2050" href="Bracketing.html#2050" class="Bound">m</a> <a id="2052" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">ℕ.zero</a> <a id="2059" href="Bracketing.html#2059" class="Bound">e</a> <a id="2061" class="Symbol">=</a> <a id="2063" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="2068" class="Symbol">(λ</a> <a id="2071" href="Bracketing.html#2071" class="Bound">k</a> <a id="2073" class="Symbol">→</a> <a id="2075" href="Bracketing.html#1761" class="Function">height</a> <a id="2082" href="Bracketing.html#2071" class="Bound">k</a> <a id="2084" href="Bracketing.html#2059" class="Bound">e</a><a id="2085" class="Symbol">)</a> <a id="2087" class="Symbol">(</a><a id="2088" href="Cubical.Data.Nat.Properties.html#3927" class="Function">ℕ.+-zero</a> <a id="2097" href="Bracketing.html#2050" class="Bound">m</a><a id="2098" class="Symbol">)</a> <a id="2100" href="Cubical.Foundations.Prelude.html#4447" class="Function Operator">∙</a> <a id="2102" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="2106" class="Symbol">(</a><a id="2107" href="Z.html#5357" class="Postulate">ℤ.+-zero</a> <a id="2116" class="Symbol">(</a><a id="2117" href="Bracketing.html#1761" class="Function">height</a> <a id="2124" href="Bracketing.html#2050" class="Bound">m</a> <a id="2126" href="Bracketing.html#2059" class="Bound">e</a><a id="2127" class="Symbol">))</a>
  <a id="2132" href="Bracketing.html#1938" class="Function">height-+</a> <a id="2141" href="Bracketing.html#2141" class="Bound">m</a> <a id="2143" class="Symbol">(</a><a id="2144" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="2148" href="Bracketing.html#2148" class="Bound">n</a><a id="2149" class="Symbol">)</a> <a id="2151" href="Bracketing.html#2151" class="Bound">e</a> <a id="2153" class="Symbol">=</a>
    <a id="2159" href="Bracketing.html#1761" class="Function">height</a> <a id="2166" class="Symbol">(</a><a id="2167" href="Bracketing.html#2141" class="Bound">m</a> <a id="2169" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="2173" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="2177" href="Bracketing.html#2148" class="Bound">n</a><a id="2178" class="Symbol">)</a> <a id="2180" href="Bracketing.html#2151" class="Bound">e</a>                                                                               <a id="2260" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="2263" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="2268" class="Symbol">(λ</a> <a id="2271" href="Bracketing.html#2271" class="Bound">k</a> <a id="2273" class="Symbol">→</a> <a id="2275" href="Bracketing.html#1761" class="Function">height</a> <a id="2282" href="Bracketing.html#2271" class="Bound">k</a> <a id="2284" href="Bracketing.html#2151" class="Bound">e</a><a id="2285" class="Symbol">)</a> <a id="2287" class="Symbol">(</a><a id="2288" href="Cubical.Data.Nat.Properties.html#4009" class="Function">ℕ.+-suc</a> <a id="2296" href="Bracketing.html#2141" class="Bound">m</a> <a id="2298" href="Bracketing.html#2148" class="Bound">n</a><a id="2299" class="Symbol">)</a> <a id="2301" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="2307" href="Bracketing.html#1761" class="Function">height</a> <a id="2314" class="Symbol">(</a><a id="2315" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="2319" class="Symbol">(</a><a id="2320" href="Bracketing.html#2141" class="Bound">m</a> <a id="2322" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="2326" href="Bracketing.html#2148" class="Bound">n</a><a id="2327" class="Symbol">))</a> <a id="2330" href="Bracketing.html#2151" class="Bound">e</a>                                                                             <a id="2408" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="2411" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="2416" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="2422" href="Bracketing.html#1761" class="Function">height</a> <a id="2429" class="Symbol">(</a><a id="2430" href="Bracketing.html#2141" class="Bound">m</a> <a id="2432" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="2436" href="Bracketing.html#2148" class="Bound">n</a><a id="2437" class="Symbol">)</a> <a id="2439" href="Bracketing.html#2151" class="Bound">e</a> <a id="2441" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="2445" href="Bracketing.html#1185" class="Function">weight</a> <a id="2452" class="Symbol">(</a><a id="2453" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="2461" class="Symbol">(</a><a id="2462" href="Z.html#6608" class="Function">fromℕ</a> <a id="2468" class="Symbol">(</a><a id="2469" href="Bracketing.html#2141" class="Bound">m</a> <a id="2471" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="2475" href="Bracketing.html#2148" class="Bound">n</a><a id="2476" class="Symbol">))</a> <a id="2479" href="Bracketing.html#2151" class="Bound">e</a><a id="2480" class="Symbol">)</a>                                          <a id="2523" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="2526" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="2531" class="Symbol">(λ</a> <a id="2534" href="Bracketing.html#2534" class="Bound">k</a> <a id="2536" class="Symbol">→</a> <a id="2538" href="Bracketing.html#2534" class="Bound">k</a> <a id="2540" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="2544" href="Bracketing.html#1185" class="Function">weight</a> <a id="2551" class="Symbol">(</a><a id="2552" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="2560" class="Symbol">(</a><a id="2561" href="Z.html#6608" class="Function">fromℕ</a> <a id="2567" class="Symbol">(</a><a id="2568" href="Bracketing.html#2141" class="Bound">m</a> <a id="2570" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="2574" href="Bracketing.html#2148" class="Bound">n</a><a id="2575" class="Symbol">))</a> <a id="2578" href="Bracketing.html#2151" class="Bound">e</a><a id="2579" class="Symbol">))</a> <a id="2582" class="Symbol">(</a><a id="2583" href="Bracketing.html#1938" class="Function">height-+</a> <a id="2592" href="Bracketing.html#2141" class="Bound">m</a> <a id="2594" href="Bracketing.html#2148" class="Bound">n</a> <a id="2596" href="Bracketing.html#2151" class="Bound">e</a><a id="2597" class="Symbol">)</a> <a id="2599" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="2605" class="Symbol">(</a><a id="2606" href="Bracketing.html#1761" class="Function">height</a> <a id="2613" href="Bracketing.html#2141" class="Bound">m</a> <a id="2615" href="Bracketing.html#2151" class="Bound">e</a> <a id="2617" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="2621" href="Bracketing.html#1761" class="Function">height</a> <a id="2628" href="Bracketing.html#2148" class="Bound">n</a> <a id="2630" class="Symbol">(</a><a id="2631" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="2639" class="Symbol">(</a><a id="2640" href="Z.html#6608" class="Function">fromℕ</a> <a id="2646" href="Bracketing.html#2141" class="Bound">m</a><a id="2647" class="Symbol">)</a> <a id="2649" href="Bracketing.html#2151" class="Bound">e</a><a id="2650" class="Symbol">))</a> <a id="2653" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="2657" href="Bracketing.html#1185" class="Function">weight</a> <a id="2664" class="Symbol">(</a><a id="2665" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="2673" class="Symbol">(</a><a id="2674" href="Z.html#6608" class="Function">fromℕ</a> <a id="2680" class="Symbol">(</a><a id="2681" href="Bracketing.html#2141" class="Bound">m</a> <a id="2683" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="2687" href="Bracketing.html#2148" class="Bound">n</a><a id="2688" class="Symbol">))</a> <a id="2691" href="Bracketing.html#2151" class="Bound">e</a><a id="2692" class="Symbol">)</a>             <a id="2706" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="2709" href="Z.html#5650" class="Function">ℤ.cong-+-r</a> <a id="2720" class="Symbol">(</a><a id="2721" href="Bracketing.html#1761" class="Function">height</a> <a id="2728" href="Bracketing.html#2141" class="Bound">m</a> <a id="2730" href="Bracketing.html#2151" class="Bound">e</a> <a id="2732" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="2736" href="Bracketing.html#1761" class="Function">height</a> <a id="2743" href="Bracketing.html#2148" class="Bound">n</a> <a id="2745" class="Symbol">(</a><a id="2746" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="2754" class="Symbol">(</a><a id="2755" href="Z.html#6608" class="Function">fromℕ</a> <a id="2761" href="Bracketing.html#2141" class="Bound">m</a><a id="2762" class="Symbol">)</a> <a id="2764" href="Bracketing.html#2151" class="Bound">e</a><a id="2765" class="Symbol">))</a> <a id="2768" class="Symbol">(</a><a id="2769" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="2774" class="Symbol">(λ</a> <a id="2777" href="Bracketing.html#2777" class="Bound">k</a> <a id="2779" class="Symbol">→</a> <a id="2781" href="Bracketing.html#1185" class="Function">weight</a> <a id="2788" class="Symbol">(</a><a id="2789" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="2797" href="Bracketing.html#2777" class="Bound">k</a> <a id="2799" href="Bracketing.html#2151" class="Bound">e</a><a id="2800" class="Symbol">))</a> <a id="2803" class="Symbol">(</a><a id="2804" href="Z.html#6687" class="Postulate">fromℕ-+</a> <a id="2812" href="Bracketing.html#2141" class="Bound">m</a> <a id="2814" href="Bracketing.html#2148" class="Bound">n</a><a id="2815" class="Symbol">))</a> <a id="2818" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="2824" class="Symbol">(</a><a id="2825" href="Bracketing.html#1761" class="Function">height</a> <a id="2832" href="Bracketing.html#2141" class="Bound">m</a> <a id="2834" href="Bracketing.html#2151" class="Bound">e</a> <a id="2836" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="2840" href="Bracketing.html#1761" class="Function">height</a> <a id="2847" href="Bracketing.html#2148" class="Bound">n</a> <a id="2849" class="Symbol">(</a><a id="2850" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="2858" class="Symbol">(</a><a id="2859" href="Z.html#6608" class="Function">fromℕ</a> <a id="2865" href="Bracketing.html#2141" class="Bound">m</a><a id="2866" class="Symbol">)</a> <a id="2868" href="Bracketing.html#2151" class="Bound">e</a><a id="2869" class="Symbol">))</a> <a id="2872" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="2876" href="Bracketing.html#1185" class="Function">weight</a> <a id="2883" class="Symbol">(</a><a id="2884" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="2892" class="Symbol">(</a><a id="2893" href="Z.html#6608" class="Function">fromℕ</a> <a id="2899" href="Bracketing.html#2141" class="Bound">m</a> <a id="2901" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="2905" href="Z.html#6608" class="Function">fromℕ</a> <a id="2911" href="Bracketing.html#2148" class="Bound">n</a><a id="2912" class="Symbol">)</a> <a id="2914" href="Bracketing.html#2151" class="Bound">e</a><a id="2915" class="Symbol">)</a>         <a id="2925" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="2928" href="Z.html#5650" class="Function">ℤ.cong-+-r</a> <a id="2939" class="Symbol">(</a><a id="2940" href="Bracketing.html#1761" class="Function">height</a> <a id="2947" href="Bracketing.html#2141" class="Bound">m</a> <a id="2949" href="Bracketing.html#2151" class="Bound">e</a> <a id="2951" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="2955" href="Bracketing.html#1761" class="Function">height</a> <a id="2962" href="Bracketing.html#2148" class="Bound">n</a> <a id="2964" class="Symbol">(</a><a id="2965" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="2973" class="Symbol">(</a><a id="2974" href="Z.html#6608" class="Function">fromℕ</a> <a id="2980" href="Bracketing.html#2141" class="Bound">m</a><a id="2981" class="Symbol">)</a> <a id="2983" href="Bracketing.html#2151" class="Bound">e</a><a id="2984" class="Symbol">))</a> <a id="2987" class="Symbol">(</a><a id="2988" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="2993" href="Bracketing.html#1185" class="Function">weight</a> <a id="3000" class="Symbol">(</a><a id="3001" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="3005" class="Symbol">(</a><a id="3006" href="Arrows.html#4051" class="Function">iterate-+</a> <a id="3016" class="Symbol">(</a><a id="3017" href="Z.html#6608" class="Function">fromℕ</a> <a id="3023" href="Bracketing.html#2141" class="Bound">m</a><a id="3024" class="Symbol">)</a> <a id="3026" class="Symbol">(</a><a id="3027" href="Z.html#6608" class="Function">fromℕ</a> <a id="3033" href="Bracketing.html#2148" class="Bound">n</a><a id="3034" class="Symbol">)</a> <a id="3036" href="Bracketing.html#2151" class="Bound">e</a><a id="3037" class="Symbol">)))</a> <a id="3041" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="3047" class="Symbol">(</a><a id="3048" href="Bracketing.html#1761" class="Function">height</a> <a id="3055" href="Bracketing.html#2141" class="Bound">m</a> <a id="3057" href="Bracketing.html#2151" class="Bound">e</a> <a id="3059" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="3063" href="Bracketing.html#1761" class="Function">height</a> <a id="3070" href="Bracketing.html#2148" class="Bound">n</a> <a id="3072" class="Symbol">(</a><a id="3073" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3081" class="Symbol">(</a><a id="3082" href="Z.html#6608" class="Function">fromℕ</a> <a id="3088" href="Bracketing.html#2141" class="Bound">m</a><a id="3089" class="Symbol">)</a> <a id="3091" href="Bracketing.html#2151" class="Bound">e</a><a id="3092" class="Symbol">))</a> <a id="3095" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="3099" href="Bracketing.html#1185" class="Function">weight</a> <a id="3106" class="Symbol">(</a><a id="3107" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3115" class="Symbol">(</a><a id="3116" href="Z.html#6608" class="Function">fromℕ</a> <a id="3122" href="Bracketing.html#2148" class="Bound">n</a><a id="3123" class="Symbol">)</a> <a id="3125" class="Symbol">(</a><a id="3126" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3134" class="Symbol">(</a><a id="3135" href="Z.html#6608" class="Function">fromℕ</a> <a id="3141" href="Bracketing.html#2141" class="Bound">m</a><a id="3142" class="Symbol">)</a> <a id="3144" href="Bracketing.html#2151" class="Bound">e</a><a id="3145" class="Symbol">))</a> <a id="3148" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="3151" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="3155" class="Symbol">(</a><a id="3156" href="Z.html#5234" class="Postulate">ℤ.+-assoc</a> <a id="3166" class="Symbol">(</a><a id="3167" href="Bracketing.html#1761" class="Function">height</a> <a id="3174" href="Bracketing.html#2141" class="Bound">m</a> <a id="3176" href="Bracketing.html#2151" class="Bound">e</a><a id="3177" class="Symbol">)</a> <a id="3179" class="Symbol">_</a> <a id="3181" class="Symbol">_)</a> <a id="3184" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="3190" href="Bracketing.html#1761" class="Function">height</a> <a id="3197" href="Bracketing.html#2141" class="Bound">m</a> <a id="3199" href="Bracketing.html#2151" class="Bound">e</a> <a id="3201" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="3205" class="Symbol">(</a><a id="3206" href="Bracketing.html#1761" class="Function">height</a> <a id="3213" href="Bracketing.html#2148" class="Bound">n</a> <a id="3215" class="Symbol">(</a><a id="3216" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3224" class="Symbol">(</a><a id="3225" href="Z.html#6608" class="Function">fromℕ</a> <a id="3231" href="Bracketing.html#2141" class="Bound">m</a><a id="3232" class="Symbol">)</a> <a id="3234" href="Bracketing.html#2151" class="Bound">e</a><a id="3235" class="Symbol">)</a> <a id="3237" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="3241" href="Bracketing.html#1185" class="Function">weight</a> <a id="3248" class="Symbol">(</a><a id="3249" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3257" class="Symbol">(</a><a id="3258" href="Z.html#6608" class="Function">fromℕ</a> <a id="3264" href="Bracketing.html#2148" class="Bound">n</a><a id="3265" class="Symbol">)</a> <a id="3267" class="Symbol">(</a><a id="3268" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3276" class="Symbol">(</a><a id="3277" href="Z.html#6608" class="Function">fromℕ</a> <a id="3283" href="Bracketing.html#2141" class="Bound">m</a><a id="3284" class="Symbol">)</a> <a id="3286" href="Bracketing.html#2151" class="Bound">e</a><a id="3287" class="Symbol">)))</a> <a id="3291" href="Cubical.Foundations.Prelude.html#8499" class="Function Operator">∎</a>

<a id="3294" class="Keyword">abstract</a>
  <a id="3305" class="Comment">-- the height of the opposite path</a>
  <a id="height-op"></a><a id="3342" href="Bracketing.html#3342" class="Function">height-op</a> <a id="3352" class="Symbol">:</a> <a id="3354" class="Symbol">(</a><a id="3355" href="Bracketing.html#3355" class="Bound">n</a> <a id="3357" class="Symbol">:</a> <a id="3359" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3360" class="Symbol">)</a> <a id="3362" class="Symbol">(</a><a id="3363" href="Bracketing.html#3363" class="Bound">e</a> <a id="3365" class="Symbol">:</a> <a id="3367" href="ArrowsBase.html#801" class="Function">Ends</a><a id="3371" class="Symbol">)</a> <a id="3373" class="Symbol">→</a> <a id="3375" href="Bracketing.html#1761" class="Function">height</a> <a id="3382" class="Symbol">(</a><a id="3383" class="InductiveConstructor">suc</a> <a id="3387" href="Bracketing.html#3355" class="Bound">n</a><a id="3388" class="Symbol">)</a> <a id="3390" class="Symbol">(</a><a id="3391" href="Arrows.html#1732" class="Function">op</a> <a id="3394" class="Symbol">(</a><a id="3395" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3403" class="Symbol">(</a><a id="3404" href="Z.html#6608" class="Function">fromℕ</a> <a id="3410" href="Bracketing.html#3355" class="Bound">n</a><a id="3411" class="Symbol">)</a> <a id="3413" href="Bracketing.html#3363" class="Bound">e</a><a id="3414" class="Symbol">))</a> <a id="3417" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="3419" href="Z.html#5769" class="Function">ℤ.neg</a> <a id="3425" class="Symbol">(</a><a id="3426" href="Bracketing.html#1761" class="Function">height</a> <a id="3433" class="Symbol">(</a><a id="3434" class="InductiveConstructor">suc</a> <a id="3438" href="Bracketing.html#3355" class="Bound">n</a><a id="3439" class="Symbol">)</a> <a id="3441" href="Bracketing.html#3363" class="Bound">e</a><a id="3442" class="Symbol">)</a>
  <a id="3446" href="Bracketing.html#3342" class="Function">height-op</a> <a id="3456" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">ℕ.zero</a> <a id="3463" href="Bracketing.html#3463" class="Bound">e</a> <a id="3465" class="Symbol">=</a> <a id="3467" href="Bracketing.html#1578" class="Function">weight-op</a> <a id="3477" href="Bracketing.html#3463" class="Bound">e</a>
  <a id="3481" href="Bracketing.html#3342" class="Function">height-op</a> <a id="3491" class="Symbol">(</a><a id="3492" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3496" href="Bracketing.html#3496" class="Bound">n</a><a id="3497" class="Symbol">)</a> <a id="3499" href="Bracketing.html#3499" class="Bound">e</a> <a id="3501" class="Symbol">=</a>
    <a id="3507" class="Keyword">let</a> <a id="3511" href="Bracketing.html#3511" class="Bound">N</a> <a id="3513" class="Symbol">=</a> <a id="3515" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3519" href="Bracketing.html#3496" class="Bound">n</a> <a id="3521" class="Keyword">in</a>
    <a id="3528" href="Bracketing.html#1761" class="Function">height</a> <a id="3535" class="Symbol">(</a><a id="3536" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3540" href="Bracketing.html#3511" class="Bound">N</a><a id="3541" class="Symbol">)</a> <a id="3543" class="Symbol">(</a><a id="3544" href="Arrows.html#1732" class="Function">op</a> <a id="3547" class="Symbol">(</a><a id="3548" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3556" class="Symbol">(</a><a id="3557" href="Z.html#6608" class="Function">fromℕ</a> <a id="3563" href="Bracketing.html#3511" class="Bound">N</a><a id="3564" class="Symbol">)</a> <a id="3566" href="Bracketing.html#3499" class="Bound">e</a><a id="3567" class="Symbol">))</a> <a id="3570" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="3573" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="3578" class="Symbol">(λ</a> <a id="3581" href="Bracketing.html#3581" class="Bound">k</a> <a id="3583" class="Symbol">→</a> <a id="3585" href="Bracketing.html#1761" class="Function">height</a> <a id="3592" href="Bracketing.html#3581" class="Bound">k</a> <a id="3594" class="Symbol">(</a><a id="3595" href="Arrows.html#1732" class="Function">op</a> <a id="3598" class="Symbol">(</a><a id="3599" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3607" class="Symbol">(</a><a id="3608" href="Z.html#6608" class="Function">fromℕ</a> <a id="3614" href="Bracketing.html#3511" class="Bound">N</a><a id="3615" class="Symbol">)</a> <a id="3617" href="Bracketing.html#3499" class="Bound">e</a><a id="3618" class="Symbol">)))</a> <a id="3622" class="Symbol">(</a><a id="3623" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="3627" class="Symbol">(</a><a id="3628" href="Nat.html#256" class="Function">ℕ.+1-suc</a> <a id="3637" href="Bracketing.html#3511" class="Bound">N</a><a id="3638" class="Symbol">))</a> <a id="3641" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="3647" href="Bracketing.html#1761" class="Function">height</a> <a id="3654" class="Symbol">(</a><a id="3655" href="Bracketing.html#3511" class="Bound">N</a> <a id="3657" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="3661" class="Number">1</a><a id="3662" class="Symbol">)</a> <a id="3664" class="Symbol">(</a><a id="3665" href="Arrows.html#1732" class="Function">op</a> <a id="3668" class="Symbol">(</a><a id="3669" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3677" class="Symbol">(</a><a id="3678" href="Z.html#6608" class="Function">fromℕ</a> <a id="3684" href="Bracketing.html#3511" class="Bound">N</a><a id="3685" class="Symbol">)</a> <a id="3687" href="Bracketing.html#3499" class="Bound">e</a><a id="3688" class="Symbol">))</a> <a id="3691" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="3694" href="Bracketing.html#1938" class="Function">height-+</a> <a id="3703" href="Bracketing.html#3511" class="Bound">N</a> <a id="3705" class="Number">1</a> <a id="3707" class="Symbol">(</a><a id="3708" href="Arrows.html#1732" class="Function">op</a> <a id="3711" class="Symbol">(</a><a id="3712" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3720" class="Symbol">(</a><a id="3721" href="Z.html#6608" class="Function">fromℕ</a> <a id="3727" href="Bracketing.html#3511" class="Bound">N</a><a id="3728" class="Symbol">)</a> <a id="3730" href="Bracketing.html#3499" class="Bound">e</a><a id="3731" class="Symbol">))</a> <a id="3734" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="3740" href="Bracketing.html#1761" class="Function">height</a> <a id="3747" href="Bracketing.html#3511" class="Bound">N</a> <a id="3749" class="Symbol">(</a><a id="3750" href="Arrows.html#1732" class="Function">op</a> <a id="3753" class="Symbol">(</a><a id="3754" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3762" class="Symbol">(</a><a id="3763" href="Z.html#6608" class="Function">fromℕ</a> <a id="3769" href="Bracketing.html#3511" class="Bound">N</a><a id="3770" class="Symbol">)</a> <a id="3772" href="Bracketing.html#3499" class="Bound">e</a><a id="3773" class="Symbol">))</a> <a id="3776" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="3780" href="Bracketing.html#1761" class="Function">height</a> <a id="3787" class="Number">1</a> <a id="3789" class="Symbol">(</a><a id="3790" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3798" class="Symbol">(</a><a id="3799" href="Z.html#6608" class="Function">fromℕ</a> <a id="3805" href="Bracketing.html#3511" class="Bound">N</a><a id="3806" class="Symbol">)</a> <a id="3808" class="Symbol">(</a><a id="3809" href="Arrows.html#1732" class="Function">op</a> <a id="3812" class="Symbol">(</a><a id="3813" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3821" class="Symbol">(</a><a id="3822" href="Z.html#6608" class="Function">fromℕ</a> <a id="3828" href="Bracketing.html#3511" class="Bound">N</a><a id="3829" class="Symbol">)</a> <a id="3831" href="Bracketing.html#3499" class="Bound">e</a><a id="3832" class="Symbol">)))</a> <a id="3836" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="3839" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="3844" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="3850" href="Bracketing.html#1761" class="Function">height</a> <a id="3857" href="Bracketing.html#3511" class="Bound">N</a> <a id="3859" class="Symbol">(</a><a id="3860" href="Arrows.html#1732" class="Function">op</a> <a id="3863" class="Symbol">(</a><a id="3864" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3872" class="Symbol">(</a><a id="3873" href="Z.html#6608" class="Function">fromℕ</a> <a id="3879" class="Symbol">(</a><a id="3880" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3884" href="Bracketing.html#3496" class="Bound">n</a><a id="3885" class="Symbol">))</a> <a id="3888" href="Bracketing.html#3499" class="Bound">e</a><a id="3889" class="Symbol">))</a> <a id="3892" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="3896" href="Bracketing.html#1185" class="Function">weight</a> <a id="3903" class="Symbol">(</a><a id="3904" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3912" class="Symbol">(</a><a id="3913" href="Z.html#6608" class="Function">fromℕ</a> <a id="3919" href="Bracketing.html#3511" class="Bound">N</a><a id="3920" class="Symbol">)</a> <a id="3922" class="Symbol">(</a><a id="3923" href="Arrows.html#1732" class="Function">op</a> <a id="3926" class="Symbol">(</a><a id="3927" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3935" class="Symbol">(</a><a id="3936" href="Z.html#6608" class="Function">fromℕ</a> <a id="3942" href="Bracketing.html#3511" class="Bound">N</a><a id="3943" class="Symbol">)</a> <a id="3945" href="Bracketing.html#3499" class="Bound">e</a><a id="3946" class="Symbol">)))</a> <a id="3950" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="3953" class="Hole">{!!}</a> <a id="3958" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a> <a id="3960" class="Comment">-- TODO</a>

    <a id="3973" href="Bracketing.html#1761" class="Function">height</a> <a id="3980" href="Bracketing.html#3511" class="Bound">N</a> <a id="3982" class="Symbol">(</a><a id="3983" href="Arrows.html#1732" class="Function">op</a> <a id="3986" class="Symbol">(</a><a id="3987" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="3995" class="Symbol">(</a><a id="3996" href="Z.html#6608" class="Function">fromℕ</a> <a id="4002" href="Bracketing.html#3496" class="Bound">n</a><a id="4003" class="Symbol">)</a> <a id="4005" href="Bracketing.html#3499" class="Bound">e</a><a id="4006" class="Symbol">))</a> <a id="4009" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="4013" href="Bracketing.html#1185" class="Function">weight</a> <a id="4020" class="Symbol">(</a><a id="4021" href="Arrows.html#1732" class="Function">op</a> <a id="4024" class="Symbol">(</a><a id="4025" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="4033" class="Symbol">(</a><a id="4034" href="Z.html#6608" class="Function">fromℕ</a> <a id="4040" href="Bracketing.html#3511" class="Bound">N</a><a id="4041" class="Symbol">)</a> <a id="4043" href="Bracketing.html#3499" class="Bound">e</a><a id="4044" class="Symbol">))</a> <a id="4047" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="4050" href="Cubical.Foundations.Prelude.html#2025" class="Function">cong₂</a> <a id="4056" href="Z.html#5032" class="Function Operator">ℤ._+_</a> <a id="4062" class="Symbol">(</a><a id="4063" href="Bracketing.html#3342" class="Function">height-op</a> <a id="4073" href="Bracketing.html#3496" class="Bound">n</a> <a id="4075" href="Bracketing.html#3499" class="Bound">e</a><a id="4076" class="Symbol">)</a> <a id="4078" class="Symbol">(</a><a id="4079" href="Bracketing.html#1578" class="Function">weight-op</a> <a id="4089" class="Symbol">(</a><a id="4090" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="4098" class="Symbol">(</a><a id="4099" href="Z.html#6608" class="Function">fromℕ</a> <a id="4105" href="Bracketing.html#3511" class="Bound">N</a><a id="4106" class="Symbol">)</a> <a id="4108" href="Bracketing.html#3499" class="Bound">e</a><a id="4109" class="Symbol">))</a> <a id="4112" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="4118" href="Z.html#5769" class="Function">ℤ.neg</a> <a id="4124" class="Symbol">(</a><a id="4125" href="Bracketing.html#1761" class="Function">height</a> <a id="4132" href="Bracketing.html#3511" class="Bound">N</a> <a id="4134" href="Bracketing.html#3499" class="Bound">e</a><a id="4135" class="Symbol">)</a> <a id="4137" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="4141" href="Z.html#5769" class="Function">ℤ.neg</a> <a id="4147" class="Symbol">(</a><a id="4148" href="Bracketing.html#1185" class="Function">weight</a> <a id="4155" class="Symbol">(</a><a id="4156" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="4164" class="Symbol">(</a><a id="4165" href="Z.html#6608" class="Function">fromℕ</a> <a id="4171" href="Bracketing.html#3511" class="Bound">N</a><a id="4172" class="Symbol">)</a> <a id="4174" href="Bracketing.html#3499" class="Bound">e</a><a id="4175" class="Symbol">))</a>               <a id="4192" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="4195" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="4199" class="Symbol">(</a><a id="4200" href="Z.html#6096" class="Postulate">neg-+</a> <a id="4206" class="Symbol">(</a><a id="4207" href="Bracketing.html#1761" class="Function">height</a> <a id="4214" href="Bracketing.html#3511" class="Bound">N</a> <a id="4216" href="Bracketing.html#3499" class="Bound">e</a><a id="4217" class="Symbol">)</a> <a id="4219" class="Symbol">_)</a> <a id="4222" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="4228" href="Z.html#5769" class="Function">ℤ.neg</a> <a id="4234" class="Symbol">(</a><a id="4235" href="Bracketing.html#1761" class="Function">height</a> <a id="4242" href="Bracketing.html#3511" class="Bound">N</a> <a id="4244" href="Bracketing.html#3499" class="Bound">e</a> <a id="4246" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="4250" href="Bracketing.html#1185" class="Function">weight</a> <a id="4257" class="Symbol">(</a><a id="4258" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="4266" class="Symbol">(</a><a id="4267" href="Z.html#6608" class="Function">fromℕ</a> <a id="4273" href="Bracketing.html#3511" class="Bound">N</a><a id="4274" class="Symbol">)</a> <a id="4276" href="Bracketing.html#3499" class="Bound">e</a><a id="4277" class="Symbol">))</a>                       <a id="4302" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="4305" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="4310" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="4316" href="Z.html#5769" class="Function">ℤ.neg</a> <a id="4322" class="Symbol">(</a><a id="4323" href="Bracketing.html#1761" class="Function">height</a> <a id="4330" class="Symbol">(</a><a id="4331" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="4335" href="Bracketing.html#3511" class="Bound">N</a><a id="4336" class="Symbol">)</a> <a id="4338" href="Bracketing.html#3499" class="Bound">e</a><a id="4339" class="Symbol">)</a>                                                  <a id="4390" href="Cubical.Foundations.Prelude.html#8499" class="Function Operator">∎</a>

<a id="4393" class="Comment">-- height-iterate : (x : Ends) → (n : ℕ) → fst (height n x) ℕ.+ snd (height n x) ≡ suc n</a>
<a id="4482" class="Comment">-- height-iterate x ℕ.zero = weight-one x</a>
<a id="4524" class="Comment">-- height-iterate x (suc n) =</a>
 <a id="4555" class="Comment">-- -- TODO: simple arithmetic</a>
 <a id="4586" class="Comment">-- fst (height n x ℤ.+ weight (next (iterate (fromℕ n) x))) ℕ.+ snd (height n x ℤ.+ weight (next (iterate (fromℕ n) x))) ≡⟨ {!!} ⟩</a>
 <a id="4718" class="Comment">-- (fst (height n x) ℕ.+ fst (weight (next (iterate (fromℕ n) x)))) ℕ.+ (snd (height n x) ℕ.+ snd (weight (next (iterate (fromℕ n) x)))) ≡⟨ {!!} ⟩</a>
 <a id="4866" class="Comment">-- suc (suc n) ∎</a>

<a id="matched-at"></a><a id="4884" href="Bracketing.html#4884" class="Function">matched-at</a> <a id="4895" class="Symbol">:</a> <a id="4897" href="ArrowsBase.html#769" class="Function">Arrows</a> <a id="4904" class="Symbol">→</a> <a id="4906" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="4908" class="Symbol">→</a> <a id="4910" href="Agda.Primitive.html#326" class="Primitive">Type₀</a>
<a id="4916" href="Bracketing.html#4884" class="Function">matched-at</a> <a id="4927" href="Bracketing.html#4927" class="Bound">x</a> <a id="4929" href="Bracketing.html#4929" class="Bound">n</a> <a id="4931" class="Symbol">=</a>
  <a id="4935" class="Comment">-- we take suc n to avoid considering the empty path as a match</a>
  <a id="5001" class="Symbol">(</a><a id="5002" href="Bracketing.html#1761" class="Function">height</a> <a id="5009" class="Symbol">(</a><a id="5010" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="5014" href="Bracketing.html#4929" class="Bound">n</a><a id="5015" class="Symbol">)</a> <a id="5017" class="Symbol">(</a><a id="5018" href="Arrows.html#2233" class="Function">fw</a> <a id="5021" href="Bracketing.html#4927" class="Bound">x</a><a id="5022" class="Symbol">)</a> <a id="5024" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="5026" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1047" class="InductiveConstructor">ℤ.zero</a><a id="5032" class="Symbol">)</a> <a id="5034" href="Cubical.Data.Sigma.Base.html#461" class="Function Operator">×</a>
  <a id="5038" class="Symbol">((</a><a id="5040" href="Bracketing.html#5040" class="Bound">k</a> <a id="5042" class="Symbol">:</a> <a id="5044" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="5045" class="Symbol">)</a> <a id="5047" class="Symbol">→</a> <a id="5049" href="Bracketing.html#5040" class="Bound">k</a> <a id="5051" href="Cubical.Data.Nat.Order.html#568" class="Function Operator">&lt;</a> <a id="5053" class="Symbol">(</a><a id="5054" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="5058" href="Bracketing.html#4929" class="Bound">n</a><a id="5059" class="Symbol">)</a> <a id="5061" class="Symbol">→</a> <a id="5063" href="Cubical.Relation.Nullary.Base.html#355" class="Function Operator">¬</a> <a id="5065" class="Symbol">(</a><a id="5066" href="Bracketing.html#1761" class="Function">height</a> <a id="5073" href="Bracketing.html#5040" class="Bound">k</a> <a id="5075" class="Symbol">(</a><a id="5076" href="Arrows.html#2233" class="Function">fw</a> <a id="5079" href="Bracketing.html#4927" class="Bound">x</a><a id="5080" class="Symbol">)</a> <a id="5082" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="5084" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1047" class="InductiveConstructor">ℤ.zero</a><a id="5090" class="Symbol">))</a>

<a id="matched-at-isProp"></a><a id="5094" href="Bracketing.html#5094" class="Function">matched-at-isProp</a> <a id="5112" class="Symbol">:</a> <a id="5114" class="Symbol">(</a><a id="5115" href="Bracketing.html#5115" class="Bound">x</a> <a id="5117" class="Symbol">:</a> <a id="5119" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="5125" class="Symbol">)</a> <a id="5127" class="Symbol">(</a><a id="5128" href="Bracketing.html#5128" class="Bound">n</a> <a id="5130" class="Symbol">:</a> <a id="5132" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="5133" class="Symbol">)</a> <a id="5135" class="Symbol">→</a> <a id="5137" href="Cubical.Foundations.Prelude.html#14010" class="Function">isProp</a> <a id="5144" class="Symbol">(</a><a id="5145" href="Bracketing.html#4884" class="Function">matched-at</a> <a id="5156" href="Bracketing.html#5115" class="Bound">x</a> <a id="5158" href="Bracketing.html#5128" class="Bound">n</a><a id="5159" class="Symbol">)</a>
<a id="5161" href="Bracketing.html#5094" class="Function">matched-at-isProp</a> <a id="5179" href="Bracketing.html#5179" class="Bound">x</a> <a id="5181" href="Bracketing.html#5181" class="Bound">n</a> <a id="5183" class="Symbol">=</a> <a id="5185" href="Cubical.Foundations.HLevels.html#13315" class="Function">isProp×</a> <a id="5193" class="Symbol">(</a><a id="5194" href="Z.html#4847" class="Function">ℤ-isSet</a> <a id="5202" class="Symbol">_</a> <a id="5204" class="Symbol">_)</a> <a id="5207" class="Symbol">(</a><a id="5208" href="Cubical.Foundations.HLevels.html#16363" class="Function">isPropΠ</a> <a id="5216" class="Symbol">(λ</a> <a id="5219" href="Bracketing.html#5219" class="Bound">k</a> <a id="5221" class="Symbol">→</a> <a id="5223" href="Cubical.Foundations.HLevels.html#17810" class="Function">isProp→</a> <a id="5231" class="Symbol">(</a><a id="5232" href="Cubical.Relation.Nullary.Properties.html#1259" class="Function">isProp¬</a> <a id="5240" class="Symbol">_)))</a>

<a id="matched-at-isDec"></a><a id="5246" href="Bracketing.html#5246" class="Function">matched-at-isDec</a> <a id="5263" class="Symbol">:</a> <a id="5265" class="Symbol">(</a><a id="5266" href="Bracketing.html#5266" class="Bound">x</a> <a id="5268" class="Symbol">:</a> <a id="5270" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="5276" class="Symbol">)</a> <a id="5278" class="Symbol">(</a><a id="5279" href="Bracketing.html#5279" class="Bound">n</a> <a id="5281" class="Symbol">:</a> <a id="5283" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="5284" class="Symbol">)</a> <a id="5286" class="Symbol">→</a> <a id="5288" href="Cubical.Relation.Nullary.Base.html#444" class="Datatype">Dec</a> <a id="5292" class="Symbol">(</a><a id="5293" href="Bracketing.html#4884" class="Function">matched-at</a> <a id="5304" href="Bracketing.html#5266" class="Bound">x</a> <a id="5306" href="Bracketing.html#5279" class="Bound">n</a><a id="5307" class="Symbol">)</a>
<a id="5309" href="Bracketing.html#5246" class="Function">matched-at-isDec</a> <a id="5326" href="Bracketing.html#5326" class="Bound">x</a> <a id="5328" href="Bracketing.html#5328" class="Bound">n</a> <a id="5330" class="Symbol">=</a> <a id="5332" href="Misc.html#14256" class="Function">Dec×</a> <a id="5337" class="Symbol">(</a><a id="5338" href="Z.html#4090" class="Postulate">ℤ.discrete</a> <a id="5349" class="Symbol">_</a> <a id="5351" class="Symbol">_)</a> <a id="5354" class="Hole">{!!}</a> <a id="5359" class="Comment">-- we can test a decidable property on a finite nnumber of values of k (by induction on n)</a>

<a id="5451" class="Comment">-- an arrow admits a matching arrow</a>
<a id="matched"></a><a id="5487" href="Bracketing.html#5487" class="Function">matched</a> <a id="5495" class="Symbol">:</a> <a id="5497" href="ArrowsBase.html#769" class="Function">Arrows</a> <a id="5504" class="Symbol">→</a> <a id="5506" href="Agda.Primitive.html#326" class="Primitive">Type₀</a>
<a id="5512" href="Bracketing.html#5487" class="Function">matched</a> <a id="5520" href="Bracketing.html#5520" class="Bound">x</a> <a id="5522" class="Symbol">=</a> <a id="5524" href="Agda.Builtin.Sigma.html#166" class="Record">Σ</a> <a id="5526" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="5528" class="Symbol">(</a><a id="5529" href="Bracketing.html#4884" class="Function">matched-at</a> <a id="5540" href="Bracketing.html#5520" class="Bound">x</a><a id="5541" class="Symbol">)</a>

<a id="matched-isProp"></a><a id="5544" href="Bracketing.html#5544" class="Function">matched-isProp</a> <a id="5559" class="Symbol">:</a> <a id="5561" class="Symbol">(</a><a id="5562" href="Bracketing.html#5562" class="Bound">x</a> <a id="5564" class="Symbol">:</a> <a id="5566" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="5572" class="Symbol">)</a> <a id="5574" class="Symbol">→</a> <a id="5576" href="Cubical.Foundations.Prelude.html#14010" class="Function">isProp</a> <a id="5583" class="Symbol">(</a><a id="5584" href="Bracketing.html#5487" class="Function">matched</a> <a id="5592" href="Bracketing.html#5562" class="Bound">x</a><a id="5593" class="Symbol">)</a>
<a id="5595" href="Bracketing.html#5544" class="Function">matched-isProp</a> <a id="5610" href="Bracketing.html#5610" class="Bound">x</a> <a id="5612" class="Symbol">(</a><a id="5613" href="Bracketing.html#5613" class="Bound">n</a> <a id="5615" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5617" href="Bracketing.html#5617" class="Bound">z</a> <a id="5619" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5621" href="Bracketing.html#5621" class="Bound">p</a><a id="5622" class="Symbol">)</a> <a id="5624" class="Symbol">(</a><a id="5625" href="Bracketing.html#5625" class="Bound">n&#39;</a> <a id="5628" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5630" href="Bracketing.html#5630" class="Bound">z&#39;</a> <a id="5633" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5635" href="Bracketing.html#5635" class="Bound">p&#39;</a><a id="5637" class="Symbol">)</a> <a id="5639" class="Symbol">=</a> <a id="5641" href="Cubical.Data.Sigma.Properties.html#1955" class="Function">ΣPathP</a> <a id="5648" class="Symbol">(</a><a id="5649" href="Bracketing.html#5737" class="Function">n≡n&#39;</a> <a id="5654" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5656" href="Cubical.Foundations.Prelude.html#12717" class="Function">toPathP</a> <a id="5664" class="Symbol">(</a><a id="5665" href="Cubical.Data.Sigma.Properties.html#1955" class="Function">ΣPathP</a> <a id="5672" class="Symbol">(</a><a id="5673" href="Z.html#4847" class="Function">ℤ-isSet</a> <a id="5681" class="Symbol">_</a> <a id="5683" class="Symbol">_</a> <a id="5685" class="Symbol">_</a> <a id="5687" class="Symbol">_</a> <a id="5689" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5691" href="Cubical.Foundations.HLevels.html#16598" class="Function">isPropΠ3</a> <a id="5700" class="Symbol">(λ</a> <a id="5703" href="Bracketing.html#5703" class="Bound">_</a> <a id="5705" href="Bracketing.html#5705" class="Bound">_</a> <a id="5707" href="Bracketing.html#5707" class="Bound">_</a> <a id="5709" class="Symbol">→</a> <a id="5711" href="Cubical.Data.Empty.Properties.html#228" class="Function">isProp⊥</a><a id="5718" class="Symbol">)</a> <a id="5720" class="Symbol">_</a> <a id="5722" class="Symbol">_)))</a>
  <a id="5729" class="Keyword">where</a>
  <a id="5737" href="Bracketing.html#5737" class="Function">n≡n&#39;</a> <a id="5742" class="Symbol">:</a> <a id="5744" href="Bracketing.html#5613" class="Bound">n</a> <a id="5746" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="5748" href="Bracketing.html#5625" class="Bound">n&#39;</a>
  <a id="5753" href="Bracketing.html#5737" class="Function">n≡n&#39;</a> <a id="5758" class="Keyword">with</a> <a id="5763" href="Bracketing.html#5613" class="Bound">n</a> <a id="5765" href="Cubical.Data.Nat.Order.html#7146" class="Function Operator">≟</a> <a id="5767" href="Bracketing.html#5625" class="Bound">n&#39;</a>
  <a id="5772" href="Bracketing.html#5737" class="Function">...</a> <a id="5776" class="Symbol">|</a> <a id="5778" href="Cubical.Data.Nat.Order.html#719" class="InductiveConstructor">lt</a> <a id="5781" href="Bracketing.html#5781" class="Bound">n&lt;n&#39;</a> <a id="5786" class="Symbol">=</a> <a id="5788" href="Cubical.Data.Empty.Base.html#269" class="Function">⊥.elim</a> <a id="5795" class="Symbol">(</a><a id="5796" href="Bracketing.html#5635" class="Bound">p&#39;</a> <a id="5799" class="Symbol">(</a><a id="5800" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="5804" href="Bracketing.html#5613" class="Bound">n</a><a id="5805" class="Symbol">)</a> <a id="5807" class="Symbol">(</a><a id="5808" href="Cubical.Data.Nat.Order.html#1124" class="Function">suc-≤-suc</a> <a id="5818" href="Bracketing.html#5781" class="Bound">n&lt;n&#39;</a><a id="5822" class="Symbol">)</a> <a id="5824" href="Bracketing.html#5617" class="Bound">z</a><a id="5825" class="Symbol">)</a>
  <a id="5829" href="Bracketing.html#5737" class="Function">...</a> <a id="5833" class="Symbol">|</a> <a id="5835" href="Cubical.Data.Nat.Order.html#749" class="InductiveConstructor">eq</a> <a id="5838" href="Bracketing.html#5838" class="Bound">n≡n&#39;</a> <a id="5843" class="Symbol">=</a> <a id="5845" href="Bracketing.html#5838" class="Bound">n≡n&#39;</a>
  <a id="5852" href="Bracketing.html#5737" class="Function">...</a> <a id="5856" class="Symbol">|</a> <a id="5858" href="Cubical.Data.Nat.Order.html#779" class="InductiveConstructor">gt</a> <a id="5861" href="Bracketing.html#5861" class="Bound">n&#39;&lt;n</a> <a id="5866" class="Symbol">=</a> <a id="5868" href="Cubical.Data.Empty.Base.html#269" class="Function">⊥.elim</a> <a id="5875" class="Symbol">(</a><a id="5876" href="Bracketing.html#5621" class="Bound">p</a> <a id="5878" class="Symbol">(</a><a id="5879" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="5883" href="Bracketing.html#5625" class="Bound">n&#39;</a><a id="5885" class="Symbol">)</a> <a id="5887" class="Symbol">(</a><a id="5888" href="Cubical.Data.Nat.Order.html#1124" class="Function">suc-≤-suc</a> <a id="5898" href="Bracketing.html#5861" class="Bound">n&#39;&lt;n</a><a id="5902" class="Symbol">)</a> <a id="5904" href="Bracketing.html#5630" class="Bound">z&#39;</a><a id="5906" class="Symbol">)</a>

<a id="matched-isDec"></a><a id="5909" href="Bracketing.html#5909" class="Function">matched-isDec</a> <a id="5923" class="Symbol">:</a> <a id="5925" class="Symbol">(</a><a id="5926" href="Bracketing.html#5926" class="Bound">a</a> <a id="5928" class="Symbol">:</a> <a id="5930" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="5936" class="Symbol">)</a> <a id="5938" class="Symbol">→</a> <a id="5940" href="Cubical.Relation.Nullary.Base.html#444" class="Datatype">Dec</a> <a id="5944" class="Symbol">(</a><a id="5945" href="Bracketing.html#5487" class="Function">matched</a> <a id="5953" href="Bracketing.html#5926" class="Bound">a</a><a id="5954" class="Symbol">)</a>
<a id="5956" href="Bracketing.html#5909" class="Function">matched-isDec</a> <a id="5970" href="Bracketing.html#5970" class="Bound">a</a> <a id="5972" class="Symbol">=</a> <a id="5974" href="LPO.html#910" class="Function">LPO.DecΣℕ</a> <a id="5984" class="Symbol">(</a><a id="5985" href="Bracketing.html#4884" class="Function">matched-at</a> <a id="5996" href="Bracketing.html#5970" class="Bound">a</a><a id="5997" class="Symbol">)</a> <a id="5999" class="Symbol">(</a><a id="6000" href="Bracketing.html#5246" class="Function">matched-at-isDec</a> <a id="6017" href="Bracketing.html#5970" class="Bound">a</a><a id="6018" class="Symbol">)</a>
  <a id="6022" class="Keyword">where</a> <a id="6028" class="Keyword">import</a> <a id="6035" href="LPO.html" class="Module">LPO</a>

<a id="6040" class="Comment">-- matching end</a>
<a id="match-end"></a><a id="6056" href="Bracketing.html#6056" class="Function">match-end</a> <a id="6066" class="Symbol">:</a> <a id="6068" class="Symbol">{</a><a id="6069" href="Bracketing.html#6069" class="Bound">a</a> <a id="6071" class="Symbol">:</a> <a id="6073" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="6079" class="Symbol">}</a> <a id="6081" class="Symbol">→</a> <a id="6083" href="Bracketing.html#5487" class="Function">matched</a> <a id="6091" href="Bracketing.html#6069" class="Bound">a</a> <a id="6093" class="Symbol">→</a> <a id="6095" href="ArrowsBase.html#801" class="Function">Ends</a>
<a id="6100" href="Bracketing.html#6056" class="Function">match-end</a> <a id="6110" class="Symbol">{</a><a id="6111" href="Bracketing.html#6111" class="Bound">a</a><a id="6112" class="Symbol">}</a> <a id="6114" href="Bracketing.html#6114" class="Bound">m</a> <a id="6116" class="Symbol">=</a> <a id="6118" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="6126" class="Symbol">(</a><a id="6127" href="Z.html#6608" class="Function">fromℕ</a> <a id="6133" class="Symbol">(</a><a id="6134" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="6138" href="Bracketing.html#6114" class="Bound">m</a><a id="6139" class="Symbol">))</a> <a id="6142" class="Symbol">(</a><a id="6143" href="Arrows.html#2233" class="Function">fw</a> <a id="6146" href="Bracketing.html#6111" class="Bound">a</a><a id="6147" class="Symbol">)</a>

<a id="6150" class="Comment">-- matching arrow</a>
<a id="match"></a><a id="6168" href="Bracketing.html#6168" class="Function">match</a> <a id="6174" class="Symbol">:</a> <a id="6176" class="Symbol">{</a><a id="6177" href="Bracketing.html#6177" class="Bound">a</a> <a id="6179" class="Symbol">:</a> <a id="6181" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="6187" class="Symbol">}</a> <a id="6189" class="Symbol">→</a> <a id="6191" href="Bracketing.html#5487" class="Function">matched</a> <a id="6199" href="Bracketing.html#6177" class="Bound">a</a> <a id="6201" class="Symbol">→</a> <a id="6203" href="ArrowsBase.html#769" class="Function">Arrows</a>
<a id="6210" href="Bracketing.html#6168" class="Function">match</a> <a id="6216" href="Bracketing.html#6216" class="Bound">m</a> <a id="6218" class="Symbol">=</a> <a id="6220" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="6226" class="Symbol">(</a><a id="6227" href="Bracketing.html#6056" class="Function">match-end</a> <a id="6237" href="Bracketing.html#6216" class="Bound">m</a><a id="6238" class="Symbol">)</a>

<a id="6241" class="Comment">-- the matching arrow is reachable-arr</a>
<a id="match-reachable-arr"></a><a id="6280" href="Bracketing.html#6280" class="Function">match-reachable-arr</a> <a id="6300" class="Symbol">:</a> <a id="6302" class="Symbol">{</a><a id="6303" href="Bracketing.html#6303" class="Bound">a</a> <a id="6305" class="Symbol">:</a> <a id="6307" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="6313" class="Symbol">}</a> <a id="6315" class="Symbol">(</a><a id="6316" href="Bracketing.html#6316" class="Bound">m</a> <a id="6318" class="Symbol">:</a> <a id="6320" href="Bracketing.html#5487" class="Function">matched</a> <a id="6328" href="Bracketing.html#6303" class="Bound">a</a><a id="6329" class="Symbol">)</a> <a id="6331" class="Symbol">→</a> <a id="6333" href="Arrows.html#7524" class="Function">reachable-arr</a> <a id="6347" href="Bracketing.html#6303" class="Bound">a</a> <a id="6349" class="Symbol">(</a><a id="6350" href="Bracketing.html#6168" class="Function">match</a> <a id="6356" href="Bracketing.html#6316" class="Bound">m</a><a id="6357" class="Symbol">)</a>
<a id="6359" href="Bracketing.html#6280" class="Function">match-reachable-arr</a> <a id="6379" href="Bracketing.html#6379" class="Bound">m</a> <a id="6381" class="Symbol">=</a> <a id="6383" href="Z.html#6608" class="Function">fromℕ</a> <a id="6389" class="Symbol">(</a><a id="6390" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="6394" href="Bracketing.html#6379" class="Bound">m</a><a id="6395" class="Symbol">)</a> <a id="6397" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6399" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a>

<a id="match-above"></a><a id="6405" href="Bracketing.html#6405" class="Function">match-above</a> <a id="6417" class="Symbol">:</a> <a id="6419" class="Symbol">{</a><a id="6420" href="Bracketing.html#6420" class="Bound">a</a> <a id="6422" class="Symbol">:</a> <a id="6424" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="6430" class="Symbol">}</a> <a id="6432" class="Symbol">(</a><a id="6433" href="Bracketing.html#6433" class="Bound">m</a> <a id="6435" class="Symbol">:</a> <a id="6437" href="Bracketing.html#5487" class="Function">matched</a> <a id="6445" href="Bracketing.html#6420" class="Bound">a</a><a id="6446" class="Symbol">)</a> <a id="6448" class="Symbol">(</a><a id="6449" href="Bracketing.html#6449" class="Bound">n</a> <a id="6451" class="Symbol">:</a> <a id="6453" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="6454" class="Symbol">)</a> <a id="6456" class="Symbol">→</a> <a id="6458" href="Bracketing.html#6449" class="Bound">n</a> <a id="6460" href="Cubical.Data.Nat.Order.html#568" class="Function Operator">&lt;</a> <a id="6462" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="6466" href="Bracketing.html#6433" class="Bound">m</a> <a id="6468" class="Symbol">→</a> <a id="6470" href="Bracketing.html#1761" class="Function">height</a> <a id="6477" class="Symbol">(</a><a id="6478" class="InductiveConstructor">suc</a> <a id="6482" href="Bracketing.html#6449" class="Bound">n</a><a id="6483" class="Symbol">)</a> <a id="6485" class="Symbol">(</a><a id="6486" href="Arrows.html#2233" class="Function">fw</a> <a id="6489" href="Bracketing.html#6420" class="Bound">a</a><a id="6490" class="Symbol">)</a> <a id="6492" href="Z.html#11210" class="Function Operator">&gt;</a> <a id="6494" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1047" class="InductiveConstructor">ℤ.zero</a>
<a id="6501" href="Bracketing.html#6405" class="Function">match-above</a> <a id="6513" href="Bracketing.html#6513" class="Bound">m</a> <a id="6515" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a> <a id="6520" href="Bracketing.html#6520" class="Bound">n&lt;m</a> <a id="6524" class="Symbol">=</a> <a id="6526" href="Z.html#11245" class="Function">0&lt;1</a>
<a id="6530" href="Bracketing.html#6405" class="Function">match-above</a> <a id="6542" class="Symbol">{</a><a id="6543" href="Bracketing.html#6543" class="Bound">a</a><a id="6544" class="Symbol">}</a> <a id="6546" href="Bracketing.html#6546" class="Bound">m</a> <a id="6548" class="Symbol">(</a><a id="6549" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="6553" href="Bracketing.html#6553" class="Bound">n</a><a id="6554" class="Symbol">)</a> <a id="6556" href="Bracketing.html#6556" class="Bound">n&lt;m</a> <a id="6560" class="Keyword">with</a> <a id="6565" href="ArrowsBase.html#1125" class="Function">next</a> <a id="6570" class="Symbol">(</a><a id="6571" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="6579" class="Symbol">(</a><a id="6580" href="Z.html#6608" class="Function">fromℕ</a> <a id="6586" href="Bracketing.html#6553" class="Bound">n</a><a id="6587" class="Symbol">)</a> <a id="6589" class="Symbol">(</a><a id="6590" href="Arrows.html#2233" class="Function">fw</a> <a id="6593" href="Bracketing.html#6543" class="Bound">a</a><a id="6594" class="Symbol">))</a>
<a id="6597" class="Symbol">...</a> <a id="6601" class="Symbol">|</a> <a id="6603" class="Symbol">_</a> <a id="6605" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6607" href="Ends.html#341" class="InductiveConstructor">src</a> <a id="6611" class="Symbol">=</a> <a id="6613" href="Z.html#11488" class="Function">ℤ.≤-trans</a> <a id="6623" class="Symbol">(</a><a id="6624" href="Bracketing.html#6405" class="Function">match-above</a> <a id="6636" class="Bound">m</a> <a id="6638" class="Bound">n</a> <a id="6640" class="Symbol">(</a><a id="6641" href="Cubical.Data.Nat.Order.html#4144" class="Function">&lt;-trans</a> <a id="6649" href="Cubical.Data.Nat.Order.html#1657" class="Function">ℕ.≤-refl</a> <a id="6658" class="Bound">n&lt;m</a><a id="6661" class="Symbol">))</a> <a id="6664" class="Symbol">(</a><a id="6665" href="Z.html#11488" class="Function">ℤ.≤-trans</a> <a id="6675" class="Symbol">(</a><a id="6676" href="Z.html#12063" class="Function">ℤ.≤-suc</a> <a id="6684" href="Z.html#11278" class="Function">ℤ.≤-refl</a><a id="6692" class="Symbol">)</a> <a id="6694" class="Symbol">(</a><a id="6695" href="Z.html#11404" class="Function">≤-path</a> <a id="6702" class="Symbol">(</a><a id="6703" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="6707" class="Symbol">(</a><a id="6708" href="Z.html#5538" class="Postulate">ℤ.+1-suc</a> <a id="6717" class="Symbol">_))))</a>
<a id="6723" class="Symbol">...</a> <a id="6727" class="Symbol">|</a> <a id="6729" class="Symbol">_</a> <a id="6731" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6733" href="Ends.html#353" class="InductiveConstructor">tgt</a> <a id="6737" class="Keyword">with</a> <a id="6742" class="Symbol">(</a><a id="6743" href="Bracketing.html#1761" class="Function">height</a> <a id="6750" class="Bound">n</a> <a id="6752" class="Symbol">(</a><a id="6753" href="Arrows.html#2233" class="Function">fw</a> <a id="6756" class="Bound">a</a><a id="6757" class="Symbol">)</a> <a id="6759" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="6763" href="Bracketing.html#1185" class="Function">weight</a> <a id="6770" class="Symbol">(</a><a id="6771" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="6779" class="Symbol">(</a><a id="6780" href="Z.html#6608" class="Function">fromℕ</a> <a id="6786" class="Bound">n</a><a id="6787" class="Symbol">)</a> <a id="6789" class="Symbol">(</a><a id="6790" href="Arrows.html#2233" class="Function">fw</a> <a id="6793" class="Bound">a</a><a id="6794" class="Symbol">)))</a> <a id="6798" href="Z.html#12466" class="Postulate Operator">ℤ.≟</a> <a id="6802" href="Z.html#634" class="Function">ℤ.one</a>
<a id="6808" class="Symbol">...</a> <a id="6812" class="Symbol">|</a> <a id="6814" href="Z.html#12365" class="InductiveConstructor">lt</a> <a id="6817" href="Bracketing.html#6817" class="Bound">h&lt;1</a> <a id="6821" class="Symbol">=</a> <a id="6823" class="Hole">{!!}</a> <a id="6828" class="Comment">-- impossible because the previous height would have to be negative too</a>
<a id="6900" class="Symbol">...</a> <a id="6904" class="Symbol">|</a> <a id="6906" href="Z.html#12395" class="InductiveConstructor">eq</a> <a id="6909" href="Bracketing.html#6909" class="Bound">h≡1</a> <a id="6913" class="Symbol">=</a> <a id="6915" href="Cubical.Data.Empty.Base.html#269" class="Function">⊥.elim</a> <a id="6922" class="Symbol">(</a><a id="6923" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="6927" class="Symbol">(</a><a id="6928" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="6932" class="Bound">m</a><a id="6933" class="Symbol">)</a> <a id="6935" class="Symbol">(</a><a id="6936" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="6940" class="Bound">n</a><a id="6941" class="Symbol">)</a> <a id="6943" class="Hole">{!!}</a> <a id="6948" class="Hole">{!!}</a><a id="6952" class="Symbol">)</a> <a id="6954" class="Comment">-- impossible because the resulting height is zero</a>
<a id="7005" class="Symbol">...</a> <a id="7009" class="Symbol">|</a> <a id="7011" href="Z.html#12425" class="InductiveConstructor">gt</a> <a id="7014" href="Bracketing.html#7014" class="Bound">h&gt;1</a> <a id="7018" class="Symbol">=</a> <a id="7020" class="Hole">{!!}</a> <a id="7025" class="Comment">-- fine</a>
  <a id="7035" class="Keyword">where</a>
  <a id="7043" href="Bracketing.html#7043" class="Function">ind</a> <a id="7047" class="Symbol">=</a> <a id="7049" href="Bracketing.html#6405" class="Function">match-above</a> <a id="7061" class="Bound">m</a> <a id="7063" class="Bound">n</a> <a id="7065" class="Symbol">(</a><a id="7066" href="Cubical.Data.Nat.Order.html#4144" class="Function">&lt;-trans</a> <a id="7074" href="Cubical.Data.Nat.Order.html#1657" class="Function">ℕ.≤-refl</a> <a id="7083" class="Bound">n&lt;m</a><a id="7086" class="Symbol">)</a>

<a id="7089" class="Comment">-- the matching arrow is closing</a>
<a id="match-closing"></a><a id="7122" href="Bracketing.html#7122" class="Function">match-closing</a> <a id="7136" class="Symbol">:</a> <a id="7138" class="Symbol">{</a><a id="7139" href="Bracketing.html#7139" class="Bound">a</a> <a id="7141" class="Symbol">:</a> <a id="7143" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="7149" class="Symbol">}</a> <a id="7151" class="Symbol">(</a><a id="7152" href="Bracketing.html#7152" class="Bound">m</a> <a id="7154" class="Symbol">:</a> <a id="7156" href="Bracketing.html#5487" class="Function">matched</a> <a id="7164" href="Bracketing.html#7139" class="Bound">a</a><a id="7165" class="Symbol">)</a> <a id="7167" class="Symbol">→</a> <a id="7169" href="Bracketing.html#6056" class="Function">match-end</a> <a id="7179" href="Bracketing.html#7152" class="Bound">m</a> <a id="7181" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="7183" href="Arrows.html#2343" class="Function">bw</a> <a id="7186" class="Symbol">(</a><a id="7187" href="Bracketing.html#6168" class="Function">match</a> <a id="7193" href="Bracketing.html#7152" class="Bound">m</a><a id="7194" class="Symbol">)</a>
<a id="7196" href="Bracketing.html#7122" class="Function">match-closing</a> <a id="7210" class="Symbol">{</a><a id="7211" href="Bracketing.html#7211" class="Bound">a</a><a id="7212" class="Symbol">}</a> <a id="7214" href="Bracketing.html#7214" class="Bound">m</a><a id="7215" class="Symbol">@(</a><a id="7217" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">ℕ.zero</a> <a id="7224" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7226" href="Bracketing.html#7226" class="Bound">z</a> <a id="7228" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7230" href="Bracketing.html#7230" class="Bound">¬z</a><a id="7232" class="Symbol">)</a> <a id="7234" class="Symbol">=</a>
  <a id="7238" class="Comment">-- when n=0 the weight is 1 and thus we cannot have a match</a>
  <a id="7300" href="Cubical.Data.Empty.Base.html#269" class="Function">⊥.elim</a> <a id="7307" class="Symbol">{</a><a id="7308" class="Argument">A</a> <a id="7310" class="Symbol">=</a> <a id="7312" class="Symbol">λ</a> <a id="7314" href="Bracketing.html#7314" class="Bound">_</a> <a id="7316" class="Symbol">→</a> <a id="7318" href="Bracketing.html#6056" class="Function">match-end</a> <a id="7328" href="Bracketing.html#7214" class="Bound">m</a> <a id="7330" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="7332" href="Arrows.html#2343" class="Function">bw</a> <a id="7335" class="Symbol">(</a><a id="7336" href="Bracketing.html#6168" class="Function">match</a> <a id="7342" href="Bracketing.html#7214" class="Bound">m</a><a id="7343" class="Symbol">)}</a> <a id="7346" class="Symbol">(</a><a id="7347" href="Z.html#5005" class="Postulate">ℤ.1≢0</a> <a id="7353" class="Symbol">(</a><a id="7354" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="7358" class="Symbol">(</a><a id="7359" href="Z.html#5323" class="Postulate">ℤ.zero-+</a> <a id="7368" class="Symbol">_)</a> <a id="7371" href="Cubical.Foundations.Prelude.html#4447" class="Function Operator">∙</a> <a id="7373" href="Bracketing.html#7226" class="Bound">z</a><a id="7374" class="Symbol">))</a>
<a id="7377" href="Bracketing.html#7122" class="Function">match-closing</a> <a id="7391" class="Symbol">{</a><a id="7392" href="Bracketing.html#7392" class="Bound">a</a><a id="7393" class="Symbol">}</a> <a id="7395" href="Bracketing.html#7395" class="Bound">m</a><a id="7396" class="Symbol">@(</a><a id="7398" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="7402" href="Bracketing.html#7402" class="Bound">n</a> <a id="7404" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7406" href="Bracketing.html#7406" class="Bound">z</a> <a id="7408" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7410" href="Bracketing.html#7410" class="Bound">¬z</a><a id="7412" class="Symbol">)</a> <a id="7414" class="Keyword">with</a> <a id="7419" href="Z.html#4090" class="Postulate">ℤ.discrete</a> <a id="7430" class="Symbol">(</a><a id="7431" href="Bracketing.html#1761" class="Function">height</a> <a id="7438" class="Symbol">(</a><a id="7439" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="7443" href="Bracketing.html#7402" class="Bound">n</a><a id="7444" class="Symbol">)</a> <a id="7446" class="Symbol">(</a><a id="7447" href="Arrows.html#2233" class="Function">fw</a> <a id="7450" href="Bracketing.html#7392" class="Bound">a</a><a id="7451" class="Symbol">))</a> <a id="7454" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1047" class="InductiveConstructor">ℤ.zero</a>
<a id="7461" class="Symbol">...</a> <a id="7465" class="Symbol">|</a> <a id="7467" href="Cubical.Relation.Nullary.Base.html#478" class="InductiveConstructor">yes</a> <a id="7471" href="Bracketing.html#7471" class="Bound">p</a> <a id="7473" class="Symbol">=</a> <a id="7475" href="Cubical.Data.Empty.Base.html#269" class="Function">⊥.elim</a> <a id="7482" class="Symbol">(</a><a id="7483" class="Bound">¬z</a> <a id="7486" class="Symbol">(</a><a id="7487" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="7491" class="Bound">n</a><a id="7492" class="Symbol">)</a> <a id="7494" href="Cubical.Data.Nat.Order.html#1657" class="Function">ℕ.≤-refl</a> <a id="7503" href="Bracketing.html#7471" class="Bound">p</a><a id="7504" class="Symbol">)</a>
<a id="7506" class="Symbol">...</a> <a id="7510" class="Symbol">|</a> <a id="7512" href="Cubical.Relation.Nullary.Base.html#505" class="InductiveConstructor">no</a> <a id="7515" href="Bracketing.html#7515" class="Bound">¬p</a> <a id="7518" class="Symbol">=</a>
  <a id="7522" href="ArrowsBase.html#956" class="Function">end≡</a> <a id="7527" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="7532" href="Bracketing.html#7623" class="Function">lem</a>
    <a id="7540" class="Keyword">where</a>
    <a id="7550" class="Comment">-- if the end is src then the height cannot go from non-zero to zero</a>
    <a id="7623" href="Bracketing.html#7623" class="Function">lem</a> <a id="7627" class="Symbol">:</a> <a id="7629" href="ArrowsBase.html#925" class="Function">end</a> <a id="7633" class="Symbol">(</a><a id="7634" href="ArrowsBase.html#1125" class="Function">next</a> <a id="7639" class="Symbol">(</a><a id="7640" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="7648" class="Symbol">(</a><a id="7649" href="Z.html#6608" class="Function">fromℕ</a> <a id="7655" class="Bound">n</a><a id="7656" class="Symbol">)</a> <a id="7658" class="Symbol">(</a><a id="7659" href="Arrows.html#2233" class="Function">fw</a> <a id="7662" class="Bound">a</a><a id="7663" class="Symbol">)))</a> <a id="7667" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="7669" href="Ends.html#353" class="InductiveConstructor">tgt</a>
    <a id="7677" href="Bracketing.html#7623" class="Function">lem</a> <a id="7681" class="Keyword">with</a> <a id="7686" href="Ends.html#730" class="Function">Ends.case≡</a> <a id="7697" class="Symbol">(</a><a id="7698" href="ArrowsBase.html#925" class="Function">end</a> <a id="7702" class="Symbol">(</a><a id="7703" href="ArrowsBase.html#1125" class="Function">next</a> <a id="7708" class="Symbol">(</a><a id="7709" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="7717" class="Symbol">(</a><a id="7718" href="Z.html#6608" class="Function">fromℕ</a> <a id="7724" class="Bound">n</a><a id="7725" class="Symbol">)</a> <a id="7727" class="Symbol">(</a><a id="7728" href="Arrows.html#2233" class="Function">fw</a> <a id="7731" class="Bound">a</a><a id="7732" class="Symbol">))))</a>
    <a id="7741" href="Bracketing.html#7623" class="Function">...</a> <a id="7745" class="Symbol">|</a> <a id="7747" href="Cubical.Data.Sum.Base.html#261" class="InductiveConstructor">inl</a> <a id="7751" href="Bracketing.html#7751" class="Bound">pe</a> <a id="7754" class="Symbol">=</a> <a id="7756" href="Cubical.Data.Empty.Base.html#187" class="Function">⊥.rec</a> <a id="7762" class="Hole">{!!}</a>
    <a id="7771" href="Bracketing.html#7623" class="Function">...</a> <a id="7775" class="Symbol">|</a> <a id="7777" href="Cubical.Data.Sum.Base.html#279" class="InductiveConstructor">inr</a> <a id="7781" href="Bracketing.html#7781" class="Bound">pe</a> <a id="7784" class="Symbol">=</a> <a id="7786" href="Bracketing.html#7781" class="Bound">pe</a>

<a id="7790" class="Comment">-- matching is a symmetric relation</a>
<a id="matched-sym"></a><a id="7826" href="Bracketing.html#7826" class="Function">matched-sym</a> <a id="7838" class="Symbol">:</a> <a id="7840" class="Symbol">{</a><a id="7841" href="Bracketing.html#7841" class="Bound">a</a> <a id="7843" class="Symbol">:</a> <a id="7845" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="7851" class="Symbol">}</a> <a id="7853" class="Symbol">(</a><a id="7854" href="Bracketing.html#7854" class="Bound">m</a> <a id="7856" class="Symbol">:</a> <a id="7858" href="Bracketing.html#5487" class="Function">matched</a> <a id="7866" href="Bracketing.html#7841" class="Bound">a</a><a id="7867" class="Symbol">)</a> <a id="7869" class="Symbol">→</a> <a id="7871" href="Bracketing.html#5487" class="Function">matched</a> <a id="7879" class="Symbol">(</a><a id="7880" href="Bracketing.html#6168" class="Function">match</a> <a id="7886" href="Bracketing.html#7854" class="Bound">m</a><a id="7887" class="Symbol">)</a>
<a id="7889" href="Bracketing.html#7826" class="Function">matched-sym</a> <a id="7901" class="Symbol">{</a><a id="7902" href="Bracketing.html#7902" class="Bound">a</a><a id="7903" class="Symbol">}</a> <a id="7905" href="Bracketing.html#7905" class="Bound">m</a><a id="7906" class="Symbol">@(</a><a id="7908" href="Bracketing.html#7908" class="Bound">n</a> <a id="7910" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7912" href="Bracketing.html#7912" class="Bound">z</a> <a id="7914" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7916" href="Bracketing.html#7916" class="Bound">¬z</a><a id="7918" class="Symbol">)</a> <a id="7920" class="Symbol">=</a> <a id="7922" href="Bracketing.html#7908" class="Bound">n</a> <a id="7924" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7926" href="Bracketing.html#7977" class="Function">z&#39;</a> <a id="7929" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7931" class="Symbol">λ</a> <a id="7933" href="Bracketing.html#7933" class="Bound">k</a> <a id="7935" href="Bracketing.html#7935" class="Bound">k&lt;sn</a> <a id="7940" class="Symbol">→</a> <a id="7942" href="Bracketing.html#8630" class="Function">¬z&#39;</a> <a id="7946" href="Bracketing.html#7933" class="Bound">k</a> <a id="7948" class="Symbol">(</a><a id="7949" href="Cubical.Data.Nat.Order.html#1563" class="Function">pred-≤-pred</a> <a id="7961" href="Bracketing.html#7935" class="Bound">k&lt;sn</a><a id="7965" class="Symbol">)</a>
  <a id="7969" class="Keyword">where</a>
  <a id="7977" href="Bracketing.html#7977" class="Function">z&#39;</a> <a id="7980" class="Symbol">:</a> <a id="7982" href="Bracketing.html#1761" class="Function">height</a> <a id="7989" class="Symbol">(</a><a id="7990" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="7994" href="Bracketing.html#7908" class="Bound">n</a><a id="7995" class="Symbol">)</a> <a id="7997" class="Symbol">(</a><a id="7998" href="Arrows.html#2233" class="Function">fw</a> <a id="8001" class="Symbol">(</a><a id="8002" href="Bracketing.html#6168" class="Function">match</a> <a id="8008" href="Bracketing.html#7905" class="Bound">m</a><a id="8009" class="Symbol">))</a> <a id="8012" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="8014" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1047" class="InductiveConstructor">ℤ.zero</a>
  <a id="8023" href="Bracketing.html#7977" class="Function">z&#39;</a> <a id="8026" class="Symbol">=</a>
    <a id="8032" href="Bracketing.html#1761" class="Function">height</a> <a id="8039" class="Symbol">(</a><a id="8040" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="8044" href="Bracketing.html#7908" class="Bound">n</a><a id="8045" class="Symbol">)</a> <a id="8047" class="Symbol">(</a><a id="8048" href="Arrows.html#2233" class="Function">fw</a> <a id="8051" class="Symbol">(</a><a id="8052" href="Bracketing.html#6168" class="Function">match</a> <a id="8058" href="Bracketing.html#7905" class="Bound">m</a><a id="8059" class="Symbol">))</a>                  <a id="8079" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="8082" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="8087" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="8093" href="Bracketing.html#1761" class="Function">height</a> <a id="8100" class="Symbol">(</a><a id="8101" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="8105" href="Bracketing.html#7908" class="Bound">n</a><a id="8106" class="Symbol">)</a> <a id="8108" class="Symbol">(</a><a id="8109" href="Arrows.html#1732" class="Function">op</a> <a id="8112" class="Symbol">(</a><a id="8113" href="Arrows.html#2343" class="Function">bw</a> <a id="8116" class="Symbol">(</a><a id="8117" href="Bracketing.html#6168" class="Function">match</a> <a id="8123" href="Bracketing.html#7905" class="Bound">m</a><a id="8124" class="Symbol">)))</a>           <a id="8138" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="8141" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="8146" class="Symbol">(</a><a id="8147" href="Bracketing.html#1761" class="Function">height</a> <a id="8154" class="Symbol">(</a><a id="8155" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="8159" href="Bracketing.html#7908" class="Bound">n</a><a id="8160" class="Symbol">))</a> <a id="8163" class="Symbol">(</a><a id="8164" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="8169" href="Arrows.html#1732" class="Function">op</a> <a id="8172" class="Symbol">(</a><a id="8173" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="8177" class="Symbol">(</a><a id="8178" href="Bracketing.html#7122" class="Function">match-closing</a> <a id="8192" href="Bracketing.html#7905" class="Bound">m</a><a id="8193" class="Symbol">)))</a> <a id="8197" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="8203" href="Bracketing.html#1761" class="Function">height</a> <a id="8210" class="Symbol">(</a><a id="8211" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="8215" href="Bracketing.html#7908" class="Bound">n</a><a id="8216" class="Symbol">)</a> <a id="8218" class="Symbol">(</a><a id="8219" href="Arrows.html#1732" class="Function">op</a> <a id="8222" class="Symbol">(</a><a id="8223" href="Bracketing.html#6056" class="Function">match-end</a> <a id="8233" href="Bracketing.html#7905" class="Bound">m</a><a id="8234" class="Symbol">))</a>                 <a id="8253" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="8256" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="8261" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="8267" href="Bracketing.html#1761" class="Function">height</a> <a id="8274" class="Symbol">(</a><a id="8275" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="8279" href="Bracketing.html#7908" class="Bound">n</a><a id="8280" class="Symbol">)</a> <a id="8282" class="Symbol">(</a><a id="8283" href="Arrows.html#1732" class="Function">op</a> <a id="8286" class="Symbol">(</a><a id="8287" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="8295" class="Symbol">(</a><a id="8296" href="Z.html#6608" class="Function">fromℕ</a> <a id="8302" href="Bracketing.html#7908" class="Bound">n</a><a id="8303" class="Symbol">)</a> <a id="8305" class="Symbol">(</a><a id="8306" href="Arrows.html#2233" class="Function">fw</a> <a id="8309" href="Bracketing.html#7902" class="Bound">a</a><a id="8310" class="Symbol">)))</a> <a id="8314" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="8317" href="Bracketing.html#3342" class="Function">height-op</a> <a id="8327" href="Bracketing.html#7908" class="Bound">n</a> <a id="8329" class="Symbol">(</a><a id="8330" href="Arrows.html#2233" class="Function">fw</a> <a id="8333" href="Bracketing.html#7902" class="Bound">a</a><a id="8334" class="Symbol">)</a> <a id="8336" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="8342" href="Z.html#5769" class="Function">ℤ.neg</a> <a id="8348" class="Symbol">(</a><a id="8349" href="Bracketing.html#1761" class="Function">height</a> <a id="8356" class="Symbol">(</a><a id="8357" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="8361" href="Bracketing.html#7908" class="Bound">n</a><a id="8362" class="Symbol">)</a> <a id="8364" class="Symbol">(</a><a id="8365" href="Arrows.html#2233" class="Function">fw</a> <a id="8368" href="Bracketing.html#7902" class="Bound">a</a><a id="8369" class="Symbol">))</a>                  <a id="8389" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="8392" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="8397" href="Z.html#5769" class="Function">ℤ.neg</a> <a id="8403" href="Bracketing.html#7912" class="Bound">z</a> <a id="8405" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="8411" href="Z.html#5769" class="Function">ℤ.neg</a> <a id="8417" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1047" class="InductiveConstructor">ℤ.zero</a>                                      <a id="8461" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="8464" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="8469" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
    <a id="8475" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1047" class="InductiveConstructor">ℤ.zero</a>                                            <a id="8525" href="Cubical.Foundations.Prelude.html#8499" class="Function Operator">∎</a>
  <a id="8529" class="Comment">-- if the height was zero, the height plus a non-zero complement would be zero which is impossible</a>
  <a id="8630" href="Bracketing.html#8630" class="Function">¬z&#39;</a> <a id="8634" class="Symbol">:</a> <a id="8636" class="Symbol">(</a><a id="8637" href="Bracketing.html#8637" class="Bound">k</a> <a id="8639" class="Symbol">:</a> <a id="8641" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="8642" class="Symbol">)</a> <a id="8644" class="Symbol">→</a> <a id="8646" href="Bracketing.html#8637" class="Bound">k</a> <a id="8648" href="Cubical.Data.Nat.Order.html#518" class="Function Operator">≤</a> <a id="8650" href="Bracketing.html#7908" class="Bound">n</a> <a id="8652" class="Symbol">→</a> <a id="8654" href="Cubical.Relation.Nullary.Base.html#355" class="Function Operator">¬</a> <a id="8656" class="Symbol">(</a><a id="8657" href="Bracketing.html#1761" class="Function">height</a> <a id="8664" href="Bracketing.html#8637" class="Bound">k</a> <a id="8666" class="Symbol">(</a><a id="8667" href="Arrows.html#2233" class="Function">fw</a> <a id="8670" class="Symbol">(</a><a id="8671" href="Bracketing.html#6168" class="Function">match</a> <a id="8677" class="Symbol">(</a><a id="8678" href="Bracketing.html#7908" class="Bound">n</a> <a id="8680" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8682" href="Bracketing.html#7912" class="Bound">z</a> <a id="8684" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8686" href="Bracketing.html#7916" class="Bound">¬z</a><a id="8688" class="Symbol">)))</a> <a id="8692" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="8694" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1047" class="InductiveConstructor">ℤ.zero</a><a id="8700" class="Symbol">)</a>
  <a id="8704" href="Bracketing.html#8630" class="Function">¬z&#39;</a> <a id="8708" href="Bracketing.html#8708" class="Bound">k</a> <a id="8710" href="Bracketing.html#8710" class="Bound">k≤n</a> <a id="8714" href="Bracketing.html#8714" class="Bound">p</a> <a id="8716" class="Symbol">=</a> <a id="8718" class="Hole">{!!}</a>

<a id="match²"></a><a id="8724" href="Bracketing.html#8724" class="Function">match²</a> <a id="8731" class="Symbol">:</a> <a id="8733" class="Symbol">{</a><a id="8734" href="Bracketing.html#8734" class="Bound">a</a> <a id="8736" class="Symbol">:</a> <a id="8738" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="8744" class="Symbol">}</a> <a id="8746" class="Symbol">(</a><a id="8747" href="Bracketing.html#8747" class="Bound">m</a> <a id="8749" class="Symbol">:</a> <a id="8751" href="Bracketing.html#5487" class="Function">matched</a> <a id="8759" href="Bracketing.html#8734" class="Bound">a</a><a id="8760" class="Symbol">)</a> <a id="8762" class="Symbol">→</a> <a id="8764" href="Bracketing.html#6168" class="Function">match</a> <a id="8770" class="Symbol">(</a><a id="8771" href="Bracketing.html#7826" class="Function">matched-sym</a> <a id="8783" href="Bracketing.html#8747" class="Bound">m</a><a id="8784" class="Symbol">)</a> <a id="8786" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="8788" href="Bracketing.html#8734" class="Bound">a</a>
<a id="8790" href="Bracketing.html#8724" class="Function">match²</a> <a id="8797" class="Symbol">{</a><a id="8798" href="Bracketing.html#8798" class="Bound">a</a><a id="8799" class="Symbol">}</a> <a id="8801" href="Bracketing.html#8801" class="Bound">m</a><a id="8802" class="Symbol">@(</a><a id="8804" href="Bracketing.html#8804" class="Bound">n</a> <a id="8806" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8808" href="Bracketing.html#8808" class="Bound">z</a> <a id="8810" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8812" href="Bracketing.html#8812" class="Bound">¬z</a><a id="8814" class="Symbol">)</a> <a id="8816" class="Symbol">=</a>
  <a id="8820" href="Bracketing.html#6168" class="Function">match</a> <a id="8826" class="Symbol">(</a><a id="8827" href="Bracketing.html#7826" class="Function">matched-sym</a> <a id="8839" class="Symbol">(</a><a id="8840" href="Bracketing.html#8804" class="Bound">n</a> <a id="8842" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8844" href="Bracketing.html#8808" class="Bound">z</a> <a id="8846" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8848" href="Bracketing.html#8812" class="Bound">¬z</a><a id="8850" class="Symbol">))</a>                                  <a id="8886" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="8889" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="8894" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="8898" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="8904" class="Symbol">(</a><a id="8905" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="8913" class="Symbol">(</a><a id="8914" href="Z.html#6608" class="Function">fromℕ</a> <a id="8920" href="Bracketing.html#8804" class="Bound">n</a><a id="8921" class="Symbol">)</a> <a id="8923" class="Symbol">(</a><a id="8924" href="Arrows.html#2233" class="Function">fw</a> <a id="8927" class="Symbol">(</a><a id="8928" href="Bracketing.html#6168" class="Function">match</a> <a id="8934" href="Bracketing.html#8801" class="Bound">m</a><a id="8935" class="Symbol">)))</a>                          <a id="8964" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="8967" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="8972" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="8976" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="8982" class="Symbol">(</a><a id="8983" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="8991" class="Symbol">(</a><a id="8992" href="Z.html#6608" class="Function">fromℕ</a> <a id="8998" href="Bracketing.html#8804" class="Bound">n</a><a id="8999" class="Symbol">)</a> <a id="9001" class="Symbol">(</a><a id="9002" href="Arrows.html#2233" class="Function">fw</a> <a id="9005" class="Symbol">(</a><a id="9006" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9012" class="Symbol">(</a><a id="9013" href="Bracketing.html#6056" class="Function">match-end</a> <a id="9023" href="Bracketing.html#8801" class="Bound">m</a><a id="9024" class="Symbol">))))</a>              <a id="9042" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="9045" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="9050" class="Symbol">(λ</a> <a id="9053" href="Bracketing.html#9053" class="Bound">e</a> <a id="9055" class="Symbol">→</a> <a id="9057" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9063" class="Symbol">(</a><a id="9064" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="9072" class="Symbol">(</a><a id="9073" href="Z.html#6608" class="Function">fromℕ</a> <a id="9079" href="Bracketing.html#8804" class="Bound">n</a><a id="9080" class="Symbol">)</a> <a id="9082" class="Symbol">(</a><a id="9083" href="Arrows.html#2233" class="Function">fw</a> <a id="9086" class="Symbol">(</a><a id="9087" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9093" href="Bracketing.html#9053" class="Bound">e</a><a id="9094" class="Symbol">))))</a> <a id="9099" class="Symbol">(</a><a id="9100" href="Bracketing.html#7122" class="Function">match-closing</a> <a id="9114" href="Bracketing.html#8801" class="Bound">m</a><a id="9115" class="Symbol">)</a> <a id="9117" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="9121" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9127" class="Symbol">(</a><a id="9128" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="9136" class="Symbol">(</a><a id="9137" href="Z.html#6608" class="Function">fromℕ</a> <a id="9143" href="Bracketing.html#8804" class="Bound">n</a><a id="9144" class="Symbol">)</a> <a id="9146" class="Symbol">(</a><a id="9147" href="Arrows.html#2233" class="Function">fw</a> <a id="9150" class="Symbol">(</a><a id="9151" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9157" class="Symbol">(</a><a id="9158" href="Arrows.html#2343" class="Function">bw</a> <a id="9161" class="Symbol">(</a><a id="9162" href="Bracketing.html#6168" class="Function">match</a> <a id="9168" href="Bracketing.html#8801" class="Bound">m</a><a id="9169" class="Symbol">)))))</a>             <a id="9187" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="9190" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="9195" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="9199" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9205" class="Symbol">(</a><a id="9206" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="9214" class="Symbol">(</a><a id="9215" href="Z.html#6608" class="Function">fromℕ</a> <a id="9221" href="Bracketing.html#8804" class="Bound">n</a><a id="9222" class="Symbol">)</a> <a id="9224" class="Symbol">(</a><a id="9225" href="Arrows.html#1732" class="Function">op</a> <a id="9228" class="Symbol">(</a><a id="9229" href="Arrows.html#2343" class="Function">bw</a> <a id="9232" class="Symbol">(</a><a id="9233" href="Bracketing.html#6168" class="Function">match</a> <a id="9239" href="Bracketing.html#8801" class="Bound">m</a><a id="9240" class="Symbol">))))</a>                     <a id="9265" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="9268" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="9272" class="Symbol">(</a><a id="9273" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="9278" class="Symbol">(λ</a> <a id="9281" href="Bracketing.html#9281" class="Bound">e</a> <a id="9283" class="Symbol">→</a> <a id="9285" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9291" class="Symbol">(</a><a id="9292" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="9300" class="Symbol">(</a><a id="9301" href="Z.html#6608" class="Function">fromℕ</a> <a id="9307" href="Bracketing.html#8804" class="Bound">n</a><a id="9308" class="Symbol">)</a> <a id="9310" class="Symbol">(</a><a id="9311" href="Arrows.html#1732" class="Function">op</a> <a id="9314" href="Bracketing.html#9281" class="Bound">e</a><a id="9315" class="Symbol">)))</a> <a id="9319" class="Symbol">(</a><a id="9320" href="Bracketing.html#7122" class="Function">match-closing</a> <a id="9334" href="Bracketing.html#8801" class="Bound">m</a><a id="9335" class="Symbol">))</a> <a id="9338" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="9342" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9348" class="Symbol">(</a><a id="9349" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="9357" class="Symbol">(</a><a id="9358" href="Z.html#6608" class="Function">fromℕ</a> <a id="9364" href="Bracketing.html#8804" class="Bound">n</a><a id="9365" class="Symbol">)</a> <a id="9367" class="Symbol">(</a><a id="9368" href="Arrows.html#1732" class="Function">op</a> <a id="9371" class="Symbol">(</a><a id="9372" href="Bracketing.html#6056" class="Function">match-end</a> <a id="9382" href="Bracketing.html#8801" class="Bound">m</a><a id="9383" class="Symbol">)))</a>                      <a id="9408" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="9411" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="9416" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="9420" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9426" class="Symbol">(</a><a id="9427" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="9435" class="Symbol">(</a><a id="9436" href="Z.html#6608" class="Function">fromℕ</a> <a id="9442" href="Bracketing.html#8804" class="Bound">n</a><a id="9443" class="Symbol">)</a> <a id="9445" class="Symbol">(</a><a id="9446" href="Arrows.html#1732" class="Function">op</a> <a id="9449" class="Symbol">(</a><a id="9450" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="9458" class="Symbol">(</a><a id="9459" href="Z.html#6608" class="Function">fromℕ</a> <a id="9465" href="Bracketing.html#8804" class="Bound">n</a><a id="9466" class="Symbol">)</a> <a id="9468" class="Symbol">(</a><a id="9469" href="Arrows.html#2233" class="Function">fw</a> <a id="9472" href="Bracketing.html#8798" class="Bound">a</a><a id="9473" class="Symbol">))))</a>         <a id="9486" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="9489" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="9494" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9500" class="Symbol">(</a><a id="9501" href="Arrows.html#4585" class="Function">iterate-op</a> <a id="9512" class="Symbol">(</a><a id="9513" href="Z.html#6608" class="Function">fromℕ</a> <a id="9519" href="Bracketing.html#8804" class="Bound">n</a><a id="9520" class="Symbol">)</a> <a id="9522" class="Symbol">_)</a> <a id="9525" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="9529" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9535" class="Symbol">(</a><a id="9536" href="Arrows.html#1732" class="Function">op</a> <a id="9539" class="Symbol">(</a><a id="9540" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="9548" class="Symbol">(</a><a id="9549" href="Z.html#5769" class="Function">ℤ.neg</a> <a id="9555" class="Symbol">(</a><a id="9556" href="Z.html#6608" class="Function">fromℕ</a> <a id="9562" href="Bracketing.html#8804" class="Bound">n</a><a id="9563" class="Symbol">))</a> <a id="9566" class="Symbol">(</a><a id="9567" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="9575" class="Symbol">(</a><a id="9576" href="Z.html#6608" class="Function">fromℕ</a> <a id="9582" href="Bracketing.html#8804" class="Bound">n</a><a id="9583" class="Symbol">)</a> <a id="9585" class="Symbol">(</a><a id="9586" href="Arrows.html#2233" class="Function">fw</a> <a id="9589" href="Bracketing.html#8798" class="Bound">a</a><a id="9590" class="Symbol">))))</a> <a id="9595" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="9598" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="9603" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="9607" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9613" class="Symbol">(</a><a id="9614" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="9622" class="Symbol">(</a><a id="9623" href="Z.html#5769" class="Function">ℤ.neg</a> <a id="9629" class="Symbol">(</a><a id="9630" href="Z.html#6608" class="Function">fromℕ</a> <a id="9636" href="Bracketing.html#8804" class="Bound">n</a><a id="9637" class="Symbol">))</a> <a id="9640" class="Symbol">(</a><a id="9641" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="9649" class="Symbol">(</a><a id="9650" href="Z.html#6608" class="Function">fromℕ</a> <a id="9656" href="Bracketing.html#8804" class="Bound">n</a><a id="9657" class="Symbol">)</a> <a id="9659" class="Symbol">(</a><a id="9660" href="Arrows.html#2233" class="Function">fw</a> <a id="9663" href="Bracketing.html#8798" class="Bound">a</a><a id="9664" class="Symbol">)))</a>      <a id="9673" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="9676" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="9681" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9687" class="Symbol">(</a><a id="9688" href="Arrows.html#4051" class="Function">iterate-+</a> <a id="9698" class="Symbol">(</a><a id="9699" href="Z.html#6608" class="Function">fromℕ</a> <a id="9705" href="Bracketing.html#8804" class="Bound">n</a><a id="9706" class="Symbol">)</a> <a id="9708" class="Symbol">(</a><a id="9709" href="Z.html#5769" class="Function">ℤ.neg</a> <a id="9715" class="Symbol">(</a><a id="9716" href="Z.html#6608" class="Function">fromℕ</a> <a id="9722" href="Bracketing.html#8804" class="Bound">n</a><a id="9723" class="Symbol">))</a> <a id="9726" class="Symbol">(</a><a id="9727" href="Arrows.html#2233" class="Function">fw</a> <a id="9730" href="Bracketing.html#8798" class="Bound">a</a><a id="9731" class="Symbol">))</a> <a id="9734" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="9738" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9744" class="Symbol">(</a><a id="9745" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="9753" class="Symbol">(</a><a id="9754" href="Z.html#6608" class="Function">fromℕ</a> <a id="9760" href="Bracketing.html#8804" class="Bound">n</a> <a id="9762" href="Z.html#6145" class="Function Operator">ℤ.-</a> <a id="9766" href="Z.html#6608" class="Function">fromℕ</a> <a id="9772" href="Bracketing.html#8804" class="Bound">n</a><a id="9773" class="Symbol">)</a> <a id="9775" class="Symbol">(</a><a id="9776" href="Arrows.html#2233" class="Function">fw</a> <a id="9779" href="Bracketing.html#8798" class="Bound">a</a><a id="9780" class="Symbol">))</a>                      <a id="9804" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="9807" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="9812" class="Symbol">(λ</a> <a id="9815" href="Bracketing.html#9815" class="Bound">n</a> <a id="9817" class="Symbol">→</a> <a id="9819" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9825" class="Symbol">(</a><a id="9826" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="9834" href="Bracketing.html#9815" class="Bound">n</a> <a id="9836" class="Symbol">(</a><a id="9837" href="Arrows.html#2233" class="Function">fw</a> <a id="9840" href="Bracketing.html#8798" class="Bound">a</a><a id="9841" class="Symbol">)))</a> <a id="9845" class="Symbol">(</a><a id="9846" href="Z.html#6192" class="Postulate">n-n≡0</a> <a id="9852" class="Symbol">(</a><a id="9853" href="Z.html#6608" class="Function">fromℕ</a> <a id="9859" href="Bracketing.html#8804" class="Bound">n</a><a id="9860" class="Symbol">))</a> <a id="9863" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="9867" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9873" class="Symbol">(</a><a id="9874" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="9882" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1047" class="InductiveConstructor">ℤ.zero</a> <a id="9889" class="Symbol">(</a><a id="9890" href="Arrows.html#2233" class="Function">fw</a> <a id="9893" href="Bracketing.html#8798" class="Bound">a</a><a id="9894" class="Symbol">))</a>                                     <a id="9933" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="9936" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="9941" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="9945" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="9951" class="Symbol">(</a><a id="9952" href="Arrows.html#2233" class="Function">fw</a> <a id="9955" href="Bracketing.html#8798" class="Bound">a</a><a id="9956" class="Symbol">)</a>                                                      <a id="10011" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="10014" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="10019" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
  <a id="10023" href="Bracketing.html#8798" class="Bound">a</a>                                                                 <a id="10089" href="Cubical.Foundations.Prelude.html#8499" class="Function Operator">∎</a>

<a id="10092" class="Comment">-- match-indep : {a b : Arrows} → reachable-arr a b → match</a>

<a id="well-bracketed-end"></a><a id="10153" href="Bracketing.html#10153" class="Function">well-bracketed-end</a> <a id="10172" class="Symbol">:</a> <a id="10174" href="ArrowsBase.html#801" class="Function">Ends</a> <a id="10179" class="Symbol">→</a> <a id="10181" href="Agda.Primitive.html#326" class="Primitive">Type₀</a>
<a id="10187" href="Bracketing.html#10153" class="Function">well-bracketed-end</a> <a id="10206" href="Bracketing.html#10206" class="Bound">e</a> <a id="10208" class="Symbol">=</a> <a id="10210" class="Symbol">(</a><a id="10211" href="Bracketing.html#10211" class="Bound">n</a> <a id="10213" class="Symbol">:</a> <a id="10215" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1024" class="Datatype">ℤ</a><a id="10216" class="Symbol">)</a> <a id="10218" class="Symbol">→</a> <a id="10220" href="Bracketing.html#5487" class="Function">matched</a> <a id="10228" class="Symbol">(</a><a id="10229" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="10235" class="Symbol">(</a><a id="10236" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="10244" href="Bracketing.html#10211" class="Bound">n</a> <a id="10246" href="Bracketing.html#10206" class="Bound">e</a><a id="10247" class="Symbol">))</a>

<a id="well-bracketed-end-isProp"></a><a id="10251" href="Bracketing.html#10251" class="Function">well-bracketed-end-isProp</a> <a id="10277" class="Symbol">:</a> <a id="10279" class="Symbol">(</a><a id="10280" href="Bracketing.html#10280" class="Bound">a</a> <a id="10282" class="Symbol">:</a> <a id="10284" href="ArrowsBase.html#801" class="Function">Ends</a><a id="10288" class="Symbol">)</a> <a id="10290" class="Symbol">→</a> <a id="10292" href="Cubical.Foundations.Prelude.html#14010" class="Function">isProp</a> <a id="10299" class="Symbol">(</a><a id="10300" href="Bracketing.html#10153" class="Function">well-bracketed-end</a> <a id="10319" href="Bracketing.html#10280" class="Bound">a</a><a id="10320" class="Symbol">)</a>
<a id="10322" href="Bracketing.html#10251" class="Function">well-bracketed-end-isProp</a> <a id="10348" href="Bracketing.html#10348" class="Bound">a</a> <a id="10350" class="Symbol">=</a> <a id="10352" href="Cubical.Foundations.HLevels.html#16363" class="Function">isPropΠ</a> <a id="10360" class="Symbol">(λ</a> <a id="10363" href="Bracketing.html#10363" class="Bound">n</a> <a id="10365" class="Symbol">→</a> <a id="10367" href="Bracketing.html#5544" class="Function">matched-isProp</a> <a id="10382" class="Symbol">_)</a>

<a id="10386" class="Comment">-- being well-bracketed is independent of the starting point</a>
<a id="well-bracketed-end-indep"></a><a id="10447" href="Bracketing.html#10447" class="Function">well-bracketed-end-indep</a> <a id="10472" class="Symbol">:</a> <a id="10474" class="Symbol">(</a><a id="10475" href="Bracketing.html#10475" class="Bound">a</a> <a id="10477" href="Bracketing.html#10477" class="Bound">b</a> <a id="10479" class="Symbol">:</a> <a id="10481" href="ArrowsBase.html#801" class="Function">Ends</a><a id="10485" class="Symbol">)</a> <a id="10487" class="Symbol">→</a> <a id="10489" href="ArrowsBase.html#3192" class="Function">reachable</a> <a id="10499" href="Bracketing.html#10475" class="Bound">a</a> <a id="10501" href="Bracketing.html#10477" class="Bound">b</a> <a id="10503" class="Symbol">→</a> <a id="10505" href="Bracketing.html#10153" class="Function">well-bracketed-end</a> <a id="10524" href="Bracketing.html#10475" class="Bound">a</a> <a id="10526" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="10528" href="Bracketing.html#10153" class="Function">well-bracketed-end</a> <a id="10547" href="Bracketing.html#10477" class="Bound">b</a>
<a id="10549" href="Bracketing.html#10447" class="Function">well-bracketed-end-indep</a> <a id="10574" href="Bracketing.html#10574" class="Bound">a</a> <a id="10576" href="Bracketing.html#10576" class="Bound">b</a> <a id="10578" class="Symbol">(</a><a id="10579" href="Bracketing.html#10579" class="Bound">nr</a> <a id="10582" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="10584" href="Bracketing.html#10584" class="Bound">r</a><a id="10585" class="Symbol">)</a> <a id="10587" class="Symbol">=</a> <a id="10589" href="Cubical.Foundations.Univalence.html#928" class="Function">ua</a> <a id="10592" class="Symbol">(</a><a id="10593" href="Cubical.Foundations.Isomorphism.html#3127" class="Function">isoToEquiv</a> <a id="10604" href="Bracketing.html#10617" class="Function">i</a><a id="10605" class="Symbol">)</a>
  <a id="10609" class="Keyword">where</a>
  <a id="10617" href="Bracketing.html#10617" class="Function">i</a> <a id="10619" class="Symbol">:</a> <a id="10621" href="Cubical.Foundations.Isomorphism.html#773" class="Record">Iso</a> <a id="10625" class="Symbol">(</a><a id="10626" href="Bracketing.html#10153" class="Function">well-bracketed-end</a> <a id="10645" href="Bracketing.html#10574" class="Bound">a</a><a id="10646" class="Symbol">)</a> <a id="10648" class="Symbol">(</a><a id="10649" href="Bracketing.html#10153" class="Function">well-bracketed-end</a> <a id="10668" href="Bracketing.html#10576" class="Bound">b</a><a id="10669" class="Symbol">)</a>
  <a id="10673" href="Cubical.Foundations.Isomorphism.html#885" class="Field">Iso.fun</a> <a id="10681" href="Bracketing.html#10617" class="Function">i</a> <a id="10683" href="Bracketing.html#10683" class="Bound">f</a> <a id="10685" href="Bracketing.html#10685" class="Bound">n</a> <a id="10687" class="Symbol">=</a> <a id="10689" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="10695" class="Symbol">(</a><a id="10696" href="Bracketing.html#5487" class="Function">matched</a> <a id="10704" href="Cubical.Foundations.Function.html#526" class="Function Operator">∘</a> <a id="10706" href="ArrowsBase.html#887" class="Function">arrow</a><a id="10711" class="Symbol">)</a> <a id="10713" href="Bracketing.html#10744" class="Function">p</a> <a id="10715" class="Symbol">(</a><a id="10716" href="Bracketing.html#10683" class="Bound">f</a> <a id="10718" class="Symbol">(</a><a id="10719" href="Bracketing.html#10579" class="Bound">nr</a> <a id="10722" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="10726" href="Bracketing.html#10685" class="Bound">n</a><a id="10727" class="Symbol">))</a>
    <a id="10734" class="Keyword">where</a>
    <a id="10744" href="Bracketing.html#10744" class="Function">p</a> <a id="10746" class="Symbol">=</a>
      <a id="10754" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="10762" class="Symbol">(</a><a id="10763" href="Bracketing.html#10579" class="Bound">nr</a> <a id="10766" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="10770" href="Bracketing.html#10685" class="Bound">n</a><a id="10771" class="Symbol">)</a> <a id="10773" href="Bracketing.html#10574" class="Bound">a</a>     <a id="10779" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="10782" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="10786" class="Symbol">(</a><a id="10787" href="Arrows.html#4051" class="Function">iterate-+</a> <a id="10797" href="Bracketing.html#10579" class="Bound">nr</a> <a id="10800" href="Bracketing.html#10685" class="Bound">n</a> <a id="10802" href="Bracketing.html#10574" class="Bound">a</a><a id="10803" class="Symbol">)</a> <a id="10805" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="10813" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="10821" href="Bracketing.html#10685" class="Bound">n</a> <a id="10823" class="Symbol">(</a><a id="10824" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="10832" href="Bracketing.html#10579" class="Bound">nr</a> <a id="10835" href="Bracketing.html#10574" class="Bound">a</a><a id="10836" class="Symbol">)</a> <a id="10838" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="10841" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="10846" class="Symbol">(</a><a id="10847" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="10855" href="Bracketing.html#10685" class="Bound">n</a><a id="10856" class="Symbol">)</a> <a id="10858" href="Bracketing.html#10584" class="Bound">r</a> <a id="10860" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="10868" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="10876" href="Bracketing.html#10685" class="Bound">n</a> <a id="10878" href="Bracketing.html#10576" class="Bound">b</a>              <a id="10893" href="Cubical.Foundations.Prelude.html#8499" class="Function Operator">∎</a>
  <a id="10897" href="Cubical.Foundations.Isomorphism.html#901" class="Field">Iso.inv</a> <a id="10905" href="Bracketing.html#10617" class="Function">i</a> <a id="10907" href="Bracketing.html#10907" class="Bound">f</a> <a id="10909" href="Bracketing.html#10909" class="Bound">n</a> <a id="10911" class="Symbol">=</a> <a id="10913" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="10919" class="Symbol">(</a><a id="10920" href="Bracketing.html#5487" class="Function">matched</a> <a id="10928" href="Cubical.Foundations.Function.html#526" class="Function Operator">∘</a> <a id="10930" href="ArrowsBase.html#887" class="Function">arrow</a><a id="10935" class="Symbol">)</a> <a id="10937" href="Bracketing.html#10974" class="Function">p</a> <a id="10939" class="Symbol">(</a><a id="10940" href="Bracketing.html#10907" class="Bound">f</a> <a id="10942" class="Symbol">(</a><a id="10943" href="Z.html#5769" class="Function">ℤ.neg</a> <a id="10949" href="Bracketing.html#10579" class="Bound">nr</a> <a id="10952" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="10956" href="Bracketing.html#10909" class="Bound">n</a><a id="10957" class="Symbol">))</a>
    <a id="10964" class="Keyword">where</a>
    <a id="10974" href="Bracketing.html#10974" class="Function">p</a> <a id="10976" class="Symbol">=</a>
      <a id="10984" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="10992" class="Symbol">(</a><a id="10993" href="Z.html#5769" class="Function">ℤ.neg</a> <a id="10999" href="Bracketing.html#10579" class="Bound">nr</a> <a id="11002" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="11006" href="Bracketing.html#10909" class="Bound">n</a><a id="11007" class="Symbol">)</a> <a id="11009" href="Bracketing.html#10576" class="Bound">b</a>              <a id="11024" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="11027" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a><a id="11030" class="Symbol">(</a> <a id="11032" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="11037" class="Symbol">(</a><a id="11038" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="11046" class="Symbol">(</a><a id="11047" href="Z.html#5769" class="Function">ℤ.neg</a> <a id="11053" href="Bracketing.html#10579" class="Bound">nr</a> <a id="11056" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="11060" href="Bracketing.html#10909" class="Bound">n</a><a id="11061" class="Symbol">))</a> <a id="11064" href="Bracketing.html#10584" class="Bound">r</a><a id="11065" class="Symbol">)</a> <a id="11067" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="11075" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="11083" class="Symbol">(</a><a id="11084" href="Z.html#5769" class="Function">ℤ.neg</a> <a id="11090" href="Bracketing.html#10579" class="Bound">nr</a> <a id="11093" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="11097" href="Bracketing.html#10909" class="Bound">n</a><a id="11098" class="Symbol">)</a> <a id="11100" class="Symbol">(</a><a id="11101" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="11109" href="Bracketing.html#10579" class="Bound">nr</a> <a id="11112" href="Bracketing.html#10574" class="Bound">a</a><a id="11113" class="Symbol">)</a> <a id="11115" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="11118" href="Arrows.html#4051" class="Function">iterate-+</a> <a id="11128" href="Bracketing.html#10579" class="Bound">nr</a> <a id="11131" class="Symbol">_</a> <a id="11133" href="Bracketing.html#10574" class="Bound">a</a> <a id="11135" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="11143" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="11151" class="Symbol">(</a><a id="11152" href="Bracketing.html#10579" class="Bound">nr</a> <a id="11155" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="11159" class="Symbol">(</a><a id="11160" href="Z.html#5769" class="Function">ℤ.neg</a> <a id="11166" href="Bracketing.html#10579" class="Bound">nr</a> <a id="11169" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="11173" href="Bracketing.html#10909" class="Bound">n</a><a id="11174" class="Symbol">))</a> <a id="11177" href="Bracketing.html#10574" class="Bound">a</a>     <a id="11183" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="11186" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="11191" class="Symbol">(λ</a> <a id="11194" href="Bracketing.html#11194" class="Bound">n</a> <a id="11196" class="Symbol">→</a> <a id="11198" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="11206" href="Bracketing.html#11194" class="Bound">n</a> <a id="11208" href="Bracketing.html#10574" class="Bound">a</a><a id="11209" class="Symbol">)</a> <a id="11211" class="Symbol">(</a><a id="11212" href="Z.html#5234" class="Postulate">ℤ.+-assoc</a> <a id="11222" href="Bracketing.html#10579" class="Bound">nr</a> <a id="11225" class="Symbol">_</a> <a id="11227" class="Symbol">_)</a> <a id="11230" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="11238" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="11246" class="Symbol">((</a><a id="11248" href="Bracketing.html#10579" class="Bound">nr</a> <a id="11251" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="11255" href="Z.html#5769" class="Function">ℤ.neg</a> <a id="11261" href="Bracketing.html#10579" class="Bound">nr</a><a id="11263" class="Symbol">)</a> <a id="11265" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="11269" href="Bracketing.html#10909" class="Bound">n</a><a id="11270" class="Symbol">)</a> <a id="11272" href="Bracketing.html#10574" class="Bound">a</a>     <a id="11278" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="11281" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="11286" class="Symbol">(λ</a> <a id="11289" href="Bracketing.html#11289" class="Bound">m</a> <a id="11291" class="Symbol">→</a> <a id="11293" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="11301" class="Symbol">(</a><a id="11302" href="Bracketing.html#11289" class="Bound">m</a> <a id="11304" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="11308" href="Bracketing.html#10909" class="Bound">n</a><a id="11309" class="Symbol">)</a> <a id="11311" href="Bracketing.html#10574" class="Bound">a</a><a id="11312" class="Symbol">)</a> <a id="11314" class="Symbol">(</a><a id="11315" href="Z.html#6192" class="Postulate">ℤ.n-n≡0</a> <a id="11323" href="Bracketing.html#10579" class="Bound">nr</a><a id="11325" class="Symbol">)</a> <a id="11327" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="11335" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="11343" class="Symbol">(</a><a id="11344" href="Cubical.Data.Int.MoreInts.BiInvInt.Base.html#1047" class="InductiveConstructor">ℤ.zero</a> <a id="11351" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="11355" href="Bracketing.html#10909" class="Bound">n</a><a id="11356" class="Symbol">)</a> <a id="11358" href="Bracketing.html#10574" class="Bound">a</a>                <a id="11375" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="11378" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="11383" class="Symbol">(λ</a> <a id="11386" href="Bracketing.html#11386" class="Bound">n</a> <a id="11388" class="Symbol">→</a> <a id="11390" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="11398" href="Bracketing.html#11386" class="Bound">n</a> <a id="11400" href="Bracketing.html#10574" class="Bound">a</a><a id="11401" class="Symbol">)</a> <a id="11403" class="Symbol">(</a><a id="11404" href="Z.html#5323" class="Postulate">ℤ.zero-+</a> <a id="11413" href="Bracketing.html#10909" class="Bound">n</a><a id="11414" class="Symbol">)</a> <a id="11416" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="11424" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="11432" href="Bracketing.html#10909" class="Bound">n</a> <a id="11434" href="Bracketing.html#10574" class="Bound">a</a>                             <a id="11464" href="Cubical.Foundations.Prelude.html#8499" class="Function Operator">∎</a>
  <a id="11468" href="Cubical.Foundations.Isomorphism.html#917" class="Field">Iso.rightInv</a> <a id="11481" href="Bracketing.html#10617" class="Function">i</a> <a id="11483" href="Bracketing.html#11483" class="Bound">f</a> <a id="11485" class="Symbol">=</a> <a id="11487" href="Cubical.Foundations.Prelude.html#9899" class="Function">funExt</a> <a id="11494" class="Symbol">(λ</a> <a id="11497" href="Bracketing.html#11497" class="Bound">n</a> <a id="11499" class="Symbol">→</a> <a id="11501" href="Bracketing.html#5544" class="Function">matched-isProp</a> <a id="11516" class="Symbol">_</a> <a id="11518" class="Symbol">_</a> <a id="11520" class="Symbol">_)</a>
  <a id="11525" href="Cubical.Foundations.Isomorphism.html#948" class="Field">Iso.leftInv</a>  <a id="11538" href="Bracketing.html#10617" class="Function">i</a> <a id="11540" href="Bracketing.html#11540" class="Bound">f</a> <a id="11542" class="Symbol">=</a> <a id="11544" href="Cubical.Foundations.Prelude.html#9899" class="Function">funExt</a> <a id="11551" class="Symbol">(λ</a> <a id="11554" href="Bracketing.html#11554" class="Bound">n</a> <a id="11556" class="Symbol">→</a> <a id="11558" href="Bracketing.html#5544" class="Function">matched-isProp</a> <a id="11573" class="Symbol">_</a> <a id="11575" class="Symbol">_</a> <a id="11577" class="Symbol">_)</a>

<a id="11581" class="Comment">-- the type of well-bracketed directed chains</a>
<a id="well-bracketed-dchain"></a><a id="11627" href="Bracketing.html#11627" class="Function">well-bracketed-dchain</a> <a id="11649" class="Symbol">:</a> <a id="11651" class="Symbol">(</a><a id="11652" href="Bracketing.html#11652" class="Bound">c</a> <a id="11654" class="Symbol">:</a> <a id="11656" href="ArrowsBase.html#3514" class="Function">dChains</a><a id="11663" class="Symbol">)</a> <a id="11665" class="Symbol">→</a> <a id="11667" href="Agda.Primitive.html#326" class="Primitive">Type₀</a>
<a id="11673" href="Bracketing.html#11627" class="Function">well-bracketed-dchain</a> <a id="11695" href="Bracketing.html#11695" class="Bound">c</a> <a id="11697" class="Symbol">=</a> <a id="11699" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="11703" href="Bracketing.html#11802" class="Function">T</a>
  <a id="11707" class="Keyword">where</a>
  <a id="11715" href="Bracketing.html#11715" class="Function">wb</a> <a id="11718" class="Symbol">:</a> <a id="11720" href="ArrowsBase.html#801" class="Function">Ends</a> <a id="11725" class="Symbol">→</a> <a id="11727" href="Cubical.Foundations.HLevels.html#2018" class="Function">hProp</a> <a id="11733" href="Agda.Primitive.html#764" class="Primitive">ℓ-zero</a>
  <a id="11742" href="Bracketing.html#11715" class="Function">wb</a> <a id="11745" href="Bracketing.html#11745" class="Bound">a</a> <a id="11747" class="Symbol">=</a> <a id="11749" href="Bracketing.html#10153" class="Function">well-bracketed-end</a> <a id="11768" href="Bracketing.html#11745" class="Bound">a</a> <a id="11770" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11772" href="Bracketing.html#10251" class="Function">well-bracketed-end-isProp</a> <a id="11798" href="Bracketing.html#11745" class="Bound">a</a>
  <a id="11802" href="Bracketing.html#11802" class="Function">T</a> <a id="11804" class="Symbol">:</a> <a id="11806" href="Cubical.Foundations.HLevels.html#2018" class="Function">hProp</a> <a id="11812" href="Agda.Primitive.html#764" class="Primitive">ℓ-zero</a>
  <a id="11821" href="Bracketing.html#11802" class="Function">T</a> <a id="11823" class="Symbol">=</a> <a id="11825" href="Cubical.HITs.SetQuotients.Properties.html#2695" class="Function">[].elim</a> <a id="11833" class="Symbol">(λ</a> <a id="11836" href="Bracketing.html#11836" class="Bound">_</a> <a id="11838" class="Symbol">→</a> <a id="11840" href="Cubical.Foundations.HLevels.html#22223" class="Function">isSetHProp</a><a id="11850" class="Symbol">)</a> <a id="11852" href="Bracketing.html#11715" class="Function">wb</a> <a id="11855" class="Symbol">(λ</a> <a id="11858" href="Bracketing.html#11858" class="Bound">a</a> <a id="11860" href="Bracketing.html#11860" class="Bound">b</a> <a id="11862" href="Bracketing.html#11862" class="Bound">r</a> <a id="11864" class="Symbol">→</a> <a id="11866" href="Cubical.Data.Sigma.Properties.html#13039" class="Function">Σ≡Prop</a> <a id="11873" class="Symbol">(λ</a> <a id="11876" href="Bracketing.html#11876" class="Bound">_</a> <a id="11878" class="Symbol">→</a> <a id="11880" href="Cubical.Foundations.Prelude.html#18759" class="Function">isPropIsProp</a><a id="11892" class="Symbol">)</a> <a id="11894" class="Symbol">(</a><a id="11895" href="Bracketing.html#10447" class="Function">well-bracketed-end-indep</a> <a id="11920" href="Bracketing.html#11858" class="Bound">a</a> <a id="11922" href="Bracketing.html#11860" class="Bound">b</a> <a id="11924" class="Symbol">(</a><a id="11925" href="Arrows.html#17363" class="Function">reachable-reveal</a> <a id="11942" href="Bracketing.html#11862" class="Bound">r</a><a id="11943" class="Symbol">)))</a> <a id="11947" href="Bracketing.html#11695" class="Bound">c</a>

<a id="11950" class="Comment">-- being well-bracketed is independent of the direction</a>
<a id="well-bracketed-end-op"></a><a id="12006" href="Bracketing.html#12006" class="Function">well-bracketed-end-op</a> <a id="12028" class="Symbol">:</a> <a id="12030" class="Symbol">(</a><a id="12031" href="Bracketing.html#12031" class="Bound">a</a> <a id="12033" class="Symbol">:</a> <a id="12035" href="ArrowsBase.html#801" class="Function">Ends</a><a id="12039" class="Symbol">)</a> <a id="12041" class="Symbol">→</a> <a id="12043" href="Bracketing.html#10153" class="Function">well-bracketed-end</a> <a id="12062" class="Symbol">(</a><a id="12063" href="Arrows.html#1732" class="Function">op</a> <a id="12066" href="Bracketing.html#12031" class="Bound">a</a><a id="12067" class="Symbol">)</a> <a id="12069" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="12071" href="Bracketing.html#10153" class="Function">well-bracketed-end</a> <a id="12090" href="Bracketing.html#12031" class="Bound">a</a>
<a id="12092" href="Bracketing.html#12006" class="Function">well-bracketed-end-op</a> <a id="12114" href="Bracketing.html#12114" class="Bound">a</a> <a id="12116" class="Symbol">=</a> <a id="12118" href="Cubical.Foundations.Univalence.html#928" class="Function">ua</a> <a id="12121" class="Symbol">(</a><a id="12122" href="Cubical.Foundations.Isomorphism.html#3127" class="Function">isoToEquiv</a> <a id="12133" href="Bracketing.html#12146" class="Function">i</a><a id="12134" class="Symbol">)</a>
  <a id="12138" class="Keyword">where</a>
  <a id="12146" href="Bracketing.html#12146" class="Function">i</a> <a id="12148" class="Symbol">:</a> <a id="12150" href="Cubical.Foundations.Isomorphism.html#773" class="Record">Iso</a> <a id="12154" class="Symbol">(</a><a id="12155" href="Bracketing.html#10153" class="Function">well-bracketed-end</a> <a id="12174" class="Symbol">(</a><a id="12175" href="Arrows.html#1732" class="Function">op</a> <a id="12178" href="Bracketing.html#12114" class="Bound">a</a><a id="12179" class="Symbol">))</a> <a id="12182" class="Symbol">(</a><a id="12183" href="Bracketing.html#10153" class="Function">well-bracketed-end</a> <a id="12202" href="Bracketing.html#12114" class="Bound">a</a><a id="12203" class="Symbol">)</a>
  <a id="12207" href="Cubical.Foundations.Isomorphism.html#885" class="Field">Iso.fun</a> <a id="12215" href="Bracketing.html#12146" class="Function">i</a> <a id="12217" href="Bracketing.html#12217" class="Bound">f</a> <a id="12219" href="Bracketing.html#12219" class="Bound">n</a> <a id="12221" class="Symbol">=</a> <a id="12223" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="12229" href="Bracketing.html#5487" class="Function">matched</a> <a id="12237" href="Bracketing.html#12267" class="Function">p</a> <a id="12239" class="Symbol">(</a><a id="12240" href="Bracketing.html#12217" class="Bound">f</a> <a id="12242" class="Symbol">(</a><a id="12243" href="Z.html#5769" class="Function">ℤ.neg</a> <a id="12249" href="Bracketing.html#12219" class="Bound">n</a><a id="12250" class="Symbol">))</a>
    <a id="12257" class="Keyword">where</a>
    <a id="12267" href="Bracketing.html#12267" class="Function">p</a> <a id="12269" class="Symbol">=</a>
      <a id="12277" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="12283" class="Symbol">(</a><a id="12284" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="12292" class="Symbol">(</a><a id="12293" href="Z.html#5769" class="Function">ℤ.neg</a> <a id="12299" href="Bracketing.html#12219" class="Bound">n</a><a id="12300" class="Symbol">)</a> <a id="12302" class="Symbol">(</a><a id="12303" href="Arrows.html#1732" class="Function">op</a> <a id="12306" href="Bracketing.html#12114" class="Bound">a</a><a id="12307" class="Symbol">))</a> <a id="12310" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="12313" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="12318" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="12324" class="Symbol">(</a><a id="12325" href="Arrows.html#5094" class="Function">iterate-neg-op</a> <a id="12340" href="Bracketing.html#12219" class="Bound">n</a> <a id="12342" href="Bracketing.html#12114" class="Bound">a</a><a id="12343" class="Symbol">)</a> <a id="12345" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="12353" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="12359" class="Symbol">(</a><a id="12360" href="Arrows.html#1732" class="Function">op</a> <a id="12363" class="Symbol">(</a><a id="12364" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="12372" href="Bracketing.html#12219" class="Bound">n</a> <a id="12374" href="Bracketing.html#12114" class="Bound">a</a><a id="12375" class="Symbol">))</a>         <a id="12386" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="12389" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="12394" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="12402" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="12408" class="Symbol">(</a><a id="12409" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="12417" href="Bracketing.html#12219" class="Bound">n</a> <a id="12419" href="Bracketing.html#12114" class="Bound">a</a><a id="12420" class="Symbol">)</a>              <a id="12435" href="Cubical.Foundations.Prelude.html#8499" class="Function Operator">∎</a>
  <a id="12439" href="Cubical.Foundations.Isomorphism.html#901" class="Field">Iso.inv</a> <a id="12447" href="Bracketing.html#12146" class="Function">i</a> <a id="12449" href="Bracketing.html#12449" class="Bound">f</a> <a id="12451" href="Bracketing.html#12451" class="Bound">n</a> <a id="12453" class="Symbol">=</a> <a id="12455" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="12461" href="Bracketing.html#5487" class="Function">matched</a> <a id="12469" href="Bracketing.html#12499" class="Function">p</a> <a id="12471" class="Symbol">(</a><a id="12472" href="Bracketing.html#12449" class="Bound">f</a> <a id="12474" class="Symbol">(</a><a id="12475" href="Z.html#5769" class="Function">ℤ.neg</a> <a id="12481" href="Bracketing.html#12451" class="Bound">n</a><a id="12482" class="Symbol">))</a>
    <a id="12489" class="Keyword">where</a>
    <a id="12499" href="Bracketing.html#12499" class="Function">p</a> <a id="12501" class="Symbol">=</a>
      <a id="12509" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="12515" class="Symbol">(</a><a id="12516" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="12524" class="Symbol">(</a><a id="12525" href="Z.html#5769" class="Function">ℤ.neg</a> <a id="12531" href="Bracketing.html#12451" class="Bound">n</a><a id="12532" class="Symbol">)</a> <a id="12534" href="Bracketing.html#12114" class="Bound">a</a><a id="12535" class="Symbol">)</a>   <a id="12539" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="12542" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="12547" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="12553" class="Symbol">(</a><a id="12554" href="Arrows.html#4946" class="Function">iterate-neg</a> <a id="12566" href="Bracketing.html#12451" class="Bound">n</a> <a id="12568" href="Bracketing.html#12114" class="Bound">a</a><a id="12569" class="Symbol">)</a> <a id="12571" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="12579" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="12585" class="Symbol">(</a><a id="12586" href="Arrows.html#1732" class="Function">op</a> <a id="12589" class="Symbol">(</a><a id="12590" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="12598" href="Bracketing.html#12451" class="Bound">n</a> <a id="12600" class="Symbol">(</a><a id="12601" href="Arrows.html#1732" class="Function">op</a> <a id="12604" href="Bracketing.html#12114" class="Bound">a</a><a id="12605" class="Symbol">)))</a> <a id="12609" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="12612" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="12617" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="12625" href="ArrowsBase.html#887" class="Function">arrow</a> <a id="12631" class="Symbol">(</a><a id="12632" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="12640" href="Bracketing.html#12451" class="Bound">n</a> <a id="12642" class="Symbol">(</a><a id="12643" href="Arrows.html#1732" class="Function">op</a> <a id="12646" href="Bracketing.html#12114" class="Bound">a</a><a id="12647" class="Symbol">))</a>      <a id="12655" href="Cubical.Foundations.Prelude.html#8499" class="Function Operator">∎</a>
  <a id="12659" href="Cubical.Foundations.Isomorphism.html#917" class="Field">Iso.rightInv</a> <a id="12672" href="Bracketing.html#12146" class="Function">i</a> <a id="12674" href="Bracketing.html#12674" class="Bound">f</a> <a id="12676" class="Symbol">=</a> <a id="12678" href="Cubical.Foundations.Prelude.html#9899" class="Function">funExt</a> <a id="12685" class="Symbol">(λ</a> <a id="12688" href="Bracketing.html#12688" class="Bound">n</a> <a id="12690" class="Symbol">→</a> <a id="12692" href="Bracketing.html#5544" class="Function">matched-isProp</a> <a id="12707" class="Symbol">_</a> <a id="12709" class="Symbol">_</a> <a id="12711" class="Symbol">_)</a>
  <a id="12716" href="Cubical.Foundations.Isomorphism.html#948" class="Field">Iso.leftInv</a>  <a id="12729" href="Bracketing.html#12146" class="Function">i</a> <a id="12731" href="Bracketing.html#12731" class="Bound">f</a> <a id="12733" class="Symbol">=</a> <a id="12735" href="Cubical.Foundations.Prelude.html#9899" class="Function">funExt</a> <a id="12742" class="Symbol">(λ</a> <a id="12745" href="Bracketing.html#12745" class="Bound">n</a> <a id="12747" class="Symbol">→</a> <a id="12749" href="Bracketing.html#5544" class="Function">matched-isProp</a> <a id="12764" class="Symbol">_</a> <a id="12766" class="Symbol">_</a> <a id="12768" class="Symbol">_)</a>

<a id="12772" class="Comment">-- the chain of a directed arrow is well-bracketed</a>
<a id="well-bracketed"></a><a id="12823" href="Bracketing.html#12823" class="Function">well-bracketed</a> <a id="12838" class="Symbol">:</a> <a id="12840" href="ArrowsBase.html#769" class="Function">Arrows</a> <a id="12847" class="Symbol">→</a> <a id="12849" href="Agda.Primitive.html#326" class="Primitive">Type₀</a>
<a id="12855" href="Bracketing.html#12823" class="Function">well-bracketed</a> <a id="12870" href="Bracketing.html#12870" class="Bound">a</a> <a id="12872" class="Symbol">=</a> <a id="12874" href="Bracketing.html#10153" class="Function">well-bracketed-end</a> <a id="12893" class="Symbol">(</a><a id="12894" href="Arrows.html#2233" class="Function">fw</a> <a id="12897" href="Bracketing.html#12870" class="Bound">a</a><a id="12898" class="Symbol">)</a>

<a id="well-bracketed-isProp"></a><a id="12901" href="Bracketing.html#12901" class="Function">well-bracketed-isProp</a> <a id="12923" class="Symbol">:</a> <a id="12925" class="Symbol">(</a><a id="12926" href="Bracketing.html#12926" class="Bound">a</a> <a id="12928" class="Symbol">:</a> <a id="12930" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="12936" class="Symbol">)</a> <a id="12938" class="Symbol">→</a> <a id="12940" href="Cubical.Foundations.Prelude.html#14010" class="Function">isProp</a> <a id="12947" class="Symbol">(</a><a id="12948" href="Bracketing.html#12823" class="Function">well-bracketed</a> <a id="12963" href="Bracketing.html#12926" class="Bound">a</a><a id="12964" class="Symbol">)</a>
<a id="12966" href="Bracketing.html#12901" class="Function">well-bracketed-isProp</a> <a id="12988" href="Bracketing.html#12988" class="Bound">a</a> <a id="12990" class="Symbol">=</a> <a id="12992" href="Bracketing.html#10251" class="Function">well-bracketed-end-isProp</a> <a id="13018" class="Symbol">(</a><a id="13019" href="Arrows.html#2233" class="Function">fw</a> <a id="13022" href="Bracketing.html#12988" class="Bound">a</a><a id="13023" class="Symbol">)</a>

<a id="13026" class="Comment">-- being well-bracketed is independent of the starting point</a>
<a id="well-bracketed-indep"></a><a id="13087" href="Bracketing.html#13087" class="Function">well-bracketed-indep</a> <a id="13108" class="Symbol">:</a> <a id="13110" class="Symbol">(</a><a id="13111" href="Bracketing.html#13111" class="Bound">a</a> <a id="13113" href="Bracketing.html#13113" class="Bound">b</a> <a id="13115" class="Symbol">:</a> <a id="13117" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="13123" class="Symbol">)</a> <a id="13125" class="Symbol">→</a> <a id="13127" href="Arrows.html#7524" class="Function">reachable-arr</a> <a id="13141" href="Bracketing.html#13111" class="Bound">a</a> <a id="13143" href="Bracketing.html#13113" class="Bound">b</a> <a id="13145" class="Symbol">→</a> <a id="13147" href="Bracketing.html#12823" class="Function">well-bracketed</a> <a id="13162" href="Bracketing.html#13111" class="Bound">a</a> <a id="13164" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="13166" href="Bracketing.html#12823" class="Function">well-bracketed</a> <a id="13181" href="Bracketing.html#13113" class="Bound">b</a>
<a id="13183" href="Bracketing.html#13087" class="Function">well-bracketed-indep</a> <a id="13204" href="Bracketing.html#13204" class="Bound">a</a> <a id="13206" href="Bracketing.html#13206" class="Bound">b</a> <a id="13208" href="Bracketing.html#13208" class="Bound">r</a> <a id="13210" class="Keyword">with</a> <a id="13215" href="Arrows.html#9064" class="Function">reachable-arr→reachable</a> <a id="13239" href="Bracketing.html#13208" class="Bound">r</a>
<a id="13241" class="Symbol">...</a> <a id="13245" class="Symbol">|</a> <a id="13247" href="Cubical.Data.Sum.Base.html#261" class="InductiveConstructor">inl</a> <a id="13251" href="Bracketing.html#13251" class="Bound">r&#39;</a> <a id="13254" class="Symbol">=</a> <a id="13256" href="Bracketing.html#10447" class="Function">well-bracketed-end-indep</a> <a id="13281" class="Symbol">(</a><a id="13282" href="Arrows.html#2233" class="Function">fw</a> <a id="13285" class="Bound">a</a><a id="13286" class="Symbol">)</a> <a id="13288" class="Symbol">(</a><a id="13289" href="Arrows.html#2233" class="Function">fw</a> <a id="13292" class="Bound">b</a><a id="13293" class="Symbol">)</a> <a id="13295" href="Bracketing.html#13251" class="Bound">r&#39;</a>
<a id="13298" class="Symbol">...</a> <a id="13302" class="Symbol">|</a> <a id="13304" href="Cubical.Data.Sum.Base.html#279" class="InductiveConstructor">inr</a> <a id="13308" href="Bracketing.html#13308" class="Bound">r&#39;</a> <a id="13311" class="Symbol">=</a> <a id="13313" href="Bracketing.html#10447" class="Function">well-bracketed-end-indep</a> <a id="13338" class="Symbol">(</a><a id="13339" href="Arrows.html#2233" class="Function">fw</a> <a id="13342" class="Bound">a</a><a id="13343" class="Symbol">)</a> <a id="13345" class="Symbol">(</a><a id="13346" href="Arrows.html#2343" class="Function">bw</a> <a id="13349" class="Bound">b</a><a id="13350" class="Symbol">)</a> <a id="13352" href="Bracketing.html#13308" class="Bound">r&#39;</a> <a id="13355" href="Cubical.Foundations.Prelude.html#4447" class="Function Operator">∙</a> <a id="13357" href="Bracketing.html#12006" class="Function">well-bracketed-end-op</a> <a id="13379" class="Symbol">(</a><a id="13380" href="Arrows.html#2233" class="Function">fw</a> <a id="13383" class="Bound">b</a><a id="13384" class="Symbol">)</a>

<a id="well-bracketed-chain-hProp"></a><a id="13387" href="Bracketing.html#13387" class="Function">well-bracketed-chain-hProp</a> <a id="13414" class="Symbol">:</a> <a id="13416" class="Symbol">(</a><a id="13417" href="Bracketing.html#13417" class="Bound">c</a> <a id="13419" class="Symbol">:</a> <a id="13421" href="Arrows.html#22343" class="Function">Chains</a><a id="13427" class="Symbol">)</a> <a id="13429" class="Symbol">→</a> <a id="13431" href="Cubical.Foundations.HLevels.html#2018" class="Function">hProp</a> <a id="13437" href="Agda.Primitive.html#764" class="Primitive">ℓ-zero</a>
<a id="13444" href="Bracketing.html#13387" class="Function">well-bracketed-chain-hProp</a> <a id="13471" href="Bracketing.html#13471" class="Bound">c</a> <a id="13473" class="Symbol">=</a> <a id="13475" href="Cubical.HITs.SetQuotients.Properties.html#2695" class="Function">[].elim</a> <a id="13483" class="Symbol">(λ</a> <a id="13486" href="Bracketing.html#13486" class="Bound">_</a> <a id="13488" class="Symbol">→</a> <a id="13490" href="Cubical.Foundations.HLevels.html#22223" class="Function">isSetHProp</a><a id="13500" class="Symbol">)</a> <a id="13502" class="Symbol">(λ</a> <a id="13505" href="Bracketing.html#13505" class="Bound">a</a> <a id="13507" class="Symbol">→</a> <a id="13509" href="Bracketing.html#12823" class="Function">well-bracketed</a> <a id="13524" href="Bracketing.html#13505" class="Bound">a</a> <a id="13526" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13528" href="Bracketing.html#12901" class="Function">well-bracketed-isProp</a> <a id="13550" href="Bracketing.html#13505" class="Bound">a</a><a id="13551" class="Symbol">)</a> <a id="13553" href="Bracketing.html#13584" class="Function">indep</a> <a id="13559" href="Bracketing.html#13471" class="Bound">c</a>
  <a id="13563" class="Keyword">where</a>
  <a id="13571" class="Keyword">abstract</a>
    <a id="13584" href="Bracketing.html#13584" class="Function">indep</a> <a id="13590" class="Symbol">:</a> <a id="13592" class="Symbol">(</a><a id="13593" href="Bracketing.html#13593" class="Bound">a</a> <a id="13595" href="Bracketing.html#13595" class="Bound">b</a> <a id="13597" class="Symbol">:</a> <a id="13599" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="13605" class="Symbol">)</a> <a id="13607" class="Symbol">(</a><a id="13608" href="Bracketing.html#13608" class="Bound">r</a> <a id="13610" class="Symbol">:</a> <a id="13612" href="Arrows.html#10003" class="Function">is-reachable-arr</a> <a id="13629" href="Bracketing.html#13593" class="Bound">a</a> <a id="13631" href="Bracketing.html#13595" class="Bound">b</a><a id="13632" class="Symbol">)</a> <a id="13634" class="Symbol">→</a> <a id="13636" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">_≡_</a> <a id="13640" class="Symbol">{</a><a id="13641" class="Argument">A</a> <a id="13643" class="Symbol">=</a> <a id="13645" href="Cubical.Foundations.HLevels.html#2018" class="Function">hProp</a> <a id="13651" href="Agda.Primitive.html#764" class="Primitive">ℓ-zero</a><a id="13657" class="Symbol">}</a> <a id="13659" class="Symbol">(</a><a id="13660" href="Bracketing.html#12823" class="Function">well-bracketed</a> <a id="13675" href="Bracketing.html#13593" class="Bound">a</a> <a id="13677" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13679" href="Bracketing.html#12901" class="Function">well-bracketed-isProp</a> <a id="13701" href="Bracketing.html#13593" class="Bound">a</a><a id="13702" class="Symbol">)</a> <a id="13704" class="Symbol">(</a><a id="13705" href="Bracketing.html#12823" class="Function">well-bracketed</a> <a id="13720" href="Bracketing.html#13595" class="Bound">b</a> <a id="13722" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13724" href="Bracketing.html#12901" class="Function">well-bracketed-isProp</a> <a id="13746" href="Bracketing.html#13595" class="Bound">b</a><a id="13747" class="Symbol">)</a>
    <a id="13753" href="Bracketing.html#13584" class="Function">indep</a> <a id="13759" class="Symbol">=</a> <a id="13761" class="Symbol">(λ</a> <a id="13764" href="Bracketing.html#13764" class="Bound">a</a> <a id="13766" href="Bracketing.html#13766" class="Bound">b</a> <a id="13768" href="Bracketing.html#13768" class="Bound">r</a> <a id="13770" class="Symbol">→</a> <a id="13772" href="Cubical.Data.Sigma.Properties.html#13039" class="Function">Σ≡Prop</a> <a id="13779" class="Symbol">(λ</a> <a id="13782" href="Bracketing.html#13782" class="Bound">_</a> <a id="13784" class="Symbol">→</a> <a id="13786" href="Cubical.Foundations.Prelude.html#18759" class="Function">isPropIsProp</a><a id="13798" class="Symbol">)</a> <a id="13800" class="Symbol">(</a><a id="13801" href="Bracketing.html#13087" class="Function">well-bracketed-indep</a> <a id="13822" href="Bracketing.html#13764" class="Bound">a</a> <a id="13824" href="Bracketing.html#13766" class="Bound">b</a> <a id="13826" class="Symbol">(</a><a id="13827" href="Arrows.html#16257" class="Function">reachable-arr-reveal</a> <a id="13848" href="Bracketing.html#13768" class="Bound">r</a><a id="13849" class="Symbol">)))</a>

<a id="13854" class="Comment">-- the chain of an arrow is well-bracketed</a>
<a id="well-bracketed-chain"></a><a id="13897" href="Bracketing.html#13897" class="Function">well-bracketed-chain</a> <a id="13918" class="Symbol">:</a> <a id="13920" class="Symbol">(</a><a id="13921" href="Bracketing.html#13921" class="Bound">c</a> <a id="13923" class="Symbol">:</a> <a id="13925" href="Arrows.html#22343" class="Function">Chains</a><a id="13931" class="Symbol">)</a> <a id="13933" class="Symbol">→</a> <a id="13935" href="Agda.Primitive.html#326" class="Primitive">Type₀</a>
<a id="13941" href="Bracketing.html#13897" class="Function">well-bracketed-chain</a> <a id="13962" href="Bracketing.html#13962" class="Bound">c</a> <a id="13964" class="Symbol">=</a> <a id="13966" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="13970" class="Symbol">(</a><a id="13971" href="Bracketing.html#13387" class="Function">well-bracketed-chain-hProp</a> <a id="13998" href="Bracketing.html#13962" class="Bound">c</a><a id="13999" class="Symbol">)</a>

<a id="well-bracketed-chain-isProp"></a><a id="14002" href="Bracketing.html#14002" class="Function">well-bracketed-chain-isProp</a> <a id="14030" class="Symbol">:</a> <a id="14032" class="Symbol">(</a><a id="14033" href="Bracketing.html#14033" class="Bound">c</a> <a id="14035" class="Symbol">:</a> <a id="14037" href="Arrows.html#22343" class="Function">Chains</a><a id="14043" class="Symbol">)</a> <a id="14045" class="Symbol">→</a> <a id="14047" href="Cubical.Foundations.Prelude.html#14010" class="Function">isProp</a> <a id="14054" class="Symbol">(</a><a id="14055" href="Bracketing.html#13897" class="Function">well-bracketed-chain</a> <a id="14076" href="Bracketing.html#14033" class="Bound">c</a><a id="14077" class="Symbol">)</a>
<a id="14079" href="Bracketing.html#14002" class="Function">well-bracketed-chain-isProp</a> <a id="14107" href="Bracketing.html#14107" class="Bound">c</a> <a id="14109" class="Symbol">=</a> <a id="14111" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="14115" class="Symbol">(</a><a id="14116" href="Bracketing.html#13387" class="Function">well-bracketed-chain-hProp</a> <a id="14143" href="Bracketing.html#14107" class="Bound">c</a><a id="14144" class="Symbol">)</a>

<a id="14147" class="Comment">-- matched arrows are at even distance (it is stated odd because matched takes</a>
<a id="14226" class="Comment">-- the successor of the number)</a>
<a id="matched-odd"></a><a id="14258" href="Bracketing.html#14258" class="Function">matched-odd</a> <a id="14270" class="Symbol">:</a> <a id="14272" class="Symbol">{</a><a id="14273" href="Bracketing.html#14273" class="Bound">a</a> <a id="14275" class="Symbol">:</a> <a id="14277" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="14283" class="Symbol">}</a> <a id="14285" class="Symbol">(</a><a id="14286" href="Bracketing.html#14286" class="Bound">m</a> <a id="14288" class="Symbol">:</a> <a id="14290" href="Bracketing.html#5487" class="Function">matched</a> <a id="14298" href="Bracketing.html#14273" class="Bound">a</a><a id="14299" class="Symbol">)</a> <a id="14301" class="Symbol">→</a> <a id="14303" href="Nat.html#376" class="Datatype">ℕ.is-odd</a> <a id="14312" class="Symbol">(</a><a id="14313" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="14317" href="Bracketing.html#14286" class="Bound">m</a><a id="14318" class="Symbol">)</a>
<a id="14320" href="Bracketing.html#14258" class="Function">matched-odd</a> <a id="14332" class="Symbol">{</a><a id="14333" href="Bracketing.html#14333" class="Bound">a</a><a id="14334" class="Symbol">}</a> <a id="14336" class="Symbol">(</a><a id="14337" href="Bracketing.html#14337" class="Bound">n</a> <a id="14339" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14341" href="Bracketing.html#14341" class="Bound">z</a> <a id="14343" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14345" href="Bracketing.html#14345" class="Bound">¬z</a><a id="14347" class="Symbol">)</a> <a id="14349" class="Keyword">with</a> <a id="14354" href="Nat.html#1093" class="Function">ℕ.parity</a> <a id="14363" href="Bracketing.html#14337" class="Bound">n</a>
<a id="14365" class="Symbol">...</a> <a id="14369" class="Symbol">|</a> <a id="14371" href="Cubical.Data.Sum.Base.html#279" class="InductiveConstructor">inr</a> <a id="14375" href="Bracketing.html#14375" class="Bound">odd</a> <a id="14379" class="Symbol">=</a> <a id="14381" href="Bracketing.html#14375" class="Bound">odd</a>
<a id="14385" class="Symbol">...</a> <a id="14389" class="Symbol">|</a> <a id="14391" href="Cubical.Data.Sum.Base.html#261" class="InductiveConstructor">inl</a> <a id="14395" href="Bracketing.html#14395" class="Bound">even</a> <a id="14400" class="Symbol">=</a> <a id="14402" href="Cubical.Data.Empty.Base.html#269" class="Function">⊥.elim</a> <a id="14409" class="Symbol">(</a><a id="14410" href="Z.html#8810" class="Postulate">ℤ.even-or-odd</a> <a id="14424" class="Symbol">(</a><a id="14425" href="Bracketing.html#1761" class="Function">height</a> <a id="14432" class="Bound">n</a> <a id="14434" class="Symbol">(</a><a id="14435" href="Arrows.html#2233" class="Function">fw</a> <a id="14438" class="Bound">a</a><a id="14439" class="Symbol">))</a> <a id="14442" class="Symbol">(</a><a id="14443" href="Bracketing.html#15084" class="Function">lem-even</a> <a id="14452" class="Symbol">(</a><a id="14453" href="Arrows.html#2233" class="Function">fw</a> <a id="14456" class="Bound">a</a><a id="14457" class="Symbol">)</a> <a id="14459" class="Bound">n</a> <a id="14461" href="Bracketing.html#14395" class="Bound">even</a> <a id="14466" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14468" href="Z.html#9117" class="Postulate">even-suc-inv</a> <a id="14481" class="Symbol">(</a><a id="14482" href="Bracketing.html#1761" class="Function">height</a> <a id="14489" class="Bound">n</a> <a id="14491" class="Symbol">(</a><a id="14492" href="Arrows.html#2233" class="Function">fw</a> <a id="14495" class="Bound">a</a><a id="14496" class="Symbol">))</a> <a id="14499" class="Symbol">(</a><a id="14500" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="14506" href="Z.html#7895" class="Datatype">ℤ.is-even</a> <a id="14516" class="Symbol">(</a><a id="14517" href="Z.html#5538" class="Postulate">ℤ.+1-suc</a> <a id="14526" class="Symbol">(</a><a id="14527" href="Bracketing.html#1761" class="Function">height</a> <a id="14534" class="Bound">n</a> <a id="14536" class="Symbol">(</a><a id="14537" href="Arrows.html#2233" class="Function">fw</a> <a id="14540" class="Bound">a</a><a id="14541" class="Symbol">)))</a> <a id="14545" class="Hole">{!!}</a><a id="14549" class="Symbol">)))</a>
  <a id="14555" class="Keyword">where</a>
  <a id="14563" href="Bracketing.html#14563" class="Function">even-hw</a> <a id="14571" class="Symbol">:</a> <a id="14573" class="Symbol">(</a><a id="14574" href="Bracketing.html#14574" class="Bound">n</a> <a id="14576" class="Symbol">:</a> <a id="14578" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="14579" class="Symbol">)</a> <a id="14581" class="Symbol">(</a><a id="14582" href="Bracketing.html#14582" class="Bound">o</a> <a id="14584" href="Bracketing.html#14584" class="Bound">o&#39;</a> <a id="14587" class="Symbol">:</a> <a id="14589" href="ArrowsBase.html#801" class="Function">Ends</a><a id="14593" class="Symbol">)</a> <a id="14595" class="Symbol">→</a> <a id="14597" href="Z.html#7920" class="Datatype">ℤ.is-odd</a> <a id="14606" class="Symbol">(</a><a id="14607" href="Bracketing.html#1761" class="Function">height</a> <a id="14614" href="Bracketing.html#14574" class="Bound">n</a> <a id="14616" href="Bracketing.html#14582" class="Bound">o</a><a id="14617" class="Symbol">)</a> <a id="14619" class="Symbol">→</a> <a id="14621" href="Z.html#7895" class="Datatype">ℤ.is-even</a> <a id="14631" class="Symbol">(</a><a id="14632" href="Bracketing.html#1761" class="Function">height</a> <a id="14639" href="Bracketing.html#14574" class="Bound">n</a> <a id="14641" href="Bracketing.html#14582" class="Bound">o</a> <a id="14643" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="14647" href="Bracketing.html#1185" class="Function">weight</a> <a id="14654" href="Bracketing.html#14584" class="Bound">o&#39;</a><a id="14656" class="Symbol">)</a>
  <a id="14660" href="Bracketing.html#14563" class="Function">even-hw</a> <a id="14668" href="Bracketing.html#14668" class="Bound">n</a> <a id="14670" href="Bracketing.html#14670" class="Bound">o</a> <a id="14672" class="Symbol">(</a><a id="14673" href="Bracketing.html#14673" class="Bound">o&#39;</a> <a id="14676" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14678" href="Ends.html#341" class="InductiveConstructor">src</a><a id="14681" class="Symbol">)</a> <a id="14683" href="Bracketing.html#14683" class="Bound">odd</a> <a id="14687" class="Symbol">=</a> <a id="14689" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="14695" href="Z.html#7895" class="Datatype">ℤ.is-even</a> <a id="14705" class="Symbol">(</a><a id="14706" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="14710" class="Symbol">(</a><a id="14711" href="Z.html#5538" class="Postulate">ℤ.+1-suc</a> <a id="14720" class="Symbol">_))</a> <a id="14724" class="Symbol">(</a><a id="14725" href="Z.html#7990" class="InductiveConstructor">even-suc</a> <a id="14734" href="Bracketing.html#14683" class="Bound">odd</a><a id="14737" class="Symbol">)</a>
  <a id="14741" href="Bracketing.html#14563" class="Function">even-hw</a> <a id="14749" href="Bracketing.html#14749" class="Bound">n</a> <a id="14751" href="Bracketing.html#14751" class="Bound">o</a> <a id="14753" class="Symbol">(</a><a id="14754" href="Bracketing.html#14754" class="Bound">o&#39;</a> <a id="14757" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14759" href="Ends.html#353" class="InductiveConstructor">tgt</a><a id="14762" class="Symbol">)</a> <a id="14764" href="Bracketing.html#14764" class="Bound">odd</a> <a id="14768" class="Symbol">=</a> <a id="14770" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="14776" href="Z.html#7895" class="Datatype">ℤ.is-even</a> <a id="14786" class="Symbol">(</a><a id="14787" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="14791" class="Symbol">(</a><a id="14792" href="Z.html#6225" class="Postulate">ℤ.-1-pred</a> <a id="14802" class="Symbol">_))</a> <a id="14806" class="Symbol">(</a><a id="14807" href="Z.html#8042" class="InductiveConstructor">even-predl</a> <a id="14818" href="Bracketing.html#14764" class="Bound">odd</a><a id="14821" class="Symbol">)</a>
  <a id="14825" href="Bracketing.html#14825" class="Function">odd-hw</a> <a id="14832" class="Symbol">:</a> <a id="14834" class="Symbol">(</a><a id="14835" href="Bracketing.html#14835" class="Bound">n</a> <a id="14837" class="Symbol">:</a> <a id="14839" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="14840" class="Symbol">)</a> <a id="14842" class="Symbol">(</a><a id="14843" href="Bracketing.html#14843" class="Bound">o</a> <a id="14845" href="Bracketing.html#14845" class="Bound">o&#39;</a> <a id="14848" class="Symbol">:</a> <a id="14850" href="ArrowsBase.html#801" class="Function">Ends</a><a id="14854" class="Symbol">)</a> <a id="14856" class="Symbol">→</a> <a id="14858" href="Z.html#7895" class="Datatype">ℤ.is-even</a> <a id="14868" class="Symbol">(</a><a id="14869" href="Bracketing.html#1761" class="Function">height</a> <a id="14876" href="Bracketing.html#14835" class="Bound">n</a> <a id="14878" href="Bracketing.html#14843" class="Bound">o</a><a id="14879" class="Symbol">)</a> <a id="14881" class="Symbol">→</a> <a id="14883" href="Z.html#7920" class="Datatype">ℤ.is-odd</a> <a id="14892" class="Symbol">(</a><a id="14893" href="Bracketing.html#1761" class="Function">height</a> <a id="14900" href="Bracketing.html#14835" class="Bound">n</a> <a id="14902" href="Bracketing.html#14843" class="Bound">o</a> <a id="14904" href="Z.html#5032" class="Function Operator">ℤ.+</a> <a id="14908" href="Bracketing.html#1185" class="Function">weight</a> <a id="14915" href="Bracketing.html#14845" class="Bound">o&#39;</a><a id="14917" class="Symbol">)</a>
  <a id="14921" href="Bracketing.html#14825" class="Function">odd-hw</a> <a id="14928" href="Bracketing.html#14928" class="Bound">n</a> <a id="14930" href="Bracketing.html#14930" class="Bound">o</a> <a id="14932" class="Symbol">(</a><a id="14933" href="Bracketing.html#14933" class="Bound">o&#39;</a> <a id="14936" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14938" href="Ends.html#341" class="InductiveConstructor">src</a><a id="14941" class="Symbol">)</a> <a id="14943" href="Bracketing.html#14943" class="Bound">even</a> <a id="14948" class="Symbol">=</a> <a id="14950" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="14956" href="Z.html#7920" class="Datatype">ℤ.is-odd</a> <a id="14965" class="Symbol">(</a><a id="14966" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="14970" class="Symbol">(</a><a id="14971" href="Z.html#5538" class="Postulate">ℤ.+1-suc</a> <a id="14980" class="Symbol">_))</a> <a id="14984" class="Symbol">(</a><a id="14985" href="Z.html#8169" class="InductiveConstructor">odd-suc</a> <a id="14993" href="Bracketing.html#14943" class="Bound">even</a><a id="14997" class="Symbol">)</a>
  <a id="15001" href="Bracketing.html#14825" class="Function">odd-hw</a> <a id="15008" href="Bracketing.html#15008" class="Bound">n</a> <a id="15010" href="Bracketing.html#15010" class="Bound">o</a> <a id="15012" class="Symbol">(</a><a id="15013" href="Bracketing.html#15013" class="Bound">o&#39;</a> <a id="15016" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15018" href="Ends.html#353" class="InductiveConstructor">tgt</a><a id="15021" class="Symbol">)</a> <a id="15023" href="Bracketing.html#15023" class="Bound">even</a> <a id="15028" class="Symbol">=</a> <a id="15030" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="15036" href="Z.html#7920" class="Datatype">ℤ.is-odd</a> <a id="15045" class="Symbol">(</a><a id="15046" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="15050" class="Symbol">(</a><a id="15051" href="Z.html#6225" class="Postulate">ℤ.-1-pred</a> <a id="15061" class="Symbol">_))</a> <a id="15065" class="Symbol">(</a><a id="15066" href="Z.html#8220" class="InductiveConstructor">odd-predl</a> <a id="15076" href="Bracketing.html#15023" class="Bound">even</a><a id="15080" class="Symbol">)</a>
  <a id="15084" href="Bracketing.html#15084" class="Function">lem-even</a> <a id="15093" class="Symbol">:</a> <a id="15095" class="Symbol">(</a><a id="15096" href="Bracketing.html#15096" class="Bound">o</a> <a id="15098" class="Symbol">:</a> <a id="15100" href="ArrowsBase.html#801" class="Function">Ends</a><a id="15104" class="Symbol">)</a> <a id="15106" class="Symbol">(</a><a id="15107" href="Bracketing.html#15107" class="Bound">n</a> <a id="15109" class="Symbol">:</a> <a id="15111" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="15112" class="Symbol">)</a> <a id="15114" class="Symbol">→</a> <a id="15116" href="Nat.html#351" class="Datatype">ℕ.is-even</a> <a id="15126" href="Bracketing.html#15107" class="Bound">n</a> <a id="15128" class="Symbol">→</a> <a id="15130" href="Z.html#7895" class="Datatype">ℤ.is-even</a> <a id="15140" class="Symbol">(</a><a id="15141" href="Bracketing.html#1761" class="Function">height</a> <a id="15148" href="Bracketing.html#15107" class="Bound">n</a> <a id="15150" href="Bracketing.html#15096" class="Bound">o</a><a id="15151" class="Symbol">)</a>
  <a id="15155" href="Bracketing.html#15155" class="Function">lem-odd</a>  <a id="15164" class="Symbol">:</a> <a id="15166" class="Symbol">(</a><a id="15167" href="Bracketing.html#15167" class="Bound">o</a> <a id="15169" class="Symbol">:</a> <a id="15171" href="ArrowsBase.html#801" class="Function">Ends</a><a id="15175" class="Symbol">)</a> <a id="15177" class="Symbol">(</a><a id="15178" href="Bracketing.html#15178" class="Bound">n</a> <a id="15180" class="Symbol">:</a> <a id="15182" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="15183" class="Symbol">)</a> <a id="15185" class="Symbol">→</a> <a id="15187" href="Nat.html#376" class="Datatype">ℕ.is-odd</a> <a id="15196" href="Bracketing.html#15178" class="Bound">n</a> <a id="15198" class="Symbol">→</a> <a id="15200" href="Z.html#7920" class="Datatype">ℤ.is-odd</a> <a id="15209" class="Symbol">(</a><a id="15210" href="Bracketing.html#1761" class="Function">height</a> <a id="15217" href="Bracketing.html#15178" class="Bound">n</a> <a id="15219" href="Bracketing.html#15167" class="Bound">o</a><a id="15220" class="Symbol">)</a>
  <a id="15224" href="Bracketing.html#15084" class="Function">lem-even</a> <a id="15233" href="Bracketing.html#15233" class="Bound">o</a> <a id="15235" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a> <a id="15240" href="Bracketing.html#15240" class="Bound">p</a> <a id="15242" class="Symbol">=</a> <a id="15244" href="Z.html#7962" class="InductiveConstructor">even-zero</a>
  <a id="15256" href="Bracketing.html#15084" class="Function">lem-even</a> <a id="15265" href="Bracketing.html#15265" class="Bound">o</a> <a id="15267" class="Symbol">(</a><a id="15268" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15272" href="Bracketing.html#15272" class="Bound">n</a><a id="15273" class="Symbol">)</a> <a id="15275" href="Bracketing.html#15275" class="Bound">p</a> <a id="15277" class="Symbol">=</a> <a id="15279" href="Bracketing.html#14563" class="Function">even-hw</a> <a id="15287" href="Bracketing.html#15272" class="Bound">n</a> <a id="15289" href="Bracketing.html#15265" class="Bound">o</a> <a id="15291" class="Symbol">(</a><a id="15292" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="15300" class="Symbol">(</a><a id="15301" href="Z.html#6608" class="Function">fromℕ</a> <a id="15307" href="Bracketing.html#15272" class="Bound">n</a><a id="15308" class="Symbol">)</a> <a id="15310" href="Bracketing.html#15265" class="Bound">o</a><a id="15311" class="Symbol">)</a> <a id="15313" class="Symbol">(</a><a id="15314" href="Bracketing.html#15155" class="Function">lem-odd</a> <a id="15322" href="Bracketing.html#15265" class="Bound">o</a> <a id="15324" href="Bracketing.html#15272" class="Bound">n</a> <a id="15326" class="Symbol">(</a><a id="15327" href="Nat.html#942" class="Function">odd-pred</a> <a id="15336" href="Bracketing.html#15275" class="Bound">p</a><a id="15337" class="Symbol">))</a>
  <a id="15342" href="Bracketing.html#15155" class="Function">lem-odd</a> <a id="15350" href="Bracketing.html#15350" class="Bound">o</a> <a id="15352" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a> <a id="15357" href="Bracketing.html#15357" class="Bound">p</a> <a id="15359" class="Symbol">=</a> <a id="15361" href="Cubical.Data.Empty.Base.html#269" class="Function">⊥.elim</a> <a id="15368" class="Symbol">(</a><a id="15369" href="Nat.html#900" class="Function">¬odd-zero</a> <a id="15379" href="Bracketing.html#15357" class="Bound">p</a><a id="15380" class="Symbol">)</a>
  <a id="15384" href="Bracketing.html#15155" class="Function">lem-odd</a> <a id="15392" href="Bracketing.html#15392" class="Bound">o</a> <a id="15394" class="Symbol">(</a><a id="15395" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15399" href="Bracketing.html#15399" class="Bound">n</a><a id="15400" class="Symbol">)</a> <a id="15402" href="Bracketing.html#15402" class="Bound">p</a> <a id="15404" class="Symbol">=</a> <a id="15406" href="Bracketing.html#14825" class="Function">odd-hw</a> <a id="15413" href="Bracketing.html#15399" class="Bound">n</a> <a id="15415" href="Bracketing.html#15392" class="Bound">o</a> <a id="15417" class="Symbol">(</a><a id="15418" href="ArrowsBase.html#2885" class="Function">iterate</a> <a id="15426" class="Symbol">(</a><a id="15427" href="Z.html#6608" class="Function">fromℕ</a> <a id="15433" href="Bracketing.html#15399" class="Bound">n</a><a id="15434" class="Symbol">)</a> <a id="15436" href="Bracketing.html#15392" class="Bound">o</a><a id="15437" class="Symbol">)</a> <a id="15439" class="Symbol">(</a><a id="15440" href="Bracketing.html#15084" class="Function">lem-even</a> <a id="15449" href="Bracketing.html#15392" class="Bound">o</a> <a id="15451" href="Bracketing.html#15399" class="Bound">n</a> <a id="15453" class="Symbol">(</a><a id="15454" href="Nat.html#1017" class="Function">even-pred</a> <a id="15464" href="Bracketing.html#15402" class="Bound">p</a><a id="15465" class="Symbol">))</a>

<a id="15469" class="Comment">-- match swaps the A/B component</a>
<a id="match-lr"></a><a id="15502" href="Bracketing.html#15502" class="Function">match-lr</a> <a id="15511" class="Symbol">:</a> <a id="15513" class="Symbol">{</a><a id="15514" href="Bracketing.html#15514" class="Bound">a</a> <a id="15516" class="Symbol">:</a> <a id="15518" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="15524" class="Symbol">}</a> <a id="15526" class="Symbol">(</a><a id="15527" href="Bracketing.html#15527" class="Bound">m</a> <a id="15529" class="Symbol">:</a> <a id="15531" href="Bracketing.html#5487" class="Function">matched</a> <a id="15539" href="Bracketing.html#15514" class="Bound">a</a><a id="15540" class="Symbol">)</a> <a id="15542" class="Symbol">→</a> <a id="15544" href="Misc.html#9390" class="Datatype">in-left</a> <a id="15552" href="Bracketing.html#15514" class="Bound">a</a> <a id="15554" class="Symbol">→</a> <a id="15556" href="Misc.html#9517" class="Datatype">in-right</a> <a id="15565" class="Symbol">(</a><a id="15566" href="Bracketing.html#6168" class="Function">match</a> <a id="15572" href="Bracketing.html#15527" class="Bound">m</a><a id="15573" class="Symbol">)</a>
<a id="15575" href="Bracketing.html#15502" class="Function">match-lr</a> <a id="15584" href="Bracketing.html#15584" class="Bound">m</a> <a id="15586" class="Symbol">(</a><a id="15587" href="Misc.html#9476" class="InductiveConstructor">is-inl</a> <a id="15594" href="Bracketing.html#15594" class="Bound">a</a><a id="15595" class="Symbol">)</a> <a id="15597" class="Symbol">=</a> <a id="15599" href="Arrows.html#5838" class="Function">iterate-A-odd</a> <a id="15613" class="Symbol">(</a><a id="15614" href="Misc.html#9476" class="InductiveConstructor">is-inl</a> <a id="15621" href="Bracketing.html#15594" class="Bound">a</a><a id="15622" class="Symbol">)</a> <a id="15624" class="Symbol">(</a><a id="15625" href="Z.html#10874" class="Function">is-oddℕ</a> <a id="15633" class="Symbol">(</a><a id="15634" href="Bracketing.html#14258" class="Function">matched-odd</a> <a id="15646" href="Bracketing.html#15584" class="Bound">m</a><a id="15647" class="Symbol">))</a>

<a id="match-rl"></a><a id="15651" href="Bracketing.html#15651" class="Function">match-rl</a> <a id="15660" class="Symbol">:</a> <a id="15662" class="Symbol">{</a><a id="15663" href="Bracketing.html#15663" class="Bound">a</a> <a id="15665" class="Symbol">:</a> <a id="15667" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="15673" class="Symbol">}</a> <a id="15675" class="Symbol">(</a><a id="15676" href="Bracketing.html#15676" class="Bound">m</a> <a id="15678" class="Symbol">:</a> <a id="15680" href="Bracketing.html#5487" class="Function">matched</a> <a id="15688" href="Bracketing.html#15663" class="Bound">a</a><a id="15689" class="Symbol">)</a> <a id="15691" class="Symbol">→</a> <a id="15693" href="Misc.html#9517" class="Datatype">in-right</a> <a id="15702" href="Bracketing.html#15663" class="Bound">a</a> <a id="15704" class="Symbol">→</a> <a id="15706" href="Misc.html#9390" class="Datatype">in-left</a> <a id="15714" class="Symbol">(</a><a id="15715" href="Bracketing.html#6168" class="Function">match</a> <a id="15721" href="Bracketing.html#15676" class="Bound">m</a><a id="15722" class="Symbol">)</a>
<a id="15724" href="Bracketing.html#15651" class="Function">match-rl</a> <a id="15733" href="Bracketing.html#15733" class="Bound">m</a> <a id="15735" class="Symbol">(</a><a id="15736" href="Misc.html#9604" class="InductiveConstructor">is-inr</a> <a id="15743" href="Bracketing.html#15743" class="Bound">b</a><a id="15744" class="Symbol">)</a> <a id="15746" class="Symbol">=</a> <a id="15748" href="Arrows.html#6056" class="Function">iterate-B-odd</a> <a id="15762" class="Symbol">(</a><a id="15763" href="Misc.html#9604" class="InductiveConstructor">is-inr</a> <a id="15770" href="Bracketing.html#15743" class="Bound">b</a><a id="15771" class="Symbol">)</a> <a id="15773" class="Symbol">(</a><a id="15774" href="Z.html#10874" class="Function">is-oddℕ</a> <a id="15782" class="Symbol">(</a><a id="15783" href="Bracketing.html#14258" class="Function">matched-odd</a> <a id="15795" href="Bracketing.html#15733" class="Bound">m</a><a id="15796" class="Symbol">))</a>

<a id="wb-reachable-arr-matched"></a><a id="15800" href="Bracketing.html#15800" class="Function">wb-reachable-arr-matched</a> <a id="15825" class="Symbol">:</a> <a id="15827" class="Symbol">{</a><a id="15828" href="Bracketing.html#15828" class="Bound">a</a> <a id="15830" href="Bracketing.html#15830" class="Bound">b</a> <a id="15832" class="Symbol">:</a> <a id="15834" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="15840" class="Symbol">}</a> <a id="15842" class="Symbol">→</a> <a id="15844" href="Bracketing.html#12823" class="Function">well-bracketed</a> <a id="15859" href="Bracketing.html#15828" class="Bound">a</a> <a id="15861" class="Symbol">→</a> <a id="15863" href="Arrows.html#10003" class="Function">is-reachable-arr</a> <a id="15880" href="Bracketing.html#15828" class="Bound">a</a> <a id="15882" href="Bracketing.html#15830" class="Bound">b</a> <a id="15884" class="Symbol">→</a> <a id="15886" href="Bracketing.html#5487" class="Function">matched</a> <a id="15894" href="Bracketing.html#15830" class="Bound">b</a>
<a id="15896" href="Bracketing.html#15800" class="Function">wb-reachable-arr-matched</a> <a id="15921" href="Bracketing.html#15921" class="Bound">wb</a> <a id="15924" href="Bracketing.html#15924" class="Bound">r</a> <a id="15926" class="Symbol">=</a> <a id="15928" href="Cubical.HITs.PropositionalTruncation.Properties.html#3342" class="Function">∥∥.elim</a> <a id="15936" class="Symbol">(λ</a> <a id="15939" href="Bracketing.html#15939" class="Bound">_</a> <a id="15941" class="Symbol">→</a> <a id="15943" href="Bracketing.html#5544" class="Function">matched-isProp</a> <a id="15958" class="Symbol">_)</a> <a id="15961" class="Symbol">(λ</a> <a id="15964" href="Bracketing.html#15964" class="Bound">r</a> <a id="15966" class="Symbol">→</a> <a id="15968" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="15974" href="Bracketing.html#5487" class="Function">matched</a> <a id="15982" class="Symbol">(</a><a id="15983" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="15987" href="Bracketing.html#15964" class="Bound">r</a><a id="15988" class="Symbol">)</a> <a id="15990" class="Symbol">(</a><a id="15991" href="Bracketing.html#15921" class="Bound">wb</a> <a id="15994" class="Symbol">(</a><a id="15995" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="15999" href="Bracketing.html#15964" class="Bound">r</a><a id="16000" class="Symbol">)))</a> <a id="16004" href="Bracketing.html#15924" class="Bound">r</a>

<a id="matching-equiv"></a><a id="16007" href="Bracketing.html#16007" class="Function">matching-equiv</a> <a id="16022" class="Symbol">:</a> <a id="16024" class="Symbol">{</a><a id="16025" href="Bracketing.html#16025" class="Bound">c</a> <a id="16027" class="Symbol">:</a> <a id="16029" href="Arrows.html#22343" class="Function">Chains</a><a id="16035" class="Symbol">}</a> <a id="16037" class="Symbol">→</a> <a id="16039" href="Bracketing.html#13897" class="Function">well-bracketed-chain</a> <a id="16060" href="Bracketing.html#16025" class="Bound">c</a> <a id="16062" class="Symbol">→</a> <a id="16064" href="Arrows.html#28388" class="Function">chain-A≃B</a> <a id="16074" href="Bracketing.html#16025" class="Bound">c</a>
<a id="16076" href="Bracketing.html#16007" class="Function">matching-equiv</a> <a id="16091" class="Symbol">{</a><a id="16092" href="Bracketing.html#16092" class="Bound">c</a><a id="16093" class="Symbol">}</a> <a id="16095" class="Symbol">=</a> <a id="16097" href="Cubical.HITs.SetQuotients.Properties.html#2695" class="Function">[].elim</a>
  <a id="16107" class="Symbol">{</a><a id="16108" class="Argument">P</a> <a id="16110" class="Symbol">=</a> <a id="16112" class="Symbol">λ</a> <a id="16114" href="Bracketing.html#16114" class="Bound">c</a> <a id="16116" class="Symbol">→</a> <a id="16118" href="Bracketing.html#13897" class="Function">well-bracketed-chain</a> <a id="16139" href="Bracketing.html#16114" class="Bound">c</a> <a id="16141" class="Symbol">→</a> <a id="16143" href="Arrows.html#28388" class="Function">chain-A≃B</a> <a id="16153" href="Bracketing.html#16114" class="Bound">c</a><a id="16154" class="Symbol">}</a>
  <a id="16158" class="Symbol">(λ</a> <a id="16161" href="Bracketing.html#16161" class="Bound">o</a> <a id="16163" class="Symbol">→</a> <a id="16165" href="Cubical.Foundations.HLevels.html#17906" class="Function">isSetΠ</a> <a id="16172" class="Symbol">(λ</a> <a id="16175" href="Bracketing.html#16175" class="Bound">_</a> <a id="16177" class="Symbol">→</a> <a id="16179" href="Arrows.html#28451" class="Function">chain-A≃B-isSet</a> <a id="16195" class="Symbol">_))</a>
  <a id="16201" href="Bracketing.html#17655" class="Function">e</a>
  <a id="16205" class="Symbol">(λ</a> <a id="16208" href="Bracketing.html#16208" class="Bound">a</a> <a id="16210" href="Bracketing.html#16210" class="Bound">b</a> <a id="16212" href="Bracketing.html#16212" class="Bound">r</a> <a id="16214" class="Symbol">→</a> <a id="16216" href="Bracketing.html#17750" class="Function">e-indep</a> <a id="16224" href="Bracketing.html#16212" class="Bound">r</a><a id="16225" class="Symbol">)</a>
  <a id="16229" href="Bracketing.html#16092" class="Bound">c</a>
  <a id="16233" class="Keyword">where</a>
  <a id="16241" href="Bracketing.html#16241" class="Function">i</a> <a id="16243" class="Symbol">:</a> <a id="16245" class="Symbol">{</a><a id="16246" href="Bracketing.html#16246" class="Bound">a</a> <a id="16248" class="Symbol">:</a> <a id="16250" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="16256" class="Symbol">}</a> <a id="16258" class="Symbol">→</a> <a id="16260" href="Bracketing.html#12823" class="Function">well-bracketed</a> <a id="16275" href="Bracketing.html#16246" class="Bound">a</a> <a id="16277" class="Symbol">→</a> <a id="16279" href="Cubical.Foundations.Isomorphism.html#773" class="Record">Iso</a> <a id="16283" class="Symbol">(</a><a id="16284" href="Arrows.html#27893" class="Function">chainA</a> <a id="16291" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">[</a> <a id="16293" href="Bracketing.html#16246" class="Bound">a</a> <a id="16295" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">]</a><a id="16296" class="Symbol">)</a> <a id="16298" class="Symbol">(</a><a id="16299" href="Arrows.html#27991" class="Function">chainB</a> <a id="16306" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">[</a> <a id="16308" href="Bracketing.html#16246" class="Bound">a</a> <a id="16310" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">]</a><a id="16311" class="Symbol">)</a>
  <a id="16315" href="Cubical.Foundations.Isomorphism.html#885" class="Field">Iso.fun</a> <a id="16323" class="Symbol">(</a><a id="16324" href="Bracketing.html#16241" class="Function">i</a> <a id="16326" href="Bracketing.html#16326" class="Bound">wb</a><a id="16328" class="Symbol">)</a> <a id="16330" class="Symbol">(</a><a id="16331" href="Bracketing.html#16331" class="Bound">b</a> <a id="16333" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16335" href="Bracketing.html#16335" class="Bound">l</a><a id="16336" class="Symbol">)</a> <a id="16338" class="Symbol">=</a> <a id="16340" class="Symbol">(</a><a id="16341" href="Bracketing.html#6168" class="Function">match</a> <a id="16347" href="Bracketing.html#16430" class="Function">m</a> <a id="16349" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16351" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="16355" class="Symbol">(</a><a id="16356" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="16360" class="Symbol">_</a> <a id="16362" class="Symbol">_</a> <a id="16364" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣</a> <a id="16366" href="Bracketing.html#6280" class="Function">match-reachable-arr</a> <a id="16386" href="Bracketing.html#16430" class="Function">m</a> <a id="16388" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣₁</a><a id="16390" class="Symbol">)</a> <a id="16392" href="Cubical.Foundations.Prelude.html#4447" class="Function Operator">∙</a> <a id="16394" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="16398" href="Bracketing.html#16331" class="Bound">b</a><a id="16399" class="Symbol">)</a> <a id="16401" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16403" href="Bracketing.html#15502" class="Function">match-lr</a> <a id="16412" href="Bracketing.html#16430" class="Function">m</a> <a id="16414" href="Bracketing.html#16335" class="Bound">l</a>
    <a id="16420" class="Keyword">where</a>
    <a id="16430" href="Bracketing.html#16430" class="Function">m</a> <a id="16432" class="Symbol">:</a> <a id="16434" href="Bracketing.html#5487" class="Function">matched</a> <a id="16442" class="Symbol">(</a><a id="16443" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="16447" href="Bracketing.html#16331" class="Bound">b</a><a id="16448" class="Symbol">)</a>
    <a id="16454" href="Bracketing.html#16430" class="Function">m</a> <a id="16456" class="Symbol">=</a> <a id="16458" href="Bracketing.html#15800" class="Function">wb-reachable-arr-matched</a> <a id="16483" href="Bracketing.html#16326" class="Bound">wb</a> <a id="16486" class="Symbol">(</a><a id="16487" href="Arrows.html#23136" class="Function">element-is-reachable-arr</a> <a id="16512" href="Bracketing.html#16331" class="Bound">b</a><a id="16513" class="Symbol">)</a>
  <a id="16517" href="Cubical.Foundations.Isomorphism.html#901" class="Field">Iso.inv</a> <a id="16525" class="Symbol">(</a><a id="16526" href="Bracketing.html#16241" class="Function">i</a> <a id="16528" href="Bracketing.html#16528" class="Bound">wb</a><a id="16530" class="Symbol">)</a> <a id="16532" class="Symbol">(</a><a id="16533" href="Bracketing.html#16533" class="Bound">b</a> <a id="16535" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16537" href="Bracketing.html#16537" class="Bound">r</a><a id="16538" class="Symbol">)</a> <a id="16540" class="Symbol">=</a> <a id="16542" class="Symbol">(</a><a id="16543" href="Bracketing.html#6168" class="Function">match</a> <a id="16549" href="Bracketing.html#16632" class="Function">m</a> <a id="16551" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16553" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="16557" class="Symbol">(</a><a id="16558" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="16562" class="Symbol">_</a> <a id="16564" class="Symbol">_</a> <a id="16566" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣</a> <a id="16568" href="Bracketing.html#6280" class="Function">match-reachable-arr</a> <a id="16588" href="Bracketing.html#16632" class="Function">m</a> <a id="16590" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣₁</a><a id="16592" class="Symbol">)</a> <a id="16594" href="Cubical.Foundations.Prelude.html#4447" class="Function Operator">∙</a> <a id="16596" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="16600" href="Bracketing.html#16533" class="Bound">b</a><a id="16601" class="Symbol">)</a> <a id="16603" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16605" href="Bracketing.html#15651" class="Function">match-rl</a> <a id="16614" href="Bracketing.html#16632" class="Function">m</a> <a id="16616" href="Bracketing.html#16537" class="Bound">r</a>
    <a id="16622" class="Keyword">where</a>
    <a id="16632" href="Bracketing.html#16632" class="Function">m</a> <a id="16634" class="Symbol">=</a> <a id="16636" href="Bracketing.html#15800" class="Function">wb-reachable-arr-matched</a> <a id="16661" href="Bracketing.html#16528" class="Bound">wb</a> <a id="16664" class="Symbol">(</a><a id="16665" href="Arrows.html#23136" class="Function">element-is-reachable-arr</a> <a id="16690" href="Bracketing.html#16533" class="Bound">b</a><a id="16691" class="Symbol">)</a>
  <a id="16695" href="Cubical.Foundations.Isomorphism.html#917" class="Field">Iso.rightInv</a> <a id="16708" class="Symbol">(</a><a id="16709" href="Bracketing.html#16241" class="Function">i</a> <a id="16711" href="Bracketing.html#16711" class="Bound">wb</a><a id="16713" class="Symbol">)</a> <a id="16715" class="Symbol">(</a><a id="16716" href="Bracketing.html#16716" class="Bound">b</a> <a id="16718" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16720" href="Bracketing.html#16720" class="Bound">r</a><a id="16721" class="Symbol">)</a> <a id="16723" class="Symbol">=</a> <a id="16725" href="Cubical.Data.Sigma.Properties.html#13039" class="Function">Σ≡Prop</a> <a id="16732" class="Symbol">(λ</a> <a id="16735" href="Bracketing.html#16735" class="Bound">_</a> <a id="16737" class="Symbol">→</a> <a id="16739" href="Misc.html#9746" class="Function">in-right-isProp</a> <a id="16755" class="Symbol">_)</a> <a id="16758" class="Symbol">(</a><a id="16759" href="Cubical.Data.Sigma.Properties.html#13039" class="Function">Σ≡Prop</a> <a id="16766" class="Symbol">(λ</a> <a id="16769" href="Bracketing.html#16769" class="Bound">_</a> <a id="16771" class="Symbol">→</a> <a id="16773" href="Arrows.html#22395" class="Function">Chains-isSet</a> <a id="16786" class="Symbol">_</a> <a id="16788" class="Symbol">_)</a> <a id="16791" href="Bracketing.html#16911" class="Function">lem</a><a id="16794" class="Symbol">)</a>
    <a id="16800" class="Keyword">where</a>
    <a id="16810" href="Bracketing.html#16810" class="Function">m</a> <a id="16812" class="Symbol">=</a> <a id="16814" href="Bracketing.html#15800" class="Function">wb-reachable-arr-matched</a> <a id="16839" href="Bracketing.html#16711" class="Bound">wb</a> <a id="16842" class="Symbol">(</a><a id="16843" href="Arrows.html#23136" class="Function">element-is-reachable-arr</a> <a id="16868" href="Bracketing.html#16716" class="Bound">b</a><a id="16869" class="Symbol">)</a>
    <a id="16875" class="Comment">-- this is essentially match² m</a>
    <a id="16911" href="Bracketing.html#16911" class="Function">lem</a> <a id="16915" class="Symbol">=</a>
      <a id="16923" href="Bracketing.html#6168" class="Function">match</a> <a id="16929" class="Symbol">(</a><a id="16930" href="Bracketing.html#15800" class="Function">wb-reachable-arr-matched</a> <a id="16955" href="Bracketing.html#16711" class="Bound">wb</a> <a id="16958" class="Symbol">(</a><a id="16959" href="Arrows.html#23136" class="Function">element-is-reachable-arr</a> <a id="16984" class="Symbol">(</a><a id="16985" href="Bracketing.html#6168" class="Function">match</a> <a id="16991" href="Bracketing.html#16810" class="Function">m</a> <a id="16993" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16995" class="Symbol">(</a><a id="16996" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="17000" class="Symbol">(</a><a id="17001" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="17005" class="Symbol">_</a> <a id="17007" class="Symbol">_</a> <a id="17009" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣</a> <a id="17011" href="Bracketing.html#6280" class="Function">match-reachable-arr</a> <a id="17031" href="Bracketing.html#16810" class="Function">m</a> <a id="17033" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣₁</a><a id="17035" class="Symbol">)</a> <a id="17037" href="Cubical.Foundations.Prelude.html#4447" class="Function Operator">∙</a> <a id="17039" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="17043" href="Bracketing.html#16716" class="Bound">b</a><a id="17044" class="Symbol">))))</a> <a id="17049" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="17052" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="17057" href="Bracketing.html#6168" class="Function">match</a> <a id="17063" class="Symbol">(</a><a id="17064" href="Bracketing.html#5544" class="Function">matched-isProp</a> <a id="17079" class="Symbol">(</a><a id="17080" href="Bracketing.html#6168" class="Function">match</a> <a id="17086" href="Bracketing.html#16810" class="Function">m</a><a id="17087" class="Symbol">)</a> <a id="17089" class="Symbol">(</a><a id="17090" href="Bracketing.html#15800" class="Function">wb-reachable-arr-matched</a> <a id="17115" href="Bracketing.html#16711" class="Bound">wb</a> <a id="17118" class="Symbol">(</a><a id="17119" href="Arrows.html#23136" class="Function">element-is-reachable-arr</a> <a id="17144" class="Symbol">(</a><a id="17145" href="Bracketing.html#6168" class="Function">match</a> <a id="17151" href="Bracketing.html#16810" class="Function">m</a> <a id="17153" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17155" class="Symbol">(</a><a id="17156" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="17160" class="Symbol">(</a><a id="17161" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="17165" class="Symbol">_</a> <a id="17167" class="Symbol">_</a> <a id="17169" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣</a> <a id="17171" href="Bracketing.html#6280" class="Function">match-reachable-arr</a> <a id="17191" href="Bracketing.html#16810" class="Function">m</a> <a id="17193" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣₁</a><a id="17195" class="Symbol">)</a> <a id="17197" href="Cubical.Foundations.Prelude.html#4447" class="Function Operator">∙</a> <a id="17199" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="17203" href="Bracketing.html#16716" class="Bound">b</a><a id="17204" class="Symbol">))))</a> <a id="17209" class="Symbol">(</a><a id="17210" href="Bracketing.html#7826" class="Function">matched-sym</a> <a id="17222" href="Bracketing.html#16810" class="Function">m</a><a id="17223" class="Symbol">))</a> <a id="17226" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="17234" href="Bracketing.html#6168" class="Function">match</a> <a id="17240" class="Symbol">(</a><a id="17241" href="Bracketing.html#7826" class="Function">matched-sym</a> <a id="17253" href="Bracketing.html#16810" class="Function">m</a><a id="17254" class="Symbol">)</a> <a id="17256" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="17259" href="Bracketing.html#8724" class="Function">match²</a> <a id="17266" href="Bracketing.html#16810" class="Function">m</a> <a id="17268" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="17276" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="17280" href="Bracketing.html#16716" class="Bound">b</a> <a id="17282" href="Cubical.Foundations.Prelude.html#8499" class="Function Operator">∎</a>
  <a id="17286" href="Cubical.Foundations.Isomorphism.html#948" class="Field">Iso.leftInv</a> <a id="17298" class="Symbol">(</a><a id="17299" href="Bracketing.html#16241" class="Function">i</a> <a id="17301" href="Bracketing.html#17301" class="Bound">wb</a><a id="17303" class="Symbol">)</a> <a id="17305" class="Symbol">(</a><a id="17306" href="Bracketing.html#17306" class="Bound">b</a> <a id="17308" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17310" href="Bracketing.html#17310" class="Bound">l</a><a id="17311" class="Symbol">)</a> <a id="17313" class="Symbol">=</a> <a id="17315" href="Cubical.Data.Sigma.Properties.html#13039" class="Function">Σ≡Prop</a> <a id="17322" class="Symbol">(λ</a> <a id="17325" href="Bracketing.html#17325" class="Bound">_</a> <a id="17327" class="Symbol">→</a> <a id="17329" href="Misc.html#9641" class="Function">in-left-isProp</a> <a id="17344" class="Symbol">_)</a> <a id="17347" class="Symbol">(</a><a id="17348" href="Cubical.Data.Sigma.Properties.html#13039" class="Function">Σ≡Prop</a> <a id="17355" class="Symbol">(λ</a> <a id="17358" href="Bracketing.html#17358" class="Bound">_</a> <a id="17360" class="Symbol">→</a> <a id="17362" href="Arrows.html#22395" class="Function">Chains-isSet</a> <a id="17375" class="Symbol">_</a> <a id="17377" class="Symbol">_)</a> <a id="17380" href="Bracketing.html#17464" class="Function">lem</a><a id="17383" class="Symbol">)</a>
    <a id="17389" class="Keyword">where</a>
    <a id="17399" href="Bracketing.html#17399" class="Function">m</a> <a id="17401" class="Symbol">=</a> <a id="17403" href="Bracketing.html#15800" class="Function">wb-reachable-arr-matched</a> <a id="17428" href="Bracketing.html#17301" class="Bound">wb</a> <a id="17431" class="Symbol">(</a><a id="17432" href="Arrows.html#23136" class="Function">element-is-reachable-arr</a> <a id="17457" href="Bracketing.html#17306" class="Bound">b</a><a id="17458" class="Symbol">)</a>
    <a id="17464" href="Bracketing.html#17464" class="Function">lem</a> <a id="17468" class="Symbol">=</a> <a id="17470" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="17475" href="Bracketing.html#6168" class="Function">match</a> <a id="17481" class="Symbol">(</a><a id="17482" href="Bracketing.html#5544" class="Function">matched-isProp</a> <a id="17497" class="Symbol">(</a><a id="17498" href="Bracketing.html#6168" class="Function">match</a> <a id="17504" href="Bracketing.html#17399" class="Function">m</a><a id="17505" class="Symbol">)</a> <a id="17507" class="Symbol">(</a><a id="17508" href="Bracketing.html#15800" class="Function">wb-reachable-arr-matched</a> <a id="17533" href="Bracketing.html#17301" class="Bound">wb</a> <a id="17536" class="Symbol">(</a><a id="17537" href="Arrows.html#23136" class="Function">element-is-reachable-arr</a> <a id="17562" class="Symbol">(</a><a id="17563" href="Bracketing.html#6168" class="Function">match</a> <a id="17569" href="Bracketing.html#17399" class="Function">m</a> <a id="17571" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17573" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="17577" class="Symbol">(</a><a id="17578" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="17582" class="Symbol">_</a> <a id="17584" class="Symbol">_</a> <a id="17586" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣</a> <a id="17588" href="Bracketing.html#6280" class="Function">match-reachable-arr</a> <a id="17608" href="Bracketing.html#17399" class="Function">m</a> <a id="17610" href="Cubical.HITs.PropositionalTruncation.Base.html#288" class="InductiveConstructor Operator">∣₁</a><a id="17612" class="Symbol">)</a> <a id="17614" href="Cubical.Foundations.Prelude.html#4447" class="Function Operator">∙</a> <a id="17616" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="17620" href="Bracketing.html#17306" class="Bound">b</a><a id="17621" class="Symbol">)))</a> <a id="17625" class="Symbol">(</a><a id="17626" href="Bracketing.html#7826" class="Function">matched-sym</a> <a id="17638" href="Bracketing.html#17399" class="Function">m</a><a id="17639" class="Symbol">))</a> <a id="17642" href="Cubical.Foundations.Prelude.html#4447" class="Function Operator">∙</a> <a id="17644" href="Bracketing.html#8724" class="Function">match²</a> <a id="17651" href="Bracketing.html#17399" class="Function">m</a>
  <a id="17655" href="Bracketing.html#17655" class="Function">e</a> <a id="17657" class="Symbol">:</a> <a id="17659" class="Symbol">(</a><a id="17660" href="Bracketing.html#17660" class="Bound">a</a> <a id="17662" class="Symbol">:</a> <a id="17664" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="17670" class="Symbol">)</a> <a id="17672" class="Symbol">→</a> <a id="17674" href="Bracketing.html#13897" class="Function">well-bracketed-chain</a> <a id="17695" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">[</a> <a id="17697" href="Bracketing.html#17660" class="Bound">a</a> <a id="17699" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">]</a> <a id="17701" class="Symbol">→</a> <a id="17703" href="Arrows.html#28388" class="Function">chain-A≃B</a> <a id="17713" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">[</a> <a id="17715" href="Bracketing.html#17660" class="Bound">a</a> <a id="17717" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">]</a>
  <a id="17721" href="Bracketing.html#17655" class="Function">e</a> <a id="17723" href="Bracketing.html#17723" class="Bound">a</a> <a id="17725" href="Bracketing.html#17725" class="Bound">wb</a> <a id="17728" class="Symbol">=</a> <a id="17730" href="Cubical.Foundations.Isomorphism.html#3127" class="Function">isoToEquiv</a> <a id="17741" class="Symbol">(</a><a id="17742" href="Bracketing.html#16241" class="Function">i</a> <a id="17744" href="Bracketing.html#17725" class="Bound">wb</a><a id="17746" class="Symbol">)</a>
  <a id="17750" href="Bracketing.html#17750" class="Function">e-indep</a> <a id="17758" class="Symbol">:</a> <a id="17760" class="Symbol">{</a><a id="17761" href="Bracketing.html#17761" class="Bound">a</a> <a id="17763" href="Bracketing.html#17763" class="Bound">b</a> <a id="17765" class="Symbol">:</a> <a id="17767" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="17773" class="Symbol">}</a> <a id="17775" class="Symbol">(</a><a id="17776" href="Bracketing.html#17776" class="Bound">r</a> <a id="17778" class="Symbol">:</a> <a id="17780" href="Arrows.html#10003" class="Function">is-reachable-arr</a> <a id="17797" href="Bracketing.html#17761" class="Bound">a</a> <a id="17799" href="Bracketing.html#17763" class="Bound">b</a><a id="17800" class="Symbol">)</a> <a id="17802" class="Symbol">→</a> <a id="17804" href="Agda.Builtin.Cubical.Path.html#197" class="Postulate">PathP</a> <a id="17810" class="Symbol">(λ</a> <a id="17813" href="Bracketing.html#17813" class="Bound">i</a> <a id="17815" class="Symbol">→</a> <a id="17817" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="17822" class="Symbol">(λ</a> <a id="17825" href="Bracketing.html#17825" class="Bound">c</a> <a id="17827" class="Symbol">→</a> <a id="17829" href="Bracketing.html#13897" class="Function">well-bracketed-chain</a> <a id="17850" href="Bracketing.html#17825" class="Bound">c</a> <a id="17852" class="Symbol">→</a> <a id="17854" href="Arrows.html#28388" class="Function">chain-A≃B</a> <a id="17864" href="Bracketing.html#17825" class="Bound">c</a><a id="17865" class="Symbol">)</a> <a id="17867" class="Symbol">(</a><a id="17868" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="17872" href="Bracketing.html#17761" class="Bound">a</a> <a id="17874" href="Bracketing.html#17763" class="Bound">b</a> <a id="17876" href="Bracketing.html#17776" class="Bound">r</a><a id="17877" class="Symbol">)</a> <a id="17879" href="Bracketing.html#17813" class="Bound">i</a><a id="17880" class="Symbol">)</a> <a id="17882" class="Symbol">(</a><a id="17883" href="Bracketing.html#17655" class="Function">e</a> <a id="17885" href="Bracketing.html#17761" class="Bound">a</a><a id="17886" class="Symbol">)</a> <a id="17888" class="Symbol">(</a><a id="17889" href="Bracketing.html#17655" class="Function">e</a> <a id="17891" href="Bracketing.html#17763" class="Bound">b</a><a id="17892" class="Symbol">)</a>
  <a id="17896" href="Bracketing.html#17750" class="Function">e-indep</a> <a id="17904" class="Symbol">{</a><a id="17905" href="Bracketing.html#17905" class="Bound">a</a><a id="17906" class="Symbol">}</a> <a id="17908" class="Symbol">{</a><a id="17909" href="Bracketing.html#17909" class="Bound">b</a><a id="17910" class="Symbol">}</a> <a id="17912" href="Bracketing.html#17912" class="Bound">r</a> <a id="17914" class="Symbol">=</a> <a id="17916" href="Cubical.Foundations.Prelude.html#12717" class="Function">toPathP</a> <a id="17924" class="Symbol">(</a><a id="17925" href="Cubical.Foundations.Prelude.html#9899" class="Function">funExt</a> <a id="17932" class="Symbol">(λ</a> <a id="17935" href="Bracketing.html#17935" class="Bound">wb</a> <a id="17938" class="Symbol">→</a> <a id="17940" href="Cubical.Foundations.Equiv.html#1981" class="Function">equivEq</a> <a id="17948" class="Symbol">(</a><a id="17949" href="Cubical.Foundations.Prelude.html#9899" class="Function">funExt</a> <a id="17956" class="Symbol">λ</a> <a id="17958" class="Symbol">{</a> <a id="17960" class="Symbol">(</a><a id="17961" href="Bracketing.html#17961" class="Bound">x</a> <a id="17963" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17965" href="Bracketing.html#17965" class="Bound">l</a><a id="17966" class="Symbol">)</a> <a id="17968" class="Symbol">→</a> <a id="17970" href="Cubical.Data.Sigma.Properties.html#13039" class="Function">Σ≡Prop</a> <a id="17977" class="Symbol">(λ</a> <a id="17980" href="Bracketing.html#17980" class="Bound">_</a> <a id="17982" class="Symbol">→</a> <a id="17984" href="Misc.html#9746" class="Function">in-right-isProp</a> <a id="18000" class="Symbol">_)</a> <a id="18003" class="Symbol">(</a><a id="18004" href="Cubical.Data.Sigma.Properties.html#13039" class="Function">Σ≡Prop</a> <a id="18011" class="Symbol">(λ</a> <a id="18014" href="Bracketing.html#18014" class="Bound">_</a> <a id="18016" class="Symbol">→</a> <a id="18018" href="Arrows.html#22395" class="Function">Chains-isSet</a> <a id="18031" class="Symbol">_</a> <a id="18033" class="Symbol">_)</a> <a id="18036" class="Symbol">(</a><a id="18037" href="Bracketing.html#18524" class="Function">lem</a> <a id="18041" href="Bracketing.html#17912" class="Bound">r</a> <a id="18043" href="Bracketing.html#17935" class="Bound">wb</a> <a id="18046" href="Bracketing.html#17961" class="Bound">x</a> <a id="18048" href="Bracketing.html#17965" class="Bound">l</a><a id="18049" class="Symbol">))</a> <a id="18052" class="Symbol">})))</a>
    <a id="18061" class="Keyword">where</a>
    <a id="18071" class="Comment">-- matching is independent of starting point</a>
    <a id="18120" href="Bracketing.html#18120" class="Function">match-indep</a> <a id="18132" class="Symbol">:</a> <a id="18134" class="Symbol">{</a><a id="18135" href="Bracketing.html#18135" class="Bound">a</a> <a id="18137" href="Bracketing.html#18137" class="Bound">b</a> <a id="18139" href="Bracketing.html#18139" class="Bound">c</a> <a id="18141" class="Symbol">:</a> <a id="18143" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="18149" class="Symbol">}</a> <a id="18151" class="Symbol">(</a><a id="18152" href="Bracketing.html#18152" class="Bound">r</a> <a id="18154" class="Symbol">:</a> <a id="18156" href="Arrows.html#10003" class="Function">is-reachable-arr</a> <a id="18173" href="Bracketing.html#18135" class="Bound">a</a> <a id="18175" href="Bracketing.html#18137" class="Bound">b</a><a id="18176" class="Symbol">)</a> <a id="18178" class="Symbol">(</a><a id="18179" href="Bracketing.html#18179" class="Bound">wb&#39;</a> <a id="18183" class="Symbol">:</a> <a id="18185" href="Bracketing.html#12823" class="Function">well-bracketed</a> <a id="18200" href="Bracketing.html#18135" class="Bound">a</a><a id="18201" class="Symbol">)</a> <a id="18203" class="Symbol">(</a><a id="18204" href="Bracketing.html#18204" class="Bound">r&#39;</a> <a id="18207" class="Symbol">:</a> <a id="18209" href="Arrows.html#10003" class="Function">is-reachable-arr</a> <a id="18226" href="Bracketing.html#18135" class="Bound">a</a> <a id="18228" href="Bracketing.html#18139" class="Bound">c</a><a id="18229" class="Symbol">)</a> <a id="18231" class="Symbol">(</a><a id="18232" href="Bracketing.html#18232" class="Bound">wb&#39;&#39;</a> <a id="18237" class="Symbol">:</a> <a id="18239" href="Bracketing.html#12823" class="Function">well-bracketed</a> <a id="18254" href="Bracketing.html#18137" class="Bound">b</a><a id="18255" class="Symbol">)</a> <a id="18257" class="Symbol">(</a><a id="18258" href="Bracketing.html#18258" class="Bound">r&#39;&#39;</a> <a id="18262" class="Symbol">:</a> <a id="18264" href="Arrows.html#10003" class="Function">is-reachable-arr</a> <a id="18281" href="Bracketing.html#18137" class="Bound">b</a> <a id="18283" href="Bracketing.html#18139" class="Bound">c</a><a id="18284" class="Symbol">)</a> <a id="18286" class="Symbol">→</a> <a id="18288" href="Bracketing.html#6168" class="Function">match</a> <a id="18294" class="Symbol">(</a><a id="18295" href="Bracketing.html#15800" class="Function">wb-reachable-arr-matched</a> <a id="18320" href="Bracketing.html#18179" class="Bound">wb&#39;</a> <a id="18324" href="Bracketing.html#18204" class="Bound">r&#39;</a><a id="18326" class="Symbol">)</a> <a id="18328" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="18330" href="Bracketing.html#6168" class="Function">match</a> <a id="18336" class="Symbol">(</a><a id="18337" href="Bracketing.html#15800" class="Function">wb-reachable-arr-matched</a> <a id="18362" href="Bracketing.html#18232" class="Bound">wb&#39;&#39;</a> <a id="18367" href="Bracketing.html#18258" class="Bound">r&#39;&#39;</a><a id="18370" class="Symbol">)</a>
    <a id="18376" href="Bracketing.html#18120" class="Function">match-indep</a> <a id="18388" class="Symbol">{</a><a id="18389" href="Bracketing.html#18389" class="Bound">a</a><a id="18390" class="Symbol">}</a> <a id="18392" class="Symbol">{</a><a id="18393" href="Bracketing.html#18393" class="Bound">b</a><a id="18394" class="Symbol">}</a> <a id="18396" class="Symbol">{</a><a id="18397" href="Bracketing.html#18397" class="Bound">c</a><a id="18398" class="Symbol">}</a> <a id="18400" href="Bracketing.html#18400" class="Bound">r</a> <a id="18402" href="Bracketing.html#18402" class="Bound">wb&#39;</a> <a id="18406" href="Bracketing.html#18406" class="Bound">r&#39;</a> <a id="18409" href="Bracketing.html#18409" class="Bound">wb&#39;&#39;</a> <a id="18414" href="Bracketing.html#18414" class="Bound">r&#39;&#39;</a> <a id="18418" class="Symbol">=</a> <a id="18420" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="18425" href="Bracketing.html#6168" class="Function">match</a> <a id="18431" class="Symbol">(</a><a id="18432" href="Bracketing.html#5544" class="Function">matched-isProp</a> <a id="18447" href="Bracketing.html#18397" class="Bound">c</a> <a id="18449" class="Symbol">(</a><a id="18450" href="Bracketing.html#15800" class="Function">wb-reachable-arr-matched</a> <a id="18475" href="Bracketing.html#18402" class="Bound">wb&#39;</a> <a id="18479" href="Bracketing.html#18406" class="Bound">r&#39;</a><a id="18481" class="Symbol">)</a> <a id="18483" class="Symbol">(</a><a id="18484" href="Bracketing.html#15800" class="Function">wb-reachable-arr-matched</a> <a id="18509" href="Bracketing.html#18409" class="Bound">wb&#39;&#39;</a> <a id="18514" href="Bracketing.html#18414" class="Bound">r&#39;&#39;</a><a id="18517" class="Symbol">))</a>
    <a id="18524" href="Bracketing.html#18524" class="Function">lem</a> <a id="18528" class="Symbol">:</a> <a id="18530" class="Symbol">{</a><a id="18531" href="Bracketing.html#18531" class="Bound">a</a> <a id="18533" href="Bracketing.html#18533" class="Bound">b</a> <a id="18535" class="Symbol">:</a> <a id="18537" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="18543" class="Symbol">}</a> <a id="18545" class="Symbol">(</a><a id="18546" href="Bracketing.html#18546" class="Bound">r</a> <a id="18548" class="Symbol">:</a> <a id="18550" href="Arrows.html#10003" class="Function">is-reachable-arr</a> <a id="18567" href="Bracketing.html#18531" class="Bound">a</a> <a id="18569" href="Bracketing.html#18533" class="Bound">b</a><a id="18570" class="Symbol">)</a> <a id="18572" class="Symbol">(</a><a id="18573" href="Bracketing.html#18573" class="Bound">wb</a> <a id="18576" class="Symbol">:</a> <a id="18578" href="Bracketing.html#13897" class="Function">well-bracketed-chain</a> <a id="18599" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">[</a> <a id="18601" href="Bracketing.html#18533" class="Bound">b</a> <a id="18603" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">]</a><a id="18604" class="Symbol">)</a> <a id="18606" class="Symbol">(</a><a id="18607" href="Bracketing.html#18607" class="Bound">c</a> <a id="18609" class="Symbol">:</a> <a id="18611" href="Arrows.html#22470" class="Function">elements</a> <a id="18620" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">[</a> <a id="18622" href="Bracketing.html#18533" class="Bound">b</a> <a id="18624" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">]</a><a id="18625" class="Symbol">)</a> <a id="18627" class="Symbol">(</a><a id="18628" href="Bracketing.html#18628" class="Bound">l</a> <a id="18630" class="Symbol">:</a> <a id="18632" href="Misc.html#9390" class="Datatype">in-left</a> <a id="18640" class="Symbol">(</a><a id="18641" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18645" href="Bracketing.html#18607" class="Bound">c</a><a id="18646" class="Symbol">))</a> <a id="18649" class="Symbol">→</a>
          <a id="18661" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="18671" class="Symbol">(λ</a> <a id="18674" href="Bracketing.html#18674" class="Bound">_</a> <a id="18676" class="Symbol">→</a> <a id="18678" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="18684" class="Symbol">)</a> <a id="18686" class="Symbol">(</a><a id="18687" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18691" class="Symbol">(</a><a id="18692" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18696" class="Symbol">(</a><a id="18697" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18701" class="Symbol">(</a><a id="18702" href="Bracketing.html#17655" class="Function">e</a> <a id="18704" href="Bracketing.html#18531" class="Bound">a</a> <a id="18706" class="Symbol">(</a><a id="18707" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="18717" class="Symbol">(λ</a> <a id="18720" href="Bracketing.html#18720" class="Bound">j</a> <a id="18722" class="Symbol">→</a> <a id="18724" href="Bracketing.html#13897" class="Function">well-bracketed-chain</a> <a id="18745" class="Symbol">(</a><a id="18746" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="18750" href="Bracketing.html#18531" class="Bound">a</a> <a id="18752" href="Bracketing.html#18533" class="Bound">b</a> <a id="18754" href="Bracketing.html#18546" class="Bound">r</a> <a id="18756" class="Symbol">(</a><a id="18757" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="18759" href="Bracketing.html#18720" class="Bound">j</a><a id="18760" class="Symbol">)))</a> <a id="18764" href="Bracketing.html#18573" class="Bound">wb</a><a id="18766" class="Symbol">))</a> <a id="18769" class="Symbol">(</a><a id="18770" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="18780" class="Symbol">(λ</a> <a id="18783" href="Bracketing.html#18783" class="Bound">j</a> <a id="18785" class="Symbol">→</a> <a id="18787" href="Arrows.html#27893" class="Function">chainA</a> <a id="18794" class="Symbol">(</a><a id="18795" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="18799" href="Bracketing.html#18531" class="Bound">a</a> <a id="18801" href="Bracketing.html#18533" class="Bound">b</a> <a id="18803" href="Bracketing.html#18546" class="Bound">r</a> <a id="18805" class="Symbol">(</a><a id="18806" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="18808" href="Bracketing.html#18783" class="Bound">j</a><a id="18809" class="Symbol">)))</a> <a id="18813" class="Symbol">(</a><a id="18814" href="Bracketing.html#18607" class="Bound">c</a> <a id="18816" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18818" href="Bracketing.html#18628" class="Bound">l</a><a id="18819" class="Symbol">)))))</a>
          <a id="18835" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="18837" href="Bracketing.html#17655" class="Function">e</a> <a id="18839" href="Bracketing.html#18533" class="Bound">b</a> <a id="18841" href="Bracketing.html#18573" class="Bound">wb</a> <a id="18844" class="Symbol">.</a><a id="18845" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18849" class="Symbol">(</a><a id="18850" href="Bracketing.html#18607" class="Bound">c</a> <a id="18852" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18854" href="Bracketing.html#18628" class="Bound">l</a><a id="18855" class="Symbol">)</a> <a id="18857" class="Symbol">.</a><a id="18858" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18862" class="Symbol">.</a><a id="18863" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a>
    <a id="18871" href="Bracketing.html#18524" class="Function">lem</a> <a id="18875" class="Symbol">{</a><a id="18876" href="Bracketing.html#18876" class="Bound">a</a><a id="18877" class="Symbol">}</a> <a id="18879" class="Symbol">{</a><a id="18880" href="Bracketing.html#18880" class="Bound">b</a><a id="18881" class="Symbol">}</a> <a id="18883" href="Bracketing.html#18883" class="Bound">r</a> <a id="18885" href="Bracketing.html#18885" class="Bound">wb</a> <a id="18888" href="Bracketing.html#18888" class="Bound">c</a> <a id="18890" href="Bracketing.html#18890" class="Bound">l</a> <a id="18892" class="Symbol">=</a>
      <a id="18900" class="Keyword">let</a>
          <a id="18914" href="Bracketing.html#18914" class="Bound">wb&#39;</a> <a id="18918" class="Symbol">:</a> <a id="18920" href="Bracketing.html#12823" class="Function">well-bracketed</a> <a id="18935" href="Bracketing.html#18876" class="Bound">a</a>
          <a id="18947" href="Bracketing.html#18914" class="Bound">wb&#39;</a> <a id="18951" class="Symbol">=</a> <a id="18953" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="18963" class="Symbol">(λ</a> <a id="18966" href="Bracketing.html#18966" class="Bound">j</a> <a id="18968" class="Symbol">→</a> <a id="18970" href="Bracketing.html#13897" class="Function">well-bracketed-chain</a> <a id="18991" class="Symbol">(</a><a id="18992" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="18996" href="Bracketing.html#18876" class="Bound">a</a> <a id="18998" href="Bracketing.html#18880" class="Bound">b</a> <a id="19000" href="Bracketing.html#18883" class="Bound">r</a> <a id="19002" class="Symbol">(</a><a id="19003" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="19005" href="Bracketing.html#18966" class="Bound">j</a><a id="19006" class="Symbol">)))</a> <a id="19010" href="Bracketing.html#18885" class="Bound">wb</a>
          <a id="19023" href="Bracketing.html#19023" class="Bound">r&#39;</a> <a id="19026" class="Symbol">:</a> <a id="19028" href="Arrows.html#10003" class="Function">is-reachable-arr</a> <a id="19045" href="Bracketing.html#18876" class="Bound">a</a> <a id="19047" class="Symbol">(</a><a id="19048" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19052" href="Bracketing.html#18888" class="Bound">c</a><a id="19053" class="Symbol">)</a>
          <a id="19065" href="Bracketing.html#19023" class="Bound">r&#39;</a> <a id="19068" class="Symbol">=</a> <a id="19070" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="19076" class="Symbol">(</a><a id="19077" href="Arrows.html#10003" class="Function">is-reachable-arr</a> <a id="19094" href="Bracketing.html#18876" class="Bound">a</a><a id="19095" class="Symbol">)</a> <a id="19097" class="Symbol">(</a><a id="19098" href="Cubical.Foundations.Prelude.html#8818" class="Function">transportRefl</a> <a id="19112" class="Symbol">(</a><a id="19113" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19117" href="Bracketing.html#18888" class="Bound">c</a><a id="19118" class="Symbol">))</a> <a id="19121" class="Symbol">(</a><a id="19122" href="Arrows.html#23136" class="Function">element-is-reachable-arr</a> <a id="19147" class="Symbol">(</a><a id="19148" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19152" class="Symbol">(</a><a id="19153" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="19163" class="Symbol">(λ</a> <a id="19166" href="Bracketing.html#19166" class="Bound">j</a> <a id="19168" class="Symbol">→</a> <a id="19170" href="Arrows.html#27893" class="Function">chainA</a> <a id="19177" class="Symbol">(</a><a id="19178" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="19182" href="Bracketing.html#18876" class="Bound">a</a> <a id="19184" href="Bracketing.html#18880" class="Bound">b</a> <a id="19186" href="Bracketing.html#18883" class="Bound">r</a> <a id="19188" class="Symbol">(</a><a id="19189" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="19191" href="Bracketing.html#19166" class="Bound">j</a><a id="19192" class="Symbol">)))</a> <a id="19196" class="Symbol">(</a><a id="19197" href="Bracketing.html#18888" class="Bound">c</a> <a id="19199" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="19201" href="Bracketing.html#18890" class="Bound">l</a><a id="19202" class="Symbol">))))</a>
          <a id="19217" href="Bracketing.html#19217" class="Bound">wb&#39;&#39;</a> <a id="19222" class="Symbol">:</a> <a id="19224" href="Bracketing.html#12823" class="Function">well-bracketed</a> <a id="19239" href="Bracketing.html#18876" class="Bound">a</a>
          <a id="19251" href="Bracketing.html#19217" class="Bound">wb&#39;&#39;</a> <a id="19256" class="Symbol">=</a> <a id="19258" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="19268" class="Symbol">(λ</a> <a id="19271" href="Bracketing.html#19271" class="Bound">j</a> <a id="19273" class="Symbol">→</a> <a id="19275" href="Bracketing.html#13897" class="Function">well-bracketed-chain</a> <a id="19296" class="Symbol">(</a><a id="19297" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="19301" href="Bracketing.html#18876" class="Bound">a</a> <a id="19303" href="Bracketing.html#18880" class="Bound">b</a> <a id="19305" href="Bracketing.html#18883" class="Bound">r</a> <a id="19307" class="Symbol">(</a><a id="19308" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="19310" href="Bracketing.html#19271" class="Bound">j</a><a id="19311" class="Symbol">)))</a> <a id="19315" href="Bracketing.html#18885" class="Bound">wb</a>
          <a id="19328" href="Bracketing.html#19328" class="Bound">r&#39;&#39;</a> <a id="19332" class="Symbol">:</a> <a id="19334" href="Arrows.html#10003" class="Function">is-reachable-arr</a> <a id="19351" href="Bracketing.html#18876" class="Bound">a</a> <a id="19353" class="Symbol">(</a><a id="19354" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="19364" class="Symbol">(λ</a> <a id="19367" href="Bracketing.html#19367" class="Bound">_</a> <a id="19369" class="Symbol">→</a> <a id="19371" href="Bracketing.html#866" class="Bound">A</a> <a id="19373" href="Cubical.Data.Sum.Base.html#203" class="Datatype Operator">⊎</a> <a id="19375" href="Bracketing.html#868" class="Bound">B</a><a id="19376" class="Symbol">)</a> <a id="19378" class="Symbol">(</a><a id="19379" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19383" href="Bracketing.html#18888" class="Bound">c</a><a id="19384" class="Symbol">))</a>
          <a id="19397" href="Bracketing.html#19328" class="Bound">r&#39;&#39;</a> <a id="19401" class="Symbol">=</a> <a id="19403" href="Arrows.html#23136" class="Function">element-is-reachable-arr</a> <a id="19428" class="Symbol">(</a><a id="19429" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19433" class="Symbol">(</a><a id="19434" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="19444" class="Symbol">(λ</a> <a id="19447" href="Bracketing.html#19447" class="Bound">j</a> <a id="19449" class="Symbol">→</a> <a id="19451" href="Arrows.html#27893" class="Function">chainA</a> <a id="19458" class="Symbol">(</a><a id="19459" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="19463" href="Bracketing.html#18876" class="Bound">a</a> <a id="19465" href="Bracketing.html#18880" class="Bound">b</a> <a id="19467" href="Bracketing.html#18883" class="Bound">r</a> <a id="19469" class="Symbol">(</a><a id="19470" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="19472" href="Bracketing.html#19447" class="Bound">j</a><a id="19473" class="Symbol">)))</a> <a id="19477" class="Symbol">(</a><a id="19478" href="Bracketing.html#18888" class="Bound">c</a> <a id="19480" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="19482" href="Bracketing.html#18890" class="Bound">l</a><a id="19483" class="Symbol">)))</a>
          <a id="19497" href="Bracketing.html#19497" class="Bound">r&#39;&#39;≡r&#39;</a> <a id="19504" class="Symbol">:</a> <a id="19506" href="Agda.Builtin.Cubical.Path.html#197" class="Postulate">PathP</a> <a id="19512" class="Symbol">(λ</a> <a id="19515" href="Bracketing.html#19515" class="Bound">i</a> <a id="19517" class="Symbol">→</a> <a id="19519" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="19524" class="Symbol">(</a><a id="19525" href="Arrows.html#10003" class="Function">is-reachable-arr</a> <a id="19542" href="Bracketing.html#18876" class="Bound">a</a><a id="19543" class="Symbol">)</a> <a id="19545" class="Symbol">(</a><a id="19546" href="Cubical.Foundations.Prelude.html#8818" class="Function">transportRefl</a> <a id="19560" class="Symbol">(</a><a id="19561" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19565" href="Bracketing.html#18888" class="Bound">c</a><a id="19566" class="Symbol">))</a> <a id="19569" href="Bracketing.html#19515" class="Bound">i</a><a id="19570" class="Symbol">)</a> <a id="19572" href="Bracketing.html#19328" class="Bound">r&#39;&#39;</a> <a id="19576" href="Bracketing.html#19023" class="Bound">r&#39;</a>
          <a id="19589" href="Bracketing.html#19497" class="Bound">r&#39;&#39;≡r&#39;</a> <a id="19596" class="Symbol">=</a> <a id="19598" href="Cubical.Foundations.HLevels.html#24798" class="Function">isOfHLevel→isOfHLevelDep</a> <a id="19623" class="Number">1</a> <a id="19625" class="Symbol">(</a><a id="19626" href="Arrows.html#10093" class="Function">is-reachable-arr-isProp</a> <a id="19650" href="Bracketing.html#18876" class="Bound">a</a><a id="19651" class="Symbol">)</a> <a id="19653" href="Bracketing.html#19328" class="Bound">r&#39;&#39;</a> <a id="19657" href="Bracketing.html#19023" class="Bound">r&#39;</a> <a id="19660" class="Symbol">(</a><a id="19661" href="Cubical.Foundations.Prelude.html#8818" class="Function">transportRefl</a> <a id="19675" class="Symbol">(</a><a id="19676" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19680" href="Bracketing.html#18888" class="Bound">c</a><a id="19681" class="Symbol">))</a>
          <a id="19694" href="Bracketing.html#19694" class="Bound">wb&#39;&#39;≡wb&#39;</a> <a id="19703" class="Symbol">:</a> <a id="19705" href="Bracketing.html#19217" class="Bound">wb&#39;&#39;</a> <a id="19710" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="19712" href="Bracketing.html#18914" class="Bound">wb&#39;</a>
          <a id="19726" href="Bracketing.html#19694" class="Bound">wb&#39;&#39;≡wb&#39;</a> <a id="19735" class="Symbol">=</a> <a id="19737" href="Bracketing.html#12901" class="Function">well-bracketed-isProp</a> <a id="19759" href="Bracketing.html#18876" class="Bound">a</a> <a id="19761" href="Bracketing.html#19217" class="Bound">wb&#39;&#39;</a> <a id="19766" href="Bracketing.html#18914" class="Bound">wb&#39;</a>
          <a id="19780" href="Bracketing.html#19780" class="Bound">rm&#39;&#39;≡rm&#39;</a> <a id="19789" class="Symbol">:</a> <a id="19791" href="Agda.Builtin.Cubical.Path.html#197" class="Postulate">PathP</a> <a id="19797" class="Symbol">(λ</a> <a id="19800" href="Bracketing.html#19800" class="Bound">i</a> <a id="19802" class="Symbol">→</a> <a id="19804" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="19809" href="Bracketing.html#5487" class="Function">matched</a> <a id="19817" class="Symbol">(</a><a id="19818" href="Cubical.Foundations.Prelude.html#8818" class="Function">transportRefl</a> <a id="19832" class="Symbol">(</a><a id="19833" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19837" href="Bracketing.html#18888" class="Bound">c</a><a id="19838" class="Symbol">))</a> <a id="19841" href="Bracketing.html#19800" class="Bound">i</a><a id="19842" class="Symbol">)</a> <a id="19844" class="Symbol">(</a><a id="19845" href="Bracketing.html#15800" class="Function">wb-reachable-arr-matched</a> <a id="19870" href="Bracketing.html#19217" class="Bound">wb&#39;&#39;</a> <a id="19875" href="Bracketing.html#19328" class="Bound">r&#39;&#39;</a><a id="19878" class="Symbol">)</a> <a id="19880" class="Symbol">(</a><a id="19881" href="Bracketing.html#15800" class="Function">wb-reachable-arr-matched</a> <a id="19906" href="Bracketing.html#18914" class="Bound">wb&#39;</a> <a id="19910" href="Bracketing.html#19023" class="Bound">r&#39;</a><a id="19912" class="Symbol">)</a>
          <a id="19924" href="Bracketing.html#19780" class="Bound">rm&#39;&#39;≡rm&#39;</a> <a id="19933" class="Symbol">=</a> <a id="19935" href="Cubical.Foundations.Prelude.html#2302" class="Function">congP₂</a> <a id="19942" class="Symbol">{</a><a id="19943" class="Argument">A</a> <a id="19945" class="Symbol">=</a> <a id="19947" class="Symbol">λ</a> <a id="19949" href="Bracketing.html#19949" class="Bound">i</a> <a id="19951" class="Symbol">→</a> <a id="19953" href="Bracketing.html#12823" class="Function">well-bracketed</a> <a id="19968" href="Bracketing.html#18876" class="Bound">a</a><a id="19969" class="Symbol">}</a> <a id="19971" class="Symbol">{</a><a id="19972" class="Argument">B</a> <a id="19974" class="Symbol">=</a> <a id="19976" class="Symbol">λ</a> <a id="19978" href="Bracketing.html#19978" class="Bound">i</a> <a id="19980" href="Bracketing.html#19980" class="Bound">_</a> <a id="19982" class="Symbol">→</a> <a id="19984" href="Arrows.html#10003" class="Function">is-reachable-arr</a> <a id="20001" href="Bracketing.html#18876" class="Bound">a</a> <a id="20003" class="Symbol">(</a><a id="20004" href="Cubical.Foundations.Prelude.html#8818" class="Function">transportRefl</a> <a id="20018" class="Symbol">(</a><a id="20019" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20023" href="Bracketing.html#18888" class="Bound">c</a><a id="20024" class="Symbol">)</a> <a id="20026" href="Bracketing.html#19978" class="Bound">i</a><a id="20027" class="Symbol">)}</a> <a id="20030" class="Symbol">{</a><a id="20031" class="Argument">C</a> <a id="20033" class="Symbol">=</a> <a id="20035" class="Symbol">λ</a> <a id="20037" href="Bracketing.html#20037" class="Bound">i</a> <a id="20039" href="Bracketing.html#20039" class="Bound">wb</a> <a id="20042" href="Bracketing.html#20042" class="Bound">r</a> <a id="20044" class="Symbol">→</a> <a id="20046" href="Bracketing.html#5487" class="Function">matched</a> <a id="20054" class="Symbol">(</a><a id="20055" href="Cubical.Foundations.Prelude.html#8818" class="Function">transportRefl</a> <a id="20069" class="Symbol">(</a><a id="20070" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20074" href="Bracketing.html#18888" class="Bound">c</a><a id="20075" class="Symbol">)</a> <a id="20077" href="Bracketing.html#20037" class="Bound">i</a><a id="20078" class="Symbol">)}</a>
                     <a id="20102" class="Symbol">(λ</a> <a id="20105" href="Bracketing.html#20105" class="Bound">i</a> <a id="20107" href="Bracketing.html#20107" class="Bound">wb</a> <a id="20110" href="Bracketing.html#20110" class="Bound">r</a> <a id="20112" class="Symbol">→</a> <a id="20114" href="Bracketing.html#15800" class="Function">wb-reachable-arr-matched</a> <a id="20139" class="Symbol">(</a><a id="20140" href="Bracketing.html#19694" class="Bound">wb&#39;&#39;≡wb&#39;</a> <a id="20149" href="Bracketing.html#20105" class="Bound">i</a><a id="20150" class="Symbol">)</a> <a id="20152" class="Symbol">(</a><a id="20153" href="Bracketing.html#19497" class="Bound">r&#39;&#39;≡r&#39;</a> <a id="20160" href="Bracketing.html#20105" class="Bound">i</a><a id="20161" class="Symbol">))</a> <a id="20164" href="Bracketing.html#19694" class="Bound">wb&#39;&#39;≡wb&#39;</a> <a id="20173" href="Bracketing.html#19497" class="Bound">r&#39;&#39;≡r&#39;</a>
          <a id="20190" href="Bracketing.html#20190" class="Bound">p</a> <a id="20192" class="Symbol">:</a> <a id="20194" href="Bracketing.html#6168" class="Function">match</a> <a id="20200" class="Symbol">(</a><a id="20201" href="Bracketing.html#15800" class="Function">wb-reachable-arr-matched</a> <a id="20226" href="Bracketing.html#18914" class="Bound">wb&#39;</a> <a id="20230" href="Bracketing.html#19023" class="Bound">r&#39;</a><a id="20232" class="Symbol">)</a> <a id="20234" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="20236" href="Bracketing.html#6168" class="Function">match</a> <a id="20242" class="Symbol">(</a><a id="20243" href="Bracketing.html#15800" class="Function">wb-reachable-arr-matched</a> <a id="20268" href="Bracketing.html#19217" class="Bound">wb&#39;&#39;</a> <a id="20273" href="Bracketing.html#19328" class="Bound">r&#39;&#39;</a><a id="20276" class="Symbol">)</a>
          <a id="20288" href="Bracketing.html#20190" class="Bound">p</a> <a id="20290" class="Symbol">=</a> <a id="20292" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="20296" class="Symbol">(</a><a id="20297" href="Cubical.Foundations.Prelude.html#1802" class="Function">congP</a> <a id="20303" class="Symbol">(λ</a> <a id="20306" href="Bracketing.html#20306" class="Bound">i</a> <a id="20308" class="Symbol">→</a> <a id="20310" href="Bracketing.html#6168" class="Function">match</a><a id="20315" class="Symbol">)</a> <a id="20317" href="Bracketing.html#19780" class="Bound">rm&#39;&#39;≡rm&#39;</a><a id="20325" class="Symbol">)</a>
      <a id="20333" class="Keyword">in</a>
      <a id="20342" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="20352" class="Symbol">(λ</a> <a id="20355" href="Bracketing.html#20355" class="Bound">_</a> <a id="20357" class="Symbol">→</a> <a id="20359" href="ArrowsBase.html#769" class="Function">Arrows</a><a id="20365" class="Symbol">)</a> <a id="20367" class="Symbol">(</a><a id="20368" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20372" class="Symbol">(</a><a id="20373" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20377" class="Symbol">(</a><a id="20378" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20382" class="Symbol">(</a><a id="20383" href="Bracketing.html#17655" class="Function">e</a> <a id="20385" href="Bracketing.html#18876" class="Bound">a</a> <a id="20387" class="Symbol">(</a><a id="20388" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="20398" class="Symbol">(λ</a> <a id="20401" href="Bracketing.html#20401" class="Bound">j</a> <a id="20403" class="Symbol">→</a> <a id="20405" href="Bracketing.html#13897" class="Function">well-bracketed-chain</a> <a id="20426" class="Symbol">(</a><a id="20427" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="20431" href="Bracketing.html#18876" class="Bound">a</a> <a id="20433" href="Bracketing.html#18880" class="Bound">b</a> <a id="20435" href="Bracketing.html#18883" class="Bound">r</a> <a id="20437" class="Symbol">(</a><a id="20438" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="20440" href="Bracketing.html#20401" class="Bound">j</a><a id="20441" class="Symbol">)))</a> <a id="20445" href="Bracketing.html#18885" class="Bound">wb</a><a id="20447" class="Symbol">))</a> <a id="20450" class="Symbol">(</a><a id="20451" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="20461" class="Symbol">(λ</a> <a id="20464" href="Bracketing.html#20464" class="Bound">j</a> <a id="20466" class="Symbol">→</a> <a id="20468" href="Arrows.html#27893" class="Function">chainA</a> <a id="20475" class="Symbol">(</a><a id="20476" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="20480" href="Bracketing.html#18876" class="Bound">a</a> <a id="20482" href="Bracketing.html#18880" class="Bound">b</a> <a id="20484" href="Bracketing.html#18883" class="Bound">r</a> <a id="20486" class="Symbol">(</a><a id="20487" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="20489" href="Bracketing.html#20464" class="Bound">j</a><a id="20490" class="Symbol">)))</a> <a id="20494" class="Symbol">(</a><a id="20495" href="Bracketing.html#18888" class="Bound">c</a> <a id="20497" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20499" href="Bracketing.html#18890" class="Bound">l</a><a id="20500" class="Symbol">)))))</a> <a id="20506" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="20509" href="Cubical.Foundations.Prelude.html#8818" class="Function">transportRefl</a> <a id="20523" class="Symbol">_</a> <a id="20525" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="20533" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20537" class="Symbol">(</a><a id="20538" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20542" class="Symbol">(</a><a id="20543" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20547" class="Symbol">(</a><a id="20548" href="Bracketing.html#17655" class="Function">e</a> <a id="20550" href="Bracketing.html#18876" class="Bound">a</a> <a id="20552" class="Symbol">(</a><a id="20553" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="20563" class="Symbol">(λ</a> <a id="20566" href="Bracketing.html#20566" class="Bound">j</a> <a id="20568" class="Symbol">→</a> <a id="20570" href="Bracketing.html#13897" class="Function">well-bracketed-chain</a> <a id="20591" class="Symbol">(</a><a id="20592" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="20596" href="Bracketing.html#18876" class="Bound">a</a> <a id="20598" href="Bracketing.html#18880" class="Bound">b</a> <a id="20600" href="Bracketing.html#18883" class="Bound">r</a> <a id="20602" class="Symbol">(</a><a id="20603" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="20605" href="Bracketing.html#20566" class="Bound">j</a><a id="20606" class="Symbol">)))</a> <a id="20610" href="Bracketing.html#18885" class="Bound">wb</a><a id="20612" class="Symbol">))</a> <a id="20615" class="Symbol">(</a><a id="20616" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="20626" class="Symbol">(λ</a> <a id="20629" href="Bracketing.html#20629" class="Bound">j</a> <a id="20631" class="Symbol">→</a> <a id="20633" href="Arrows.html#27893" class="Function">chainA</a> <a id="20640" class="Symbol">(</a><a id="20641" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="20645" href="Bracketing.html#18876" class="Bound">a</a> <a id="20647" href="Bracketing.html#18880" class="Bound">b</a> <a id="20649" href="Bracketing.html#18883" class="Bound">r</a> <a id="20651" class="Symbol">(</a><a id="20652" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="20654" href="Bracketing.html#20629" class="Bound">j</a><a id="20655" class="Symbol">)))</a> <a id="20659" class="Symbol">(</a><a id="20660" href="Bracketing.html#18888" class="Bound">c</a> <a id="20662" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20664" href="Bracketing.html#18890" class="Bound">l</a><a id="20665" class="Symbol">))))</a> <a id="20670" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="20673" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="20678" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="20686" href="Bracketing.html#17655" class="Function">e</a> <a id="20688" href="Bracketing.html#18876" class="Bound">a</a> <a id="20690" class="Symbol">(</a><a id="20691" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="20701" class="Symbol">(λ</a> <a id="20704" href="Bracketing.html#20704" class="Bound">j</a> <a id="20706" class="Symbol">→</a> <a id="20708" href="Bracketing.html#13897" class="Function">well-bracketed-chain</a> <a id="20729" class="Symbol">(</a><a id="20730" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="20734" href="Bracketing.html#18876" class="Bound">a</a> <a id="20736" href="Bracketing.html#18880" class="Bound">b</a> <a id="20738" href="Bracketing.html#18883" class="Bound">r</a> <a id="20740" class="Symbol">(</a><a id="20741" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="20743" href="Bracketing.html#20704" class="Bound">j</a><a id="20744" class="Symbol">)))</a> <a id="20748" href="Bracketing.html#18885" class="Bound">wb</a><a id="20750" class="Symbol">)</a> <a id="20752" class="Symbol">.</a><a id="20753" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20757" class="Symbol">(</a><a id="20758" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="20768" class="Symbol">(λ</a> <a id="20771" href="Bracketing.html#20771" class="Bound">j</a> <a id="20773" class="Symbol">→</a> <a id="20775" href="Arrows.html#27893" class="Function">chainA</a> <a id="20782" class="Symbol">(</a><a id="20783" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="20787" href="Bracketing.html#18876" class="Bound">a</a> <a id="20789" href="Bracketing.html#18880" class="Bound">b</a> <a id="20791" href="Bracketing.html#18883" class="Bound">r</a> <a id="20793" class="Symbol">(</a><a id="20794" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="20796" href="Bracketing.html#20771" class="Bound">j</a><a id="20797" class="Symbol">)))</a> <a id="20801" class="Symbol">(</a><a id="20802" href="Bracketing.html#18888" class="Bound">c</a> <a id="20804" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20806" href="Bracketing.html#18890" class="Bound">l</a><a id="20807" class="Symbol">))</a> <a id="20810" class="Symbol">.</a><a id="20811" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20815" class="Symbol">.</a><a id="20816" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20820" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="20823" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="20828" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="20836" href="Bracketing.html#6168" class="Function">match</a> <a id="20842" class="Symbol">(</a><a id="20843" href="Bracketing.html#15800" class="Function">wb-reachable-arr-matched</a> <a id="20868" class="Symbol">(</a><a id="20869" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="20879" class="Symbol">(λ</a> <a id="20882" href="Bracketing.html#20882" class="Bound">j</a> <a id="20884" class="Symbol">→</a> <a id="20886" href="Bracketing.html#13897" class="Function">well-bracketed-chain</a> <a id="20907" class="Symbol">(</a><a id="20908" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="20912" href="Bracketing.html#18876" class="Bound">a</a> <a id="20914" href="Bracketing.html#18880" class="Bound">b</a> <a id="20916" href="Bracketing.html#18883" class="Bound">r</a> <a id="20918" class="Symbol">(</a><a id="20919" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="20921" href="Bracketing.html#20882" class="Bound">j</a><a id="20922" class="Symbol">)))</a> <a id="20926" href="Bracketing.html#18885" class="Bound">wb</a><a id="20928" class="Symbol">)</a> <a id="20930" class="Symbol">(</a><a id="20931" href="Arrows.html#23136" class="Function">element-is-reachable-arr</a> <a id="20956" class="Symbol">(</a><a id="20957" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20961" class="Symbol">((</a><a id="20963" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="20973" class="Symbol">(λ</a> <a id="20976" href="Bracketing.html#20976" class="Bound">j</a> <a id="20978" class="Symbol">→</a> <a id="20980" href="Arrows.html#27893" class="Function">chainA</a> <a id="20987" class="Symbol">(</a><a id="20988" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="20992" href="Bracketing.html#18876" class="Bound">a</a> <a id="20994" href="Bracketing.html#18880" class="Bound">b</a> <a id="20996" href="Bracketing.html#18883" class="Bound">r</a> <a id="20998" class="Symbol">(</a><a id="20999" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="21001" href="Bracketing.html#20976" class="Bound">j</a><a id="21002" class="Symbol">)))</a> <a id="21006" class="Symbol">(</a><a id="21007" href="Bracketing.html#18888" class="Bound">c</a> <a id="21009" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="21011" href="Bracketing.html#18890" class="Bound">l</a><a id="21012" class="Symbol">))))))</a> <a id="21019" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a>
        <a id="21030" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a>
          <a id="21046" class="Symbol">(λ</a> <a id="21049" href="Bracketing.html#21049" class="Bound">X</a> <a id="21051" class="Symbol">→</a> <a id="21053" href="Bracketing.html#21049" class="Bound">X</a> <a id="21055" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="21057" href="Bracketing.html#6168" class="Function">match</a> <a id="21063" class="Symbol">(</a><a id="21064" href="Bracketing.html#15800" class="Function">wb-reachable-arr-matched</a> <a id="21089" href="Bracketing.html#18885" class="Bound">wb</a> <a id="21092" class="Symbol">(</a><a id="21093" href="Arrows.html#23136" class="Function">element-is-reachable-arr</a> <a id="21118" href="Bracketing.html#18888" class="Bound">c</a><a id="21119" class="Symbol">)))</a>
          <a id="21133" href="Bracketing.html#20190" class="Bound">p</a>
          <a id="21145" class="Symbol">(</a><a id="21146" href="Bracketing.html#18120" class="Function">match-indep</a> <a id="21158" href="Bracketing.html#18883" class="Bound">r</a>
            <a id="21172" class="Symbol">(</a><a id="21173" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="21183" class="Symbol">(λ</a> <a id="21186" href="Bracketing.html#21186" class="Bound">j</a> <a id="21188" class="Symbol">→</a> <a id="21190" href="Bracketing.html#13897" class="Function">well-bracketed-chain</a> <a id="21211" class="Symbol">(</a><a id="21212" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="21216" href="Bracketing.html#18876" class="Bound">a</a> <a id="21218" href="Bracketing.html#18880" class="Bound">b</a> <a id="21220" href="Bracketing.html#18883" class="Bound">r</a> <a id="21222" class="Symbol">(</a><a id="21223" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="21225" href="Bracketing.html#21186" class="Bound">j</a><a id="21226" class="Symbol">)))</a> <a id="21230" href="Bracketing.html#18885" class="Bound">wb</a><a id="21232" class="Symbol">)</a>
            <a id="21246" class="Symbol">(</a><a id="21247" href="Cubical.Foundations.Prelude.html#9128" class="Function">subst</a> <a id="21253" class="Symbol">(</a><a id="21254" href="Arrows.html#10003" class="Function">is-reachable-arr</a> <a id="21271" href="Bracketing.html#18876" class="Bound">a</a><a id="21272" class="Symbol">)</a> <a id="21274" class="Symbol">(</a><a id="21275" href="Cubical.Foundations.Prelude.html#8818" class="Function">transportRefl</a> <a id="21289" class="Symbol">_)</a> <a id="21292" class="Symbol">(</a><a id="21293" href="Arrows.html#23136" class="Function">element-is-reachable-arr</a> <a id="21318" class="Symbol">(</a><a id="21319" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="21323" class="Symbol">((</a><a id="21325" href="Cubical.Foundations.Prelude.html#8597" class="Function">transport</a> <a id="21335" class="Symbol">(λ</a> <a id="21338" href="Bracketing.html#21338" class="Bound">j</a> <a id="21340" class="Symbol">→</a> <a id="21342" href="Arrows.html#27893" class="Function">chainA</a> <a id="21349" class="Symbol">(</a><a id="21350" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="21354" href="Bracketing.html#18876" class="Bound">a</a> <a id="21356" href="Bracketing.html#18880" class="Bound">b</a> <a id="21358" href="Bracketing.html#18883" class="Bound">r</a> <a id="21360" class="Symbol">(</a><a id="21361" href="Cubical.Core.Primitives.html#539" class="Primitive Operator">~</a> <a id="21363" href="Bracketing.html#21338" class="Bound">j</a><a id="21364" class="Symbol">)))</a> <a id="21368" class="Symbol">(</a><a id="21369" href="Bracketing.html#18888" class="Bound">c</a> <a id="21371" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="21373" href="Bracketing.html#18890" class="Bound">l</a><a id="21374" class="Symbol">))))))</a>
            <a id="21393" href="Bracketing.html#18885" class="Bound">wb</a>
            <a id="21408" class="Symbol">(</a><a id="21409" href="Arrows.html#23136" class="Function">element-is-reachable-arr</a> <a id="21434" href="Bracketing.html#18888" class="Bound">c</a><a id="21435" class="Symbol">))</a>
        <a id="21446" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a> <a id="21448" class="Comment">-- essentially match-indep plus some transportRefl (lots of noise for not much...)</a>
      <a id="21537" href="Bracketing.html#6168" class="Function">match</a> <a id="21543" class="Symbol">(</a><a id="21544" href="Bracketing.html#15800" class="Function">wb-reachable-arr-matched</a> <a id="21569" href="Bracketing.html#18885" class="Bound">wb</a> <a id="21572" class="Symbol">(</a><a id="21573" href="Arrows.html#23136" class="Function">element-is-reachable-arr</a> <a id="21598" href="Bracketing.html#18888" class="Bound">c</a><a id="21599" class="Symbol">))</a> <a id="21602" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">≡⟨</a> <a id="21605" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a> <a id="21610" href="Cubical.Foundations.Prelude.html#7981" class="Function Operator">⟩</a>
      <a id="21618" href="Bracketing.html#17655" class="Function">e</a> <a id="21620" href="Bracketing.html#18880" class="Bound">b</a> <a id="21622" href="Bracketing.html#18885" class="Bound">wb</a> <a id="21625" class="Symbol">.</a><a id="21626" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="21630" class="Symbol">(</a><a id="21631" href="Bracketing.html#18888" class="Bound">c</a> <a id="21633" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="21635" href="Bracketing.html#18890" class="Bound">l</a><a id="21636" class="Symbol">)</a> <a id="21638" class="Symbol">.</a><a id="21639" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="21643" class="Symbol">.</a><a id="21644" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="21648" href="Cubical.Foundations.Prelude.html#8499" class="Function Operator">∎</a>

</pre></body></html>