<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Bracketing</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--cubical</a> <a id="23" class="Pragma">--allow-unsolved-metas</a> <a id="46" class="Symbol">#-}</a>

<a id="51" class="Keyword">open</a> <a id="56" class="Keyword">import</a> <a id="63" href="Cubical.Foundations.Prelude.html" class="Module">Cubical.Foundations.Prelude</a>
<a id="91" class="Keyword">open</a> <a id="96" class="Keyword">import</a> <a id="103" href="Cubical.Foundations.Function.html" class="Module">Cubical.Foundations.Function</a>
<a id="132" class="Keyword">open</a> <a id="137" class="Keyword">import</a> <a id="144" href="Cubical.Foundations.Isomorphism.html" class="Module">Cubical.Foundations.Isomorphism</a>
<a id="176" class="Keyword">open</a> <a id="181" class="Keyword">import</a> <a id="188" href="Cubical.Foundations.Equiv.html" class="Module">Cubical.Foundations.Equiv</a>
<a id="214" class="Keyword">open</a> <a id="219" class="Keyword">import</a> <a id="226" href="Cubical.Foundations.HLevels.html" class="Module">Cubical.Foundations.HLevels</a>
<a id="254" class="Keyword">open</a> <a id="259" class="Keyword">import</a> <a id="266" href="Cubical.Foundations.Univalence.html" class="Module">Cubical.Foundations.Univalence</a>
<a id="297" class="Keyword">open</a> <a id="302" class="Keyword">import</a> <a id="309" href="Cubical.Relation.Nullary.html" class="Module">Cubical.Relation.Nullary</a>
<a id="334" class="Keyword">open</a> <a id="339" class="Keyword">import</a> <a id="346" href="Cubical.Relation.Nullary.DecidableEq.html" class="Module">Cubical.Relation.Nullary.DecidableEq</a>
<a id="383" class="Keyword">open</a> <a id="388" class="Keyword">import</a> <a id="395" href="Cubical.Relation.Binary.html" class="Module">Cubical.Relation.Binary</a>
<a id="419" class="Keyword">open</a> <a id="424" href="Cubical.Relation.Binary.Base.html#246" class="Module">BinaryRelation</a> <a id="439" class="Keyword">using</a> <a id="445" class="Symbol">(</a><a id="446" href="Cubical.Relation.Binary.Base.html#528" class="Record">isEquivRel</a><a id="456" class="Symbol">)</a>
<a id="458" class="Keyword">open</a> <a id="463" class="Keyword">import</a> <a id="470" href="Cubical.Data.Empty.html" class="Module">Cubical.Data.Empty</a> <a id="489" class="Symbol">as</a> <a id="492" class="Module">⊥</a>
<a id="494" class="Keyword">open</a> <a id="499" class="Keyword">import</a> <a id="506" href="Cubical.Data.Unit.html" class="Module">Cubical.Data.Unit</a> <a id="524" class="Keyword">renaming</a> <a id="533" class="Symbol">(</a><a id="534" href="Cubical.Data.Unit.Base.html#141" class="Record">Unit</a> <a id="539" class="Symbol">to</a> <a id="Builtin.Unit.⊤"></a><a id="542" href="Bracketing.html#542" class="Record">⊤</a><a id="543" class="Symbol">)</a>
<a id="545" class="Keyword">open</a> <a id="550" class="Keyword">import</a> <a id="557" href="Cubical.Data.Sum.html" class="Module">Cubical.Data.Sum</a>
<a id="574" class="Keyword">open</a> <a id="579" class="Keyword">import</a> <a id="586" href="Cubical.Data.Sigma.html" class="Module">Cubical.Data.Sigma</a>
<a id="605" class="Keyword">open</a> <a id="610" class="Keyword">import</a> <a id="617" href="Z.html" class="Module">Z</a> <a id="619" class="Symbol">as</a> <a id="622" class="Module">ℤ</a> <a id="624" class="Keyword">hiding</a> <a id="631" class="Symbol">(</a><a id="632" href="Z.html#10901" class="Function Operator">_&lt;_</a> <a id="636" class="Symbol">;</a> <a id="638" href="Z.html#10846" class="Function Operator">_≤_</a> <a id="642" class="Symbol">;</a> <a id="644" href="Z.html#12196" class="Postulate Operator">_≟_</a><a id="647" class="Symbol">)</a>
<a id="649" class="Keyword">open</a> <a id="654" class="Keyword">import</a> <a id="661" href="Cubical.Data.Nat.html" class="Module">Cubical.Data.Nat</a> <a id="678" class="Symbol">as</a> <a id="681" class="Module">ℕ</a>
<a id="683" class="Keyword">open</a> <a id="688" class="Keyword">import</a> <a id="695" href="Cubical.Data.Nat.Order.html" class="Module">Cubical.Data.Nat.Order</a> <a id="718" class="Symbol">as</a> <a id="721" class="Module">ℕ</a>
<a id="723" class="Keyword">open</a> <a id="728" class="Keyword">import</a> <a id="735" href="Nat.html" class="Module">Nat</a> <a id="739" class="Symbol">as</a> <a id="742" class="Module">ℕ</a>
<a id="744" class="Keyword">open</a> <a id="749" class="Keyword">import</a> <a id="756" href="Misc.html" class="Module">Misc</a>
<a id="761" class="Keyword">open</a> <a id="766" class="Keyword">import</a> <a id="773" href="Cubical.HITs.PropositionalTruncation.html" class="Module">Cubical.HITs.PropositionalTruncation</a> <a id="810" class="Symbol">as</a> <a id="813" class="Module">∥∥</a>
<a id="816" class="Keyword">open</a> <a id="821" class="Keyword">import</a> <a id="828" href="Cubical.HITs.SetQuotients.html" class="Module">Cubical.HITs.SetQuotients</a> <a id="854" class="Symbol">as</a> <a id="857" class="Module">[]</a>

<a id="861" class="Keyword">open</a> <a id="866" class="Keyword">import</a> <a id="873" href="Ends.html" class="Module">Ends</a>

<a id="879" class="Keyword">module</a> <a id="886" href="Bracketing.html" class="Module">Bracketing</a> <a id="897" class="Symbol">{</a><a id="898" href="Bracketing.html#898" class="Bound">ℓ</a><a id="899" class="Symbol">}</a> <a id="901" class="Symbol">{</a><a id="902" href="Bracketing.html#902" class="Bound">A</a> <a id="904" href="Bracketing.html#904" class="Bound">B</a> <a id="906" class="Symbol">:</a> <a id="908" href="Cubical.Core.Primitives.html#1259" class="Function">Type</a> <a id="913" href="Bracketing.html#898" class="Bound">ℓ</a><a id="914" class="Symbol">}</a> <a id="916" class="Symbol">(</a><a id="917" href="Bracketing.html#917" class="Bound">SA</a> <a id="920" class="Symbol">:</a> <a id="922" href="Cubical.Foundations.Prelude.html#7968" class="Function">isSet</a> <a id="928" href="Bracketing.html#902" class="Bound">A</a><a id="929" class="Symbol">)</a> <a id="931" class="Symbol">(</a><a id="932" href="Bracketing.html#932" class="Bound">SB</a> <a id="935" class="Symbol">:</a> <a id="937" href="Cubical.Foundations.Prelude.html#7968" class="Function">isSet</a> <a id="943" href="Bracketing.html#904" class="Bound">B</a><a id="944" class="Symbol">)</a> <a id="946" class="Symbol">(</a><a id="947" href="Bracketing.html#947" class="Bound">isom</a> <a id="952" class="Symbol">:</a> <a id="954" href="Cubical.Foundations.Isomorphism.html#716" class="Record">Iso</a> <a id="958" class="Symbol">(</a><a id="959" href="Bracketing.html#902" class="Bound">A</a> <a id="961" href="Cubical.Data.Sigma.Base.html#195" class="Function Operator">×</a> <a id="963" href="Ends.html#372" class="Datatype">End</a><a id="966" class="Symbol">)</a> <a id="968" class="Symbol">(</a><a id="969" href="Bracketing.html#904" class="Bound">B</a> <a id="971" href="Cubical.Data.Sigma.Base.html#195" class="Function Operator">×</a> <a id="973" href="Ends.html#372" class="Datatype">End</a><a id="976" class="Symbol">))</a> <a id="979" class="Keyword">where</a>

<a id="986" class="Keyword">open</a> <a id="991" class="Keyword">import</a> <a id="998" href="Arrows.html" class="Module">Arrows</a> <a id="1005" href="Bracketing.html#917" class="Bound">SA</a> <a id="1008" href="Bracketing.html#932" class="Bound">SB</a> <a id="1011" href="Bracketing.html#947" class="Bound">isom</a>

<a id="1017" class="Comment">---</a>
<a id="1021" class="Comment">--- Well-bracketed chains</a>
<a id="1047" class="Comment">---</a>

<a id="opening"></a><a id="1052" href="Bracketing.html#1052" class="Function">opening</a> <a id="1060" class="Symbol">:</a> <a id="1062" href="Z.html#450" class="Datatype">ℤ</a>
<a id="1064" href="Bracketing.html#1052" class="Function">opening</a> <a id="1072" class="Symbol">=</a> <a id="1074" href="Z.html#647" class="Function">ℤ.one</a>

<a id="closing"></a><a id="1081" href="Bracketing.html#1081" class="Function">closing</a> <a id="1089" class="Symbol">:</a> <a id="1091" href="Z.html#450" class="Datatype">ℤ</a>
<a id="1093" href="Bracketing.html#1081" class="Function">closing</a> <a id="1101" class="Symbol">=</a> <a id="1103" href="Z.html#5495" class="Function">ℤ.neg</a> <a id="1109" href="Z.html#647" class="Function">ℤ.one</a>

<a id="1116" class="Comment">-- Weight of an arrow, contrarily to Conway&#39;s paper, the convention is: → is</a>
<a id="1193" class="Comment">-- opening and ← is closing</a>
<a id="weight"></a><a id="1221" href="Bracketing.html#1221" class="Function">weight</a> <a id="1228" class="Symbol">:</a> <a id="1230" href="Arrows.html#1792" class="Function">dArrows</a> <a id="1238" class="Symbol">→</a> <a id="1240" href="Z.html#450" class="Datatype">ℤ</a>
<a id="1242" href="Bracketing.html#1221" class="Function">weight</a> <a id="1249" class="Symbol">(_</a> <a id="1252" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1254" href="Ends.html#390" class="InductiveConstructor">src</a><a id="1257" class="Symbol">)</a> <a id="1259" class="Symbol">=</a> <a id="1261" href="Bracketing.html#1052" class="Function">opening</a>
<a id="1269" href="Bracketing.html#1221" class="Function">weight</a> <a id="1276" class="Symbol">(_</a> <a id="1279" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1281" href="Ends.html#402" class="InductiveConstructor">tgt</a><a id="1284" class="Symbol">)</a> <a id="1286" class="Symbol">=</a> <a id="1288" href="Bracketing.html#1081" class="Function">closing</a>

<a id="1297" class="Comment">-- -- every bracket is either opening or closing and thus brings one in the total</a>
<a id="1379" class="Comment">-- -- count</a>
<a id="1391" class="Comment">-- weight-one : (x : Ends) → (weight x ≡ ℤ.one) ⊎ (weight x ≡ ℤ.neg ℤ.one)</a>
<a id="1466" class="Comment">-- weight-one (_ , src) = inl refl</a>
<a id="1501" class="Comment">-- weight-one (_ , tgt) = inr refl</a>

<a id="1537" class="Comment">-- weight-fw : (a : Arrows) → weight (fw a) ≡ opening</a>
<a id="1591" class="Comment">-- weight-fw _ = refl</a>

<a id="weight-op"></a><a id="1614" href="Bracketing.html#1614" class="Function">weight-op</a> <a id="1624" class="Symbol">:</a> <a id="1626" class="Symbol">(</a><a id="1627" href="Bracketing.html#1627" class="Bound">e</a> <a id="1629" class="Symbol">:</a> <a id="1631" href="Arrows.html#1792" class="Function">dArrows</a><a id="1638" class="Symbol">)</a> <a id="1640" class="Symbol">→</a> <a id="1642" href="Bracketing.html#1221" class="Function">weight</a> <a id="1649" class="Symbol">(</a><a id="1650" href="Arrows.html#2390" class="Function">op</a> <a id="1653" href="Bracketing.html#1627" class="Bound">e</a><a id="1654" class="Symbol">)</a> <a id="1656" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="1658" href="Z.html#5495" class="Function">ℤ.neg</a> <a id="1664" class="Symbol">(</a><a id="1665" href="Bracketing.html#1221" class="Function">weight</a> <a id="1672" href="Bracketing.html#1627" class="Bound">e</a><a id="1673" class="Symbol">)</a>
<a id="1675" href="Bracketing.html#1614" class="Function">weight-op</a> <a id="1685" class="Symbol">(</a><a id="1686" href="Bracketing.html#1686" class="Bound">x</a> <a id="1688" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1690" href="Ends.html#390" class="InductiveConstructor">src</a><a id="1693" class="Symbol">)</a> <a id="1695" class="Symbol">=</a> <a id="1697" href="Cubical.Foundations.Prelude.html#858" class="Function">refl</a>
<a id="1702" href="Bracketing.html#1614" class="Function">weight-op</a> <a id="1712" class="Symbol">(</a><a id="1713" href="Bracketing.html#1713" class="Bound">x</a> <a id="1715" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1717" href="Ends.html#402" class="InductiveConstructor">tgt</a><a id="1720" class="Symbol">)</a> <a id="1722" class="Symbol">=</a> <a id="1724" href="Cubical.Foundations.Prelude.html#858" class="Function">refl</a>

<a id="1730" class="Comment">-- number of opening and closing brackets within the next n arrows</a>
<a id="height"></a><a id="1797" href="Bracketing.html#1797" class="Function">height</a> <a id="1804" class="Symbol">:</a> <a id="1806" class="Symbol">(</a><a id="1807" href="Bracketing.html#1807" class="Bound">n</a> <a id="1809" class="Symbol">:</a> <a id="1811" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1812" class="Symbol">)</a> <a id="1814" class="Symbol">→</a> <a id="1816" href="Arrows.html#1792" class="Function">dArrows</a> <a id="1824" class="Symbol">→</a> <a id="1826" href="Z.html#450" class="Datatype">ℤ</a>
<a id="1828" href="Bracketing.html#1797" class="Function">height</a> <a id="1835" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">ℕ.zero</a>  <a id="1843" href="Bracketing.html#1843" class="Bound">x</a> <a id="1845" class="Symbol">=</a> <a id="1847" href="Z.html#469" class="InductiveConstructor">ℤ.zero</a>
<a id="1854" href="Bracketing.html#1797" class="Function">height</a> <a id="1861" class="Symbol">(</a><a id="1862" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1866" href="Bracketing.html#1866" class="Bound">n</a><a id="1867" class="Symbol">)</a> <a id="1869" href="Bracketing.html#1869" class="Bound">x</a> <a id="1871" class="Symbol">=</a> <a id="1873" href="Bracketing.html#1797" class="Function">height</a> <a id="1880" href="Bracketing.html#1866" class="Bound">n</a> <a id="1882" href="Bracketing.html#1869" class="Bound">x</a> <a id="1884" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="1888" href="Bracketing.html#1221" class="Function">weight</a> <a id="1895" class="Symbol">(</a><a id="1896" href="Arrows.html#6355" class="Function">iterate</a> <a id="1904" class="Symbol">(</a><a id="1905" href="Z.html#6334" class="Function">fromℕ</a> <a id="1911" href="Bracketing.html#1866" class="Bound">n</a><a id="1912" class="Symbol">)</a> <a id="1914" href="Bracketing.html#1869" class="Bound">x</a><a id="1915" class="Symbol">)</a>

<a id="1918" class="Keyword">abstract</a>
  <a id="1929" class="Comment">-- height is compatible with concatenation</a>
  <a id="height-+"></a><a id="1974" href="Bracketing.html#1974" class="Function">height-+</a> <a id="1983" class="Symbol">:</a> <a id="1985" class="Symbol">(</a><a id="1986" href="Bracketing.html#1986" class="Bound">m</a> <a id="1988" href="Bracketing.html#1988" class="Bound">n</a> <a id="1990" class="Symbol">:</a> <a id="1992" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1993" class="Symbol">)</a> <a id="1995" class="Symbol">(</a><a id="1996" href="Bracketing.html#1996" class="Bound">e</a> <a id="1998" class="Symbol">:</a> <a id="2000" href="Arrows.html#1722" class="Function">Ends</a><a id="2004" class="Symbol">)</a> <a id="2006" class="Symbol">→</a> <a id="2008" href="Bracketing.html#1797" class="Function">height</a> <a id="2015" class="Symbol">(</a><a id="2016" href="Bracketing.html#1986" class="Bound">m</a> <a id="2018" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="2022" href="Bracketing.html#1988" class="Bound">n</a><a id="2023" class="Symbol">)</a> <a id="2025" href="Bracketing.html#1996" class="Bound">e</a> <a id="2027" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="2029" href="Bracketing.html#1797" class="Function">height</a> <a id="2036" href="Bracketing.html#1986" class="Bound">m</a> <a id="2038" href="Bracketing.html#1996" class="Bound">e</a> <a id="2040" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="2044" href="Bracketing.html#1797" class="Function">height</a> <a id="2051" href="Bracketing.html#1988" class="Bound">n</a> <a id="2053" class="Symbol">(</a><a id="2054" href="Arrows.html#6355" class="Function">iterate</a> <a id="2062" class="Symbol">(</a><a id="2063" href="Z.html#6334" class="Function">fromℕ</a> <a id="2069" href="Bracketing.html#1986" class="Bound">m</a><a id="2070" class="Symbol">)</a> <a id="2072" href="Bracketing.html#1996" class="Bound">e</a><a id="2073" class="Symbol">)</a>
  <a id="2077" href="Bracketing.html#1974" class="Function">height-+</a> <a id="2086" href="Bracketing.html#2086" class="Bound">m</a> <a id="2088" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">ℕ.zero</a> <a id="2095" href="Bracketing.html#2095" class="Bound">e</a> <a id="2097" class="Symbol">=</a> <a id="2099" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="2104" class="Symbol">(λ</a> <a id="2107" href="Bracketing.html#2107" class="Bound">k</a> <a id="2109" class="Symbol">→</a> <a id="2111" href="Bracketing.html#1797" class="Function">height</a> <a id="2118" href="Bracketing.html#2107" class="Bound">k</a> <a id="2120" href="Bracketing.html#2095" class="Bound">e</a><a id="2121" class="Symbol">)</a> <a id="2123" class="Symbol">(</a><a id="2124" href="Cubical.Data.Nat.Properties.html#885" class="Function">ℕ.+-zero</a> <a id="2133" href="Bracketing.html#2086" class="Bound">m</a><a id="2134" class="Symbol">)</a> <a id="2136" href="Cubical.Foundations.Prelude.html#3101" class="Function Operator">∙</a> <a id="2138" href="Cubical.Foundations.Prelude.html#895" class="Function">sym</a> <a id="2142" class="Symbol">(</a><a id="2143" href="Z.html#5083" class="Postulate">ℤ.+-zero</a> <a id="2152" class="Symbol">(</a><a id="2153" href="Bracketing.html#1797" class="Function">height</a> <a id="2160" href="Bracketing.html#2086" class="Bound">m</a> <a id="2162" href="Bracketing.html#2095" class="Bound">e</a><a id="2163" class="Symbol">))</a>
  <a id="2168" href="Bracketing.html#1974" class="Function">height-+</a> <a id="2177" href="Bracketing.html#2177" class="Bound">m</a> <a id="2179" class="Symbol">(</a><a id="2180" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="2184" href="Bracketing.html#2184" class="Bound">n</a><a id="2185" class="Symbol">)</a> <a id="2187" href="Bracketing.html#2187" class="Bound">e</a> <a id="2189" class="Symbol">=</a>
    <a id="2195" href="Bracketing.html#1797" class="Function">height</a> <a id="2202" class="Symbol">(</a><a id="2203" href="Bracketing.html#2177" class="Bound">m</a> <a id="2205" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="2209" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="2213" href="Bracketing.html#2184" class="Bound">n</a><a id="2214" class="Symbol">)</a> <a id="2216" href="Bracketing.html#2187" class="Bound">e</a>                                                                               <a id="2296" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="2299" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="2304" class="Symbol">(λ</a> <a id="2307" href="Bracketing.html#2307" class="Bound">k</a> <a id="2309" class="Symbol">→</a> <a id="2311" href="Bracketing.html#1797" class="Function">height</a> <a id="2318" href="Bracketing.html#2307" class="Bound">k</a> <a id="2320" href="Bracketing.html#2187" class="Bound">e</a><a id="2321" class="Symbol">)</a> <a id="2323" class="Symbol">(</a><a id="2324" href="Cubical.Data.Nat.Properties.html#967" class="Function">ℕ.+-suc</a> <a id="2332" href="Bracketing.html#2177" class="Bound">m</a> <a id="2334" href="Bracketing.html#2184" class="Bound">n</a><a id="2335" class="Symbol">)</a> <a id="2337" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
    <a id="2343" href="Bracketing.html#1797" class="Function">height</a> <a id="2350" class="Symbol">(</a><a id="2351" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="2355" class="Symbol">(</a><a id="2356" href="Bracketing.html#2177" class="Bound">m</a> <a id="2358" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="2362" href="Bracketing.html#2184" class="Bound">n</a><a id="2363" class="Symbol">))</a> <a id="2366" href="Bracketing.html#2187" class="Bound">e</a>                                                                             <a id="2444" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="2447" href="Cubical.Foundations.Prelude.html#858" class="Function">refl</a> <a id="2452" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
    <a id="2458" href="Bracketing.html#1797" class="Function">height</a> <a id="2465" class="Symbol">(</a><a id="2466" href="Bracketing.html#2177" class="Bound">m</a> <a id="2468" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="2472" href="Bracketing.html#2184" class="Bound">n</a><a id="2473" class="Symbol">)</a> <a id="2475" href="Bracketing.html#2187" class="Bound">e</a> <a id="2477" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="2481" href="Bracketing.html#1221" class="Function">weight</a> <a id="2488" class="Symbol">(</a><a id="2489" href="Arrows.html#6355" class="Function">iterate</a> <a id="2497" class="Symbol">(</a><a id="2498" href="Z.html#6334" class="Function">fromℕ</a> <a id="2504" class="Symbol">(</a><a id="2505" href="Bracketing.html#2177" class="Bound">m</a> <a id="2507" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="2511" href="Bracketing.html#2184" class="Bound">n</a><a id="2512" class="Symbol">))</a> <a id="2515" href="Bracketing.html#2187" class="Bound">e</a><a id="2516" class="Symbol">)</a>                                          <a id="2559" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="2562" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="2567" class="Symbol">(λ</a> <a id="2570" href="Bracketing.html#2570" class="Bound">k</a> <a id="2572" class="Symbol">→</a> <a id="2574" href="Bracketing.html#2570" class="Bound">k</a> <a id="2576" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="2580" href="Bracketing.html#1221" class="Function">weight</a> <a id="2587" class="Symbol">(</a><a id="2588" href="Arrows.html#6355" class="Function">iterate</a> <a id="2596" class="Symbol">(</a><a id="2597" href="Z.html#6334" class="Function">fromℕ</a> <a id="2603" class="Symbol">(</a><a id="2604" href="Bracketing.html#2177" class="Bound">m</a> <a id="2606" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="2610" href="Bracketing.html#2184" class="Bound">n</a><a id="2611" class="Symbol">))</a> <a id="2614" href="Bracketing.html#2187" class="Bound">e</a><a id="2615" class="Symbol">))</a> <a id="2618" class="Symbol">(</a><a id="2619" href="Bracketing.html#1974" class="Function">height-+</a> <a id="2628" href="Bracketing.html#2177" class="Bound">m</a> <a id="2630" href="Bracketing.html#2184" class="Bound">n</a> <a id="2632" href="Bracketing.html#2187" class="Bound">e</a><a id="2633" class="Symbol">)</a> <a id="2635" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
    <a id="2641" class="Symbol">(</a><a id="2642" href="Bracketing.html#1797" class="Function">height</a> <a id="2649" href="Bracketing.html#2177" class="Bound">m</a> <a id="2651" href="Bracketing.html#2187" class="Bound">e</a> <a id="2653" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="2657" href="Bracketing.html#1797" class="Function">height</a> <a id="2664" href="Bracketing.html#2184" class="Bound">n</a> <a id="2666" class="Symbol">(</a><a id="2667" href="Arrows.html#6355" class="Function">iterate</a> <a id="2675" class="Symbol">(</a><a id="2676" href="Z.html#6334" class="Function">fromℕ</a> <a id="2682" href="Bracketing.html#2177" class="Bound">m</a><a id="2683" class="Symbol">)</a> <a id="2685" href="Bracketing.html#2187" class="Bound">e</a><a id="2686" class="Symbol">))</a> <a id="2689" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="2693" href="Bracketing.html#1221" class="Function">weight</a> <a id="2700" class="Symbol">(</a><a id="2701" href="Arrows.html#6355" class="Function">iterate</a> <a id="2709" class="Symbol">(</a><a id="2710" href="Z.html#6334" class="Function">fromℕ</a> <a id="2716" class="Symbol">(</a><a id="2717" href="Bracketing.html#2177" class="Bound">m</a> <a id="2719" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="2723" href="Bracketing.html#2184" class="Bound">n</a><a id="2724" class="Symbol">))</a> <a id="2727" href="Bracketing.html#2187" class="Bound">e</a><a id="2728" class="Symbol">)</a>             <a id="2742" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="2745" href="Z.html#5376" class="Function">ℤ.cong-+-r</a> <a id="2756" class="Symbol">(</a><a id="2757" href="Bracketing.html#1797" class="Function">height</a> <a id="2764" href="Bracketing.html#2177" class="Bound">m</a> <a id="2766" href="Bracketing.html#2187" class="Bound">e</a> <a id="2768" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="2772" href="Bracketing.html#1797" class="Function">height</a> <a id="2779" href="Bracketing.html#2184" class="Bound">n</a> <a id="2781" class="Symbol">(</a><a id="2782" href="Arrows.html#6355" class="Function">iterate</a> <a id="2790" class="Symbol">(</a><a id="2791" href="Z.html#6334" class="Function">fromℕ</a> <a id="2797" href="Bracketing.html#2177" class="Bound">m</a><a id="2798" class="Symbol">)</a> <a id="2800" href="Bracketing.html#2187" class="Bound">e</a><a id="2801" class="Symbol">))</a> <a id="2804" class="Symbol">(</a><a id="2805" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="2810" class="Symbol">(λ</a> <a id="2813" href="Bracketing.html#2813" class="Bound">k</a> <a id="2815" class="Symbol">→</a> <a id="2817" href="Bracketing.html#1221" class="Function">weight</a> <a id="2824" class="Symbol">(</a><a id="2825" href="Arrows.html#6355" class="Function">iterate</a> <a id="2833" href="Bracketing.html#2813" class="Bound">k</a> <a id="2835" href="Bracketing.html#2187" class="Bound">e</a><a id="2836" class="Symbol">))</a> <a id="2839" class="Symbol">(</a><a id="2840" href="Z.html#6413" class="Postulate">fromℕ-+</a> <a id="2848" href="Bracketing.html#2177" class="Bound">m</a> <a id="2850" href="Bracketing.html#2184" class="Bound">n</a><a id="2851" class="Symbol">))</a> <a id="2854" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
    <a id="2860" class="Symbol">(</a><a id="2861" href="Bracketing.html#1797" class="Function">height</a> <a id="2868" href="Bracketing.html#2177" class="Bound">m</a> <a id="2870" href="Bracketing.html#2187" class="Bound">e</a> <a id="2872" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="2876" href="Bracketing.html#1797" class="Function">height</a> <a id="2883" href="Bracketing.html#2184" class="Bound">n</a> <a id="2885" class="Symbol">(</a><a id="2886" href="Arrows.html#6355" class="Function">iterate</a> <a id="2894" class="Symbol">(</a><a id="2895" href="Z.html#6334" class="Function">fromℕ</a> <a id="2901" href="Bracketing.html#2177" class="Bound">m</a><a id="2902" class="Symbol">)</a> <a id="2904" href="Bracketing.html#2187" class="Bound">e</a><a id="2905" class="Symbol">))</a> <a id="2908" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="2912" href="Bracketing.html#1221" class="Function">weight</a> <a id="2919" class="Symbol">(</a><a id="2920" href="Arrows.html#6355" class="Function">iterate</a> <a id="2928" class="Symbol">(</a><a id="2929" href="Z.html#6334" class="Function">fromℕ</a> <a id="2935" href="Bracketing.html#2177" class="Bound">m</a> <a id="2937" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="2941" href="Z.html#6334" class="Function">fromℕ</a> <a id="2947" href="Bracketing.html#2184" class="Bound">n</a><a id="2948" class="Symbol">)</a> <a id="2950" href="Bracketing.html#2187" class="Bound">e</a><a id="2951" class="Symbol">)</a>         <a id="2961" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="2964" href="Z.html#5376" class="Function">ℤ.cong-+-r</a> <a id="2975" class="Symbol">(</a><a id="2976" href="Bracketing.html#1797" class="Function">height</a> <a id="2983" href="Bracketing.html#2177" class="Bound">m</a> <a id="2985" href="Bracketing.html#2187" class="Bound">e</a> <a id="2987" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="2991" href="Bracketing.html#1797" class="Function">height</a> <a id="2998" href="Bracketing.html#2184" class="Bound">n</a> <a id="3000" class="Symbol">(</a><a id="3001" href="Arrows.html#6355" class="Function">iterate</a> <a id="3009" class="Symbol">(</a><a id="3010" href="Z.html#6334" class="Function">fromℕ</a> <a id="3016" href="Bracketing.html#2177" class="Bound">m</a><a id="3017" class="Symbol">)</a> <a id="3019" href="Bracketing.html#2187" class="Bound">e</a><a id="3020" class="Symbol">))</a> <a id="3023" class="Symbol">(</a><a id="3024" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="3029" href="Bracketing.html#1221" class="Function">weight</a> <a id="3036" class="Symbol">(</a><a id="3037" href="Cubical.Foundations.Prelude.html#895" class="Function">sym</a> <a id="3041" class="Symbol">(</a><a id="3042" href="Arrows.html#6647" class="Function">iterate-+</a> <a id="3052" class="Symbol">(</a><a id="3053" href="Z.html#6334" class="Function">fromℕ</a> <a id="3059" href="Bracketing.html#2177" class="Bound">m</a><a id="3060" class="Symbol">)</a> <a id="3062" class="Symbol">(</a><a id="3063" href="Z.html#6334" class="Function">fromℕ</a> <a id="3069" href="Bracketing.html#2184" class="Bound">n</a><a id="3070" class="Symbol">)</a> <a id="3072" href="Bracketing.html#2187" class="Bound">e</a><a id="3073" class="Symbol">)))</a> <a id="3077" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
    <a id="3083" class="Symbol">(</a><a id="3084" href="Bracketing.html#1797" class="Function">height</a> <a id="3091" href="Bracketing.html#2177" class="Bound">m</a> <a id="3093" href="Bracketing.html#2187" class="Bound">e</a> <a id="3095" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="3099" href="Bracketing.html#1797" class="Function">height</a> <a id="3106" href="Bracketing.html#2184" class="Bound">n</a> <a id="3108" class="Symbol">(</a><a id="3109" href="Arrows.html#6355" class="Function">iterate</a> <a id="3117" class="Symbol">(</a><a id="3118" href="Z.html#6334" class="Function">fromℕ</a> <a id="3124" href="Bracketing.html#2177" class="Bound">m</a><a id="3125" class="Symbol">)</a> <a id="3127" href="Bracketing.html#2187" class="Bound">e</a><a id="3128" class="Symbol">))</a> <a id="3131" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="3135" href="Bracketing.html#1221" class="Function">weight</a> <a id="3142" class="Symbol">(</a><a id="3143" href="Arrows.html#6355" class="Function">iterate</a> <a id="3151" class="Symbol">(</a><a id="3152" href="Z.html#6334" class="Function">fromℕ</a> <a id="3158" href="Bracketing.html#2184" class="Bound">n</a><a id="3159" class="Symbol">)</a> <a id="3161" class="Symbol">(</a><a id="3162" href="Arrows.html#6355" class="Function">iterate</a> <a id="3170" class="Symbol">(</a><a id="3171" href="Z.html#6334" class="Function">fromℕ</a> <a id="3177" href="Bracketing.html#2177" class="Bound">m</a><a id="3178" class="Symbol">)</a> <a id="3180" href="Bracketing.html#2187" class="Bound">e</a><a id="3181" class="Symbol">))</a> <a id="3184" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="3187" href="Cubical.Foundations.Prelude.html#895" class="Function">sym</a> <a id="3191" class="Symbol">(</a><a id="3192" href="Z.html#4960" class="Postulate">ℤ.+-assoc</a> <a id="3202" class="Symbol">(</a><a id="3203" href="Bracketing.html#1797" class="Function">height</a> <a id="3210" href="Bracketing.html#2177" class="Bound">m</a> <a id="3212" href="Bracketing.html#2187" class="Bound">e</a><a id="3213" class="Symbol">)</a> <a id="3215" class="Symbol">_</a> <a id="3217" class="Symbol">_)</a> <a id="3220" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
    <a id="3226" href="Bracketing.html#1797" class="Function">height</a> <a id="3233" href="Bracketing.html#2177" class="Bound">m</a> <a id="3235" href="Bracketing.html#2187" class="Bound">e</a> <a id="3237" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="3241" class="Symbol">(</a><a id="3242" href="Bracketing.html#1797" class="Function">height</a> <a id="3249" href="Bracketing.html#2184" class="Bound">n</a> <a id="3251" class="Symbol">(</a><a id="3252" href="Arrows.html#6355" class="Function">iterate</a> <a id="3260" class="Symbol">(</a><a id="3261" href="Z.html#6334" class="Function">fromℕ</a> <a id="3267" href="Bracketing.html#2177" class="Bound">m</a><a id="3268" class="Symbol">)</a> <a id="3270" href="Bracketing.html#2187" class="Bound">e</a><a id="3271" class="Symbol">)</a> <a id="3273" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="3277" href="Bracketing.html#1221" class="Function">weight</a> <a id="3284" class="Symbol">(</a><a id="3285" href="Arrows.html#6355" class="Function">iterate</a> <a id="3293" class="Symbol">(</a><a id="3294" href="Z.html#6334" class="Function">fromℕ</a> <a id="3300" href="Bracketing.html#2184" class="Bound">n</a><a id="3301" class="Symbol">)</a> <a id="3303" class="Symbol">(</a><a id="3304" href="Arrows.html#6355" class="Function">iterate</a> <a id="3312" class="Symbol">(</a><a id="3313" href="Z.html#6334" class="Function">fromℕ</a> <a id="3319" href="Bracketing.html#2177" class="Bound">m</a><a id="3320" class="Symbol">)</a> <a id="3322" href="Bracketing.html#2187" class="Bound">e</a><a id="3323" class="Symbol">)))</a> <a id="3327" href="Cubical.Foundations.Prelude.html#5494" class="Function Operator">∎</a>

<a id="3330" class="Keyword">abstract</a>
  <a id="3341" class="Comment">-- the height of the opposite path</a>
  <a id="height-op"></a><a id="3378" href="Bracketing.html#3378" class="Function">height-op</a> <a id="3388" class="Symbol">:</a> <a id="3390" class="Symbol">(</a><a id="3391" href="Bracketing.html#3391" class="Bound">n</a> <a id="3393" class="Symbol">:</a> <a id="3395" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3396" class="Symbol">)</a> <a id="3398" class="Symbol">(</a><a id="3399" href="Bracketing.html#3399" class="Bound">e</a> <a id="3401" class="Symbol">:</a> <a id="3403" href="Arrows.html#1722" class="Function">Ends</a><a id="3407" class="Symbol">)</a> <a id="3409" class="Symbol">→</a> <a id="3411" href="Bracketing.html#1797" class="Function">height</a> <a id="3418" class="Symbol">(</a><a id="3419" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3423" href="Bracketing.html#3391" class="Bound">n</a><a id="3424" class="Symbol">)</a> <a id="3426" class="Symbol">(</a><a id="3427" href="Arrows.html#2390" class="Function">op</a> <a id="3430" class="Symbol">(</a><a id="3431" href="Arrows.html#6355" class="Function">iterate</a> <a id="3439" class="Symbol">(</a><a id="3440" href="Z.html#6334" class="Function">fromℕ</a> <a id="3446" href="Bracketing.html#3391" class="Bound">n</a><a id="3447" class="Symbol">)</a> <a id="3449" href="Bracketing.html#3399" class="Bound">e</a><a id="3450" class="Symbol">))</a> <a id="3453" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="3455" href="Z.html#5495" class="Function">ℤ.neg</a> <a id="3461" class="Symbol">(</a><a id="3462" href="Bracketing.html#1797" class="Function">height</a> <a id="3469" class="Symbol">(</a><a id="3470" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3474" href="Bracketing.html#3391" class="Bound">n</a><a id="3475" class="Symbol">)</a> <a id="3477" href="Bracketing.html#3399" class="Bound">e</a><a id="3478" class="Symbol">)</a>
  <a id="3482" href="Bracketing.html#3378" class="Function">height-op</a> <a id="3492" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">ℕ.zero</a> <a id="3499" href="Bracketing.html#3499" class="Bound">e</a> <a id="3501" class="Symbol">=</a> <a id="3503" href="Bracketing.html#1614" class="Function">weight-op</a> <a id="3513" href="Bracketing.html#3499" class="Bound">e</a>
  <a id="3517" href="Bracketing.html#3378" class="Function">height-op</a> <a id="3527" class="Symbol">(</a><a id="3528" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3532" href="Bracketing.html#3532" class="Bound">n</a><a id="3533" class="Symbol">)</a> <a id="3535" href="Bracketing.html#3535" class="Bound">e</a> <a id="3537" class="Symbol">=</a>
    <a id="3543" class="Keyword">let</a> <a id="3547" href="Bracketing.html#3547" class="Bound">N</a> <a id="3549" class="Symbol">=</a> <a id="3551" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3555" href="Bracketing.html#3532" class="Bound">n</a> <a id="3557" class="Keyword">in</a>
    <a id="3564" href="Bracketing.html#1797" class="Function">height</a> <a id="3571" class="Symbol">(</a><a id="3572" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3576" href="Bracketing.html#3547" class="Bound">N</a><a id="3577" class="Symbol">)</a> <a id="3579" class="Symbol">(</a><a id="3580" href="Arrows.html#2390" class="Function">op</a> <a id="3583" class="Symbol">(</a><a id="3584" href="Arrows.html#6355" class="Function">iterate</a> <a id="3592" class="Symbol">(</a><a id="3593" href="Z.html#6334" class="Function">fromℕ</a> <a id="3599" href="Bracketing.html#3547" class="Bound">N</a><a id="3600" class="Symbol">)</a> <a id="3602" href="Bracketing.html#3535" class="Bound">e</a><a id="3603" class="Symbol">))</a> <a id="3606" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="3609" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="3614" class="Symbol">(λ</a> <a id="3617" href="Bracketing.html#3617" class="Bound">k</a> <a id="3619" class="Symbol">→</a> <a id="3621" href="Bracketing.html#1797" class="Function">height</a> <a id="3628" href="Bracketing.html#3617" class="Bound">k</a> <a id="3630" class="Symbol">(</a><a id="3631" href="Arrows.html#2390" class="Function">op</a> <a id="3634" class="Symbol">(</a><a id="3635" href="Arrows.html#6355" class="Function">iterate</a> <a id="3643" class="Symbol">(</a><a id="3644" href="Z.html#6334" class="Function">fromℕ</a> <a id="3650" href="Bracketing.html#3547" class="Bound">N</a><a id="3651" class="Symbol">)</a> <a id="3653" href="Bracketing.html#3535" class="Bound">e</a><a id="3654" class="Symbol">)))</a> <a id="3658" class="Symbol">(</a><a id="3659" href="Cubical.Foundations.Prelude.html#895" class="Function">sym</a> <a id="3663" class="Symbol">(</a><a id="3664" href="Nat.html#256" class="Function">ℕ.+1-suc</a> <a id="3673" href="Bracketing.html#3547" class="Bound">N</a><a id="3674" class="Symbol">))</a> <a id="3677" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
    <a id="3683" href="Bracketing.html#1797" class="Function">height</a> <a id="3690" class="Symbol">(</a><a id="3691" href="Bracketing.html#3547" class="Bound">N</a> <a id="3693" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="3697" class="Number">1</a><a id="3698" class="Symbol">)</a> <a id="3700" class="Symbol">(</a><a id="3701" href="Arrows.html#2390" class="Function">op</a> <a id="3704" class="Symbol">(</a><a id="3705" href="Arrows.html#6355" class="Function">iterate</a> <a id="3713" class="Symbol">(</a><a id="3714" href="Z.html#6334" class="Function">fromℕ</a> <a id="3720" href="Bracketing.html#3547" class="Bound">N</a><a id="3721" class="Symbol">)</a> <a id="3723" href="Bracketing.html#3535" class="Bound">e</a><a id="3724" class="Symbol">))</a> <a id="3727" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="3730" href="Bracketing.html#1974" class="Function">height-+</a> <a id="3739" href="Bracketing.html#3547" class="Bound">N</a> <a id="3741" class="Number">1</a> <a id="3743" class="Symbol">(</a><a id="3744" href="Arrows.html#2390" class="Function">op</a> <a id="3747" class="Symbol">(</a><a id="3748" href="Arrows.html#6355" class="Function">iterate</a> <a id="3756" class="Symbol">(</a><a id="3757" href="Z.html#6334" class="Function">fromℕ</a> <a id="3763" href="Bracketing.html#3547" class="Bound">N</a><a id="3764" class="Symbol">)</a> <a id="3766" href="Bracketing.html#3535" class="Bound">e</a><a id="3767" class="Symbol">))</a> <a id="3770" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
    <a id="3776" href="Bracketing.html#1797" class="Function">height</a> <a id="3783" href="Bracketing.html#3547" class="Bound">N</a> <a id="3785" class="Symbol">(</a><a id="3786" href="Arrows.html#2390" class="Function">op</a> <a id="3789" class="Symbol">(</a><a id="3790" href="Arrows.html#6355" class="Function">iterate</a> <a id="3798" class="Symbol">(</a><a id="3799" href="Z.html#6334" class="Function">fromℕ</a> <a id="3805" href="Bracketing.html#3547" class="Bound">N</a><a id="3806" class="Symbol">)</a> <a id="3808" href="Bracketing.html#3535" class="Bound">e</a><a id="3809" class="Symbol">))</a> <a id="3812" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="3816" href="Bracketing.html#1797" class="Function">height</a> <a id="3823" class="Number">1</a> <a id="3825" class="Symbol">(</a><a id="3826" href="Arrows.html#6355" class="Function">iterate</a> <a id="3834" class="Symbol">(</a><a id="3835" href="Z.html#6334" class="Function">fromℕ</a> <a id="3841" href="Bracketing.html#3547" class="Bound">N</a><a id="3842" class="Symbol">)</a> <a id="3844" class="Symbol">(</a><a id="3845" href="Arrows.html#2390" class="Function">op</a> <a id="3848" class="Symbol">(</a><a id="3849" href="Arrows.html#6355" class="Function">iterate</a> <a id="3857" class="Symbol">(</a><a id="3858" href="Z.html#6334" class="Function">fromℕ</a> <a id="3864" href="Bracketing.html#3547" class="Bound">N</a><a id="3865" class="Symbol">)</a> <a id="3867" href="Bracketing.html#3535" class="Bound">e</a><a id="3868" class="Symbol">)))</a> <a id="3872" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="3875" href="Cubical.Foundations.Prelude.html#858" class="Function">refl</a> <a id="3880" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
    <a id="3886" href="Bracketing.html#1797" class="Function">height</a> <a id="3893" href="Bracketing.html#3547" class="Bound">N</a> <a id="3895" class="Symbol">(</a><a id="3896" href="Arrows.html#2390" class="Function">op</a> <a id="3899" class="Symbol">(</a><a id="3900" href="Arrows.html#6355" class="Function">iterate</a> <a id="3908" class="Symbol">(</a><a id="3909" href="Z.html#6334" class="Function">fromℕ</a> <a id="3915" class="Symbol">(</a><a id="3916" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3920" href="Bracketing.html#3532" class="Bound">n</a><a id="3921" class="Symbol">))</a> <a id="3924" href="Bracketing.html#3535" class="Bound">e</a><a id="3925" class="Symbol">))</a> <a id="3928" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="3932" href="Bracketing.html#1221" class="Function">weight</a> <a id="3939" class="Symbol">(</a><a id="3940" href="Arrows.html#6355" class="Function">iterate</a> <a id="3948" class="Symbol">(</a><a id="3949" href="Z.html#6334" class="Function">fromℕ</a> <a id="3955" href="Bracketing.html#3547" class="Bound">N</a><a id="3956" class="Symbol">)</a> <a id="3958" class="Symbol">(</a><a id="3959" href="Arrows.html#2390" class="Function">op</a> <a id="3962" class="Symbol">(</a><a id="3963" href="Arrows.html#6355" class="Function">iterate</a> <a id="3971" class="Symbol">(</a><a id="3972" href="Z.html#6334" class="Function">fromℕ</a> <a id="3978" href="Bracketing.html#3547" class="Bound">N</a><a id="3979" class="Symbol">)</a> <a id="3981" href="Bracketing.html#3535" class="Bound">e</a><a id="3982" class="Symbol">)))</a> <a id="3986" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="3989" class="Symbol">{!!}</a> <a id="3994" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a> <a id="3996" class="Comment">-- TODO</a>

    <a id="4009" href="Bracketing.html#1797" class="Function">height</a> <a id="4016" href="Bracketing.html#3547" class="Bound">N</a> <a id="4018" class="Symbol">(</a><a id="4019" href="Arrows.html#2390" class="Function">op</a> <a id="4022" class="Symbol">(</a><a id="4023" href="Arrows.html#6355" class="Function">iterate</a> <a id="4031" class="Symbol">(</a><a id="4032" href="Z.html#6334" class="Function">fromℕ</a> <a id="4038" href="Bracketing.html#3532" class="Bound">n</a><a id="4039" class="Symbol">)</a> <a id="4041" href="Bracketing.html#3535" class="Bound">e</a><a id="4042" class="Symbol">))</a> <a id="4045" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="4049" href="Bracketing.html#1221" class="Function">weight</a> <a id="4056" class="Symbol">(</a><a id="4057" href="Arrows.html#2390" class="Function">op</a> <a id="4060" class="Symbol">(</a><a id="4061" href="Arrows.html#6355" class="Function">iterate</a> <a id="4069" class="Symbol">(</a><a id="4070" href="Z.html#6334" class="Function">fromℕ</a> <a id="4076" href="Bracketing.html#3547" class="Bound">N</a><a id="4077" class="Symbol">)</a> <a id="4079" href="Bracketing.html#3535" class="Bound">e</a><a id="4080" class="Symbol">))</a> <a id="4083" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="4086" href="Cubical.Foundations.Prelude.html#1165" class="Function">cong₂</a> <a id="4092" href="Z.html#4758" class="Function Operator">ℤ._+_</a> <a id="4098" class="Symbol">(</a><a id="4099" href="Bracketing.html#3378" class="Function">height-op</a> <a id="4109" href="Bracketing.html#3532" class="Bound">n</a> <a id="4111" href="Bracketing.html#3535" class="Bound">e</a><a id="4112" class="Symbol">)</a> <a id="4114" class="Symbol">(</a><a id="4115" href="Bracketing.html#1614" class="Function">weight-op</a> <a id="4125" class="Symbol">(</a><a id="4126" href="Arrows.html#6355" class="Function">iterate</a> <a id="4134" class="Symbol">(</a><a id="4135" href="Z.html#6334" class="Function">fromℕ</a> <a id="4141" href="Bracketing.html#3547" class="Bound">N</a><a id="4142" class="Symbol">)</a> <a id="4144" href="Bracketing.html#3535" class="Bound">e</a><a id="4145" class="Symbol">))</a> <a id="4148" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
    <a id="4154" href="Z.html#5495" class="Function">ℤ.neg</a> <a id="4160" class="Symbol">(</a><a id="4161" href="Bracketing.html#1797" class="Function">height</a> <a id="4168" href="Bracketing.html#3547" class="Bound">N</a> <a id="4170" href="Bracketing.html#3535" class="Bound">e</a><a id="4171" class="Symbol">)</a> <a id="4173" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="4177" href="Z.html#5495" class="Function">ℤ.neg</a> <a id="4183" class="Symbol">(</a><a id="4184" href="Bracketing.html#1221" class="Function">weight</a> <a id="4191" class="Symbol">(</a><a id="4192" href="Arrows.html#6355" class="Function">iterate</a> <a id="4200" class="Symbol">(</a><a id="4201" href="Z.html#6334" class="Function">fromℕ</a> <a id="4207" href="Bracketing.html#3547" class="Bound">N</a><a id="4208" class="Symbol">)</a> <a id="4210" href="Bracketing.html#3535" class="Bound">e</a><a id="4211" class="Symbol">))</a>               <a id="4228" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="4231" href="Cubical.Foundations.Prelude.html#895" class="Function">sym</a> <a id="4235" class="Symbol">(</a><a id="4236" href="Z.html#5822" class="Postulate">neg-+</a> <a id="4242" class="Symbol">(</a><a id="4243" href="Bracketing.html#1797" class="Function">height</a> <a id="4250" href="Bracketing.html#3547" class="Bound">N</a> <a id="4252" href="Bracketing.html#3535" class="Bound">e</a><a id="4253" class="Symbol">)</a> <a id="4255" class="Symbol">_)</a> <a id="4258" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
    <a id="4264" href="Z.html#5495" class="Function">ℤ.neg</a> <a id="4270" class="Symbol">(</a><a id="4271" href="Bracketing.html#1797" class="Function">height</a> <a id="4278" href="Bracketing.html#3547" class="Bound">N</a> <a id="4280" href="Bracketing.html#3535" class="Bound">e</a> <a id="4282" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="4286" href="Bracketing.html#1221" class="Function">weight</a> <a id="4293" class="Symbol">(</a><a id="4294" href="Arrows.html#6355" class="Function">iterate</a> <a id="4302" class="Symbol">(</a><a id="4303" href="Z.html#6334" class="Function">fromℕ</a> <a id="4309" href="Bracketing.html#3547" class="Bound">N</a><a id="4310" class="Symbol">)</a> <a id="4312" href="Bracketing.html#3535" class="Bound">e</a><a id="4313" class="Symbol">))</a>                       <a id="4338" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="4341" href="Cubical.Foundations.Prelude.html#858" class="Function">refl</a> <a id="4346" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
    <a id="4352" href="Z.html#5495" class="Function">ℤ.neg</a> <a id="4358" class="Symbol">(</a><a id="4359" href="Bracketing.html#1797" class="Function">height</a> <a id="4366" class="Symbol">(</a><a id="4367" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="4371" href="Bracketing.html#3547" class="Bound">N</a><a id="4372" class="Symbol">)</a> <a id="4374" href="Bracketing.html#3535" class="Bound">e</a><a id="4375" class="Symbol">)</a>                                                  <a id="4426" href="Cubical.Foundations.Prelude.html#5494" class="Function Operator">∎</a>

<a id="4429" class="Comment">-- height-iterate : (x : Ends) → (n : ℕ) → fst (height n x) ℕ.+ snd (height n x) ≡ suc n</a>
<a id="4518" class="Comment">-- height-iterate x ℕ.zero = weight-one x</a>
<a id="4560" class="Comment">-- height-iterate x (suc n) =</a>
 <a id="4591" class="Comment">-- -- TODO: simple arithmetic</a>
 <a id="4622" class="Comment">-- fst (height n x ℤ.+ weight (next (iterate (fromℕ n) x))) ℕ.+ snd (height n x ℤ.+ weight (next (iterate (fromℕ n) x))) ≡⟨ {!!} ⟩</a>
 <a id="4754" class="Comment">-- (fst (height n x) ℕ.+ fst (weight (next (iterate (fromℕ n) x)))) ℕ.+ (snd (height n x) ℕ.+ snd (weight (next (iterate (fromℕ n) x)))) ≡⟨ {!!} ⟩</a>
 <a id="4902" class="Comment">-- suc (suc n) ∎</a>

<a id="4920" class="Comment">-- an arrow admits a matching arrow</a>
<a id="matched"></a><a id="4956" href="Bracketing.html#4956" class="Function">matched</a> <a id="4964" class="Symbol">:</a> <a id="4966" href="Arrows.html#1264" class="Function">Arrows</a> <a id="4973" class="Symbol">→</a> <a id="4975" href="Cubical.Core.Primitives.html#1310" class="Function">Type₀</a>
<a id="4981" href="Bracketing.html#4956" class="Function">matched</a> <a id="4989" href="Bracketing.html#4989" class="Bound">x</a> <a id="4991" class="Symbol">=</a> <a id="4993" href="Agda.Builtin.Sigma.html#166" class="Record">Σ</a> <a id="4995" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="4997" class="Symbol">(λ</a> <a id="5000" href="Bracketing.html#5000" class="Bound">n</a> <a id="5002" class="Symbol">→</a>
  <a id="5006" class="Comment">-- we take suc n to avoid considering the empty path as a match</a>
  <a id="5072" class="Symbol">(</a><a id="5073" href="Bracketing.html#1797" class="Function">height</a> <a id="5080" class="Symbol">(</a><a id="5081" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="5085" href="Bracketing.html#5000" class="Bound">n</a><a id="5086" class="Symbol">)</a> <a id="5088" class="Symbol">(</a><a id="5089" href="Arrows.html#2891" class="Function">fw</a> <a id="5092" href="Bracketing.html#4989" class="Bound">x</a><a id="5093" class="Symbol">)</a> <a id="5095" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="5097" href="Z.html#469" class="InductiveConstructor">ℤ.zero</a><a id="5103" class="Symbol">)</a> <a id="5105" href="Cubical.Data.Sigma.Base.html#195" class="Function Operator">×</a>
  <a id="5109" class="Symbol">((</a><a id="5111" href="Bracketing.html#5111" class="Bound">k</a> <a id="5113" class="Symbol">:</a> <a id="5115" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="5116" class="Symbol">)</a> <a id="5118" class="Symbol">→</a> <a id="5120" href="Bracketing.html#5111" class="Bound">k</a> <a id="5122" href="Cubical.Data.Nat.Order.html#536" class="Function Operator">&lt;</a> <a id="5124" class="Symbol">(</a><a id="5125" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="5129" href="Bracketing.html#5000" class="Bound">n</a><a id="5130" class="Symbol">)</a> <a id="5132" class="Symbol">→</a> <a id="5134" href="Cubical.Relation.Nullary.html#226" class="Function Operator">¬</a> <a id="5136" class="Symbol">(</a><a id="5137" href="Bracketing.html#1797" class="Function">height</a> <a id="5144" href="Bracketing.html#5111" class="Bound">k</a> <a id="5146" class="Symbol">(</a><a id="5147" href="Arrows.html#2891" class="Function">fw</a> <a id="5150" href="Bracketing.html#4989" class="Bound">x</a><a id="5151" class="Symbol">)</a> <a id="5153" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="5155" href="Z.html#469" class="InductiveConstructor">ℤ.zero</a><a id="5161" class="Symbol">))</a>
  <a id="5166" class="Symbol">)</a>

<a id="matched-isProp"></a><a id="5169" href="Bracketing.html#5169" class="Function">matched-isProp</a> <a id="5184" class="Symbol">:</a> <a id="5186" class="Symbol">(</a><a id="5187" href="Bracketing.html#5187" class="Bound">x</a> <a id="5189" class="Symbol">:</a> <a id="5191" href="Arrows.html#1264" class="Function">Arrows</a><a id="5197" class="Symbol">)</a> <a id="5199" class="Symbol">→</a> <a id="5201" href="Cubical.Foundations.Prelude.html#7913" class="Function">isProp</a> <a id="5208" class="Symbol">(</a><a id="5209" href="Bracketing.html#4956" class="Function">matched</a> <a id="5217" href="Bracketing.html#5187" class="Bound">x</a><a id="5218" class="Symbol">)</a>
<a id="5220" href="Bracketing.html#5169" class="Function">matched-isProp</a> <a id="5235" href="Bracketing.html#5235" class="Bound">x</a> <a id="5237" class="Symbol">(</a><a id="5238" href="Bracketing.html#5238" class="Bound">n</a> <a id="5240" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5242" href="Bracketing.html#5242" class="Bound">z</a> <a id="5244" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5246" href="Bracketing.html#5246" class="Bound">p</a><a id="5247" class="Symbol">)</a> <a id="5249" class="Symbol">(</a><a id="5250" href="Bracketing.html#5250" class="Bound">n&#39;</a> <a id="5253" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5255" href="Bracketing.html#5255" class="Bound">z&#39;</a> <a id="5258" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5260" href="Bracketing.html#5260" class="Bound">p&#39;</a><a id="5262" class="Symbol">)</a> <a id="5264" class="Symbol">=</a> <a id="5266" href="Cubical.Data.Sigma.Properties.html#1061" class="Function">ΣPathP</a> <a id="5273" class="Symbol">(</a><a id="5274" href="Bracketing.html#5362" class="Function">n≡n&#39;</a> <a id="5279" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5281" href="Cubical.Foundations.Prelude.html#7512" class="Function">toPathP</a> <a id="5289" class="Symbol">(</a><a id="5290" href="Cubical.Data.Sigma.Properties.html#1061" class="Function">ΣPathP</a> <a id="5297" class="Symbol">(</a><a id="5298" href="Z.html#4573" class="Function">ℤ-isSet</a> <a id="5306" class="Symbol">_</a> <a id="5308" class="Symbol">_</a> <a id="5310" class="Symbol">_</a> <a id="5312" class="Symbol">_</a> <a id="5314" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5316" href="Cubical.Foundations.HLevels.html#10086" class="Function">isPropΠ3</a> <a id="5325" class="Symbol">(λ</a> <a id="5328" href="Bracketing.html#5328" class="Bound">_</a> <a id="5330" href="Bracketing.html#5330" class="Bound">_</a> <a id="5332" href="Bracketing.html#5332" class="Bound">_</a> <a id="5334" class="Symbol">→</a> <a id="5336" href="Cubical.Data.Empty.Properties.html#193" class="Function">isProp⊥</a><a id="5343" class="Symbol">)</a> <a id="5345" class="Symbol">_</a> <a id="5347" class="Symbol">_)))</a>
  <a id="5354" class="Keyword">where</a>
  <a id="5362" href="Bracketing.html#5362" class="Function">n≡n&#39;</a> <a id="5367" class="Symbol">:</a> <a id="5369" href="Bracketing.html#5238" class="Bound">n</a> <a id="5371" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="5373" href="Bracketing.html#5250" class="Bound">n&#39;</a>
  <a id="5378" href="Bracketing.html#5362" class="Function">n≡n&#39;</a> <a id="5383" class="Keyword">with</a> <a id="5388" href="Bracketing.html#5238" class="Bound">n</a> <a id="5390" href="Cubical.Data.Nat.Order.html#3721" class="Function Operator">≟</a> <a id="5392" href="Bracketing.html#5250" class="Bound">n&#39;</a>
  <a id="5397" class="Symbol">...</a> <a id="5401" class="Symbol">|</a> <a id="5403" href="Cubical.Data.Nat.Order.html#617" class="InductiveConstructor">lt</a> <a id="5406" href="Bracketing.html#5406" class="Bound">n&lt;n&#39;</a> <a id="5411" class="Symbol">=</a> <a id="5413" href="Cubical.Data.Empty.Base.html#172" class="Function">⊥.elim</a> <a id="5420" class="Symbol">(</a><a id="5421" href="Bracketing.html#5260" class="Bound">p&#39;</a> <a id="5424" class="Symbol">(</a><a id="5425" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="5429" href="Bracketing.html#5238" class="Bound">n</a><a id="5430" class="Symbol">)</a> <a id="5432" class="Symbol">(</a><a id="5433" href="Cubical.Data.Nat.Order.html#1028" class="Function">suc-≤-suc</a> <a id="5443" href="Bracketing.html#5406" class="Bound">n&lt;n&#39;</a><a id="5447" class="Symbol">)</a> <a id="5449" href="Bracketing.html#5242" class="Bound">z</a><a id="5450" class="Symbol">)</a>
  <a id="5454" class="Symbol">...</a> <a id="5458" class="Symbol">|</a> <a id="5460" href="Cubical.Data.Nat.Order.html#647" class="InductiveConstructor">eq</a> <a id="5463" href="Bracketing.html#5463" class="Bound">n≡n&#39;</a> <a id="5468" class="Symbol">=</a> <a id="5470" href="Bracketing.html#5463" class="Bound">n≡n&#39;</a>
  <a id="5477" class="Symbol">...</a> <a id="5481" class="Symbol">|</a> <a id="5483" href="Cubical.Data.Nat.Order.html#677" class="InductiveConstructor">gt</a> <a id="5486" href="Bracketing.html#5486" class="Bound">n&#39;&lt;n</a> <a id="5491" class="Symbol">=</a> <a id="5493" href="Cubical.Data.Empty.Base.html#172" class="Function">⊥.elim</a> <a id="5500" class="Symbol">(</a><a id="5501" href="Bracketing.html#5246" class="Bound">p</a> <a id="5503" class="Symbol">(</a><a id="5504" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="5508" href="Bracketing.html#5250" class="Bound">n&#39;</a><a id="5510" class="Symbol">)</a> <a id="5512" class="Symbol">(</a><a id="5513" href="Cubical.Data.Nat.Order.html#1028" class="Function">suc-≤-suc</a> <a id="5523" href="Bracketing.html#5486" class="Bound">n&#39;&lt;n</a><a id="5527" class="Symbol">)</a> <a id="5529" href="Bracketing.html#5255" class="Bound">z&#39;</a><a id="5531" class="Symbol">)</a>

<a id="5534" class="Comment">-- matching end</a>
<a id="match-end"></a><a id="5550" href="Bracketing.html#5550" class="Function">match-end</a> <a id="5560" class="Symbol">:</a> <a id="5562" class="Symbol">{</a><a id="5563" href="Bracketing.html#5563" class="Bound">a</a> <a id="5565" class="Symbol">:</a> <a id="5567" href="Arrows.html#1264" class="Function">Arrows</a><a id="5573" class="Symbol">}</a> <a id="5575" class="Symbol">→</a> <a id="5577" href="Bracketing.html#4956" class="Function">matched</a> <a id="5585" href="Bracketing.html#5563" class="Bound">a</a> <a id="5587" class="Symbol">→</a> <a id="5589" href="Arrows.html#1722" class="Function">Ends</a>
<a id="5594" href="Bracketing.html#5550" class="Function">match-end</a> <a id="5604" class="Symbol">{</a><a id="5605" href="Bracketing.html#5605" class="Bound">a</a><a id="5606" class="Symbol">}</a> <a id="5608" href="Bracketing.html#5608" class="Bound">m</a> <a id="5610" class="Symbol">=</a> <a id="5612" href="Arrows.html#6355" class="Function">iterate</a> <a id="5620" class="Symbol">(</a><a id="5621" href="Z.html#6334" class="Function">fromℕ</a> <a id="5627" class="Symbol">(</a><a id="5628" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="5632" href="Bracketing.html#5608" class="Bound">m</a><a id="5633" class="Symbol">))</a> <a id="5636" class="Symbol">(</a><a id="5637" href="Arrows.html#2891" class="Function">fw</a> <a id="5640" href="Bracketing.html#5605" class="Bound">a</a><a id="5641" class="Symbol">)</a>

<a id="5644" class="Comment">-- matching arrow</a>
<a id="match"></a><a id="5662" href="Bracketing.html#5662" class="Function">match</a> <a id="5668" class="Symbol">:</a> <a id="5670" class="Symbol">{</a><a id="5671" href="Bracketing.html#5671" class="Bound">a</a> <a id="5673" class="Symbol">:</a> <a id="5675" href="Arrows.html#1264" class="Function">Arrows</a><a id="5681" class="Symbol">}</a> <a id="5683" class="Symbol">→</a> <a id="5685" href="Bracketing.html#4956" class="Function">matched</a> <a id="5693" href="Bracketing.html#5671" class="Bound">a</a> <a id="5695" class="Symbol">→</a> <a id="5697" href="Arrows.html#1264" class="Function">Arrows</a>
<a id="5704" href="Bracketing.html#5662" class="Function">match</a> <a id="5710" href="Bracketing.html#5710" class="Bound">m</a> <a id="5712" class="Symbol">=</a> <a id="5714" href="Arrows.html#2197" class="Function">arrow</a> <a id="5720" class="Symbol">(</a><a id="5721" href="Bracketing.html#5550" class="Function">match-end</a> <a id="5731" href="Bracketing.html#5710" class="Bound">m</a><a id="5732" class="Symbol">)</a>

<a id="5735" class="Comment">-- the matching arrow is reachable-arr</a>
<a id="match-reachable-arr"></a><a id="5774" href="Bracketing.html#5774" class="Function">match-reachable-arr</a> <a id="5794" class="Symbol">:</a> <a id="5796" class="Symbol">{</a><a id="5797" href="Bracketing.html#5797" class="Bound">a</a> <a id="5799" class="Symbol">:</a> <a id="5801" href="Arrows.html#1264" class="Function">Arrows</a><a id="5807" class="Symbol">}</a> <a id="5809" class="Symbol">(</a><a id="5810" href="Bracketing.html#5810" class="Bound">m</a> <a id="5812" class="Symbol">:</a> <a id="5814" href="Bracketing.html#4956" class="Function">matched</a> <a id="5822" href="Bracketing.html#5797" class="Bound">a</a><a id="5823" class="Symbol">)</a> <a id="5825" class="Symbol">→</a> <a id="5827" href="Arrows.html#10287" class="Function">reachable-arr</a> <a id="5841" href="Bracketing.html#5797" class="Bound">a</a> <a id="5843" class="Symbol">(</a><a id="5844" href="Bracketing.html#5662" class="Function">match</a> <a id="5850" href="Bracketing.html#5810" class="Bound">m</a><a id="5851" class="Symbol">)</a>
<a id="5853" href="Bracketing.html#5774" class="Function">match-reachable-arr</a> <a id="5873" href="Bracketing.html#5873" class="Bound">m</a> <a id="5875" class="Symbol">=</a> <a id="5877" href="Z.html#6334" class="Function">fromℕ</a> <a id="5883" class="Symbol">(</a><a id="5884" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="5888" href="Bracketing.html#5873" class="Bound">m</a><a id="5889" class="Symbol">)</a> <a id="5891" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5893" href="Cubical.Foundations.Prelude.html#858" class="Function">refl</a>

<a id="match-above"></a><a id="5899" href="Bracketing.html#5899" class="Function">match-above</a> <a id="5911" class="Symbol">:</a> <a id="5913" class="Symbol">{</a><a id="5914" href="Bracketing.html#5914" class="Bound">a</a> <a id="5916" class="Symbol">:</a> <a id="5918" href="Arrows.html#1264" class="Function">Arrows</a><a id="5924" class="Symbol">}</a> <a id="5926" class="Symbol">(</a><a id="5927" href="Bracketing.html#5927" class="Bound">m</a> <a id="5929" class="Symbol">:</a> <a id="5931" href="Bracketing.html#4956" class="Function">matched</a> <a id="5939" href="Bracketing.html#5914" class="Bound">a</a><a id="5940" class="Symbol">)</a> <a id="5942" class="Symbol">(</a><a id="5943" href="Bracketing.html#5943" class="Bound">n</a> <a id="5945" class="Symbol">:</a> <a id="5947" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="5948" class="Symbol">)</a> <a id="5950" class="Symbol">→</a> <a id="5952" href="Bracketing.html#5943" class="Bound">n</a> <a id="5954" href="Cubical.Data.Nat.Order.html#536" class="Function Operator">&lt;</a> <a id="5956" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="5960" href="Bracketing.html#5927" class="Bound">m</a> <a id="5962" class="Symbol">→</a> <a id="5964" href="Bracketing.html#1797" class="Function">height</a> <a id="5971" class="Symbol">(</a><a id="5972" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="5976" href="Bracketing.html#5943" class="Bound">n</a><a id="5977" class="Symbol">)</a> <a id="5979" class="Symbol">(</a><a id="5980" href="Arrows.html#2891" class="Function">fw</a> <a id="5983" href="Bracketing.html#5914" class="Bound">a</a><a id="5984" class="Symbol">)</a> <a id="5986" href="Z.html#10940" class="Function Operator">&gt;</a> <a id="5988" href="Z.html#469" class="InductiveConstructor">ℤ.zero</a>
<a id="5995" href="Bracketing.html#5899" class="Function">match-above</a> <a id="6007" href="Bracketing.html#6007" class="Bound">m</a> <a id="6009" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a> <a id="6014" href="Bracketing.html#6014" class="Bound">n&lt;m</a> <a id="6018" class="Symbol">=</a> <a id="6020" href="Z.html#10975" class="Function">0&lt;1</a>
<a id="6024" href="Bracketing.html#5899" class="Function">match-above</a> <a id="6036" class="Symbol">{</a><a id="6037" href="Bracketing.html#6037" class="Bound">a</a><a id="6038" class="Symbol">}</a> <a id="6040" href="Bracketing.html#6040" class="Bound">m</a> <a id="6042" class="Symbol">(</a><a id="6043" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="6047" href="Bracketing.html#6047" class="Bound">n</a><a id="6048" class="Symbol">)</a> <a id="6050" href="Bracketing.html#6050" class="Bound">n&lt;m</a> <a id="6054" class="Keyword">with</a> <a id="6059" href="Arrows.html#3118" class="Function">next</a> <a id="6064" class="Symbol">(</a><a id="6065" href="Arrows.html#6355" class="Function">iterate</a> <a id="6073" class="Symbol">(</a><a id="6074" href="Z.html#6334" class="Function">fromℕ</a> <a id="6080" href="Bracketing.html#6047" class="Bound">n</a><a id="6081" class="Symbol">)</a> <a id="6083" class="Symbol">(</a><a id="6084" href="Arrows.html#2891" class="Function">fw</a> <a id="6087" href="Bracketing.html#6037" class="Bound">a</a><a id="6088" class="Symbol">))</a>
<a id="6091" class="Symbol">...</a> <a id="6095" class="Symbol">|</a> <a id="6097" class="Symbol">_</a> <a id="6099" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6101" href="Ends.html#390" class="InductiveConstructor">src</a> <a id="6105" class="Symbol">=</a> <a id="6107" href="Z.html#11218" class="Function">ℤ.≤-trans</a> <a id="6117" class="Symbol">(</a><a id="6118" href="Bracketing.html#5899" class="Function">match-above</a> <a id="6130" class="Bound">m</a> <a id="6132" class="Bound">n</a> <a id="6134" class="Symbol">(</a><a id="6135" href="Cubical.Data.Nat.Order.html#3399" class="Function">&lt;-trans</a> <a id="6143" href="Cubical.Data.Nat.Order.html#1425" class="Function">ℕ.≤-refl</a> <a id="6152" class="Bound">n&lt;m</a><a id="6155" class="Symbol">))</a> <a id="6158" class="Symbol">(</a><a id="6159" href="Z.html#11218" class="Function">ℤ.≤-trans</a> <a id="6169" class="Symbol">(</a><a id="6170" href="Z.html#11793" class="Function">ℤ.≤-suc</a> <a id="6178" href="Z.html#11008" class="Function">ℤ.≤-refl</a><a id="6186" class="Symbol">)</a> <a id="6188" class="Symbol">(</a><a id="6189" href="Z.html#11134" class="Function">≤-path</a> <a id="6196" class="Symbol">(</a><a id="6197" href="Cubical.Foundations.Prelude.html#895" class="Function">sym</a> <a id="6201" class="Symbol">(</a><a id="6202" href="Z.html#5264" class="Postulate">ℤ.+1-suc</a> <a id="6211" class="Symbol">_))))</a>
<a id="6217" class="Symbol">...</a> <a id="6221" class="Symbol">|</a> <a id="6223" class="Symbol">_</a> <a id="6225" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6227" href="Ends.html#402" class="InductiveConstructor">tgt</a> <a id="6231" class="Keyword">with</a> <a id="6236" class="Symbol">(</a><a id="6237" href="Bracketing.html#1797" class="Function">height</a> <a id="6244" class="Bound">n</a> <a id="6246" class="Symbol">(</a><a id="6247" href="Arrows.html#2891" class="Function">fw</a> <a id="6250" class="Bound">a</a><a id="6251" class="Symbol">)</a> <a id="6253" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="6257" href="Bracketing.html#1221" class="Function">weight</a> <a id="6264" class="Symbol">(</a><a id="6265" href="Arrows.html#6355" class="Function">iterate</a> <a id="6273" class="Symbol">(</a><a id="6274" href="Z.html#6334" class="Function">fromℕ</a> <a id="6280" class="Bound">n</a><a id="6281" class="Symbol">)</a> <a id="6283" class="Symbol">(</a><a id="6284" href="Arrows.html#2891" class="Function">fw</a> <a id="6287" class="Bound">a</a><a id="6288" class="Symbol">)))</a> <a id="6292" href="Z.html#12196" class="Postulate Operator">ℤ.≟</a> <a id="6296" href="Z.html#647" class="Function">ℤ.one</a>
<a id="6302" class="Symbol">...</a> <a id="6306" class="Symbol">|</a> <a id="6308" href="Z.html#12095" class="InductiveConstructor">lt</a> <a id="6311" href="Bracketing.html#6311" class="Bound">h&lt;1</a> <a id="6315" class="Symbol">=</a> <a id="6317" class="Symbol">{!!}</a> <a id="6322" class="Comment">-- impossible because the previous height would have to be negative too</a>
<a id="6394" class="Symbol">...</a> <a id="6398" class="Symbol">|</a> <a id="6400" href="Z.html#12125" class="InductiveConstructor">eq</a> <a id="6403" href="Bracketing.html#6403" class="Bound">h≡1</a> <a id="6407" class="Symbol">=</a> <a id="6409" href="Cubical.Data.Empty.Base.html#172" class="Function">⊥.elim</a> <a id="6416" class="Symbol">(</a><a id="6417" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="6421" class="Symbol">(</a><a id="6422" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="6426" class="Bound">m</a><a id="6427" class="Symbol">)</a> <a id="6429" class="Symbol">(</a><a id="6430" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="6434" class="Bound">n</a><a id="6435" class="Symbol">)</a> <a id="6437" class="Symbol">{!!}</a> <a id="6442" class="Symbol">{!!})</a> <a id="6448" class="Comment">-- impossible because the resulting height is zero</a>
<a id="6499" class="Symbol">...</a> <a id="6503" class="Symbol">|</a> <a id="6505" href="Z.html#12155" class="InductiveConstructor">gt</a> <a id="6508" href="Bracketing.html#6508" class="Bound">h&gt;1</a> <a id="6512" class="Symbol">=</a> <a id="6514" class="Symbol">{!!}</a> <a id="6519" class="Comment">-- fine</a>
  <a id="6529" class="Keyword">where</a>
  <a id="6537" href="Bracketing.html#6537" class="Function">ind</a> <a id="6541" class="Symbol">=</a> <a id="6543" href="Bracketing.html#5899" class="Function">match-above</a> <a id="6555" class="Bound">m</a> <a id="6557" class="Bound">n</a> <a id="6559" class="Symbol">(</a><a id="6560" href="Cubical.Data.Nat.Order.html#3399" class="Function">&lt;-trans</a> <a id="6568" href="Cubical.Data.Nat.Order.html#1425" class="Function">ℕ.≤-refl</a> <a id="6577" class="Bound">n&lt;m</a><a id="6580" class="Symbol">)</a>

<a id="6583" class="Comment">-- the matching arrow is closing</a>
<a id="match-closing"></a><a id="6616" href="Bracketing.html#6616" class="Function">match-closing</a> <a id="6630" class="Symbol">:</a> <a id="6632" class="Symbol">{</a><a id="6633" href="Bracketing.html#6633" class="Bound">a</a> <a id="6635" class="Symbol">:</a> <a id="6637" href="Arrows.html#1264" class="Function">Arrows</a><a id="6643" class="Symbol">}</a> <a id="6645" class="Symbol">(</a><a id="6646" href="Bracketing.html#6646" class="Bound">m</a> <a id="6648" class="Symbol">:</a> <a id="6650" href="Bracketing.html#4956" class="Function">matched</a> <a id="6658" href="Bracketing.html#6633" class="Bound">a</a><a id="6659" class="Symbol">)</a> <a id="6661" class="Symbol">→</a> <a id="6663" href="Bracketing.html#5550" class="Function">match-end</a> <a id="6673" href="Bracketing.html#6646" class="Bound">m</a> <a id="6675" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="6677" href="Arrows.html#3001" class="Function">bw</a> <a id="6680" class="Symbol">(</a><a id="6681" href="Bracketing.html#5662" class="Function">match</a> <a id="6687" href="Bracketing.html#6646" class="Bound">m</a><a id="6688" class="Symbol">)</a>
<a id="6690" href="Bracketing.html#6616" class="Function">match-closing</a> <a id="6704" class="Symbol">{</a><a id="6705" href="Bracketing.html#6705" class="Bound">a</a><a id="6706" class="Symbol">}</a> <a id="6708" href="Bracketing.html#6708" class="Bound">m</a><a id="6709" class="Symbol">@(</a><a id="6711" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">ℕ.zero</a> <a id="6718" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6720" href="Bracketing.html#6720" class="Bound">z</a> <a id="6722" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6724" href="Bracketing.html#6724" class="Bound">¬z</a><a id="6726" class="Symbol">)</a> <a id="6728" class="Symbol">=</a>
  <a id="6732" class="Comment">-- when n=0 the weight is 1 and thus we cannot have a match</a>
  <a id="6794" href="Cubical.Data.Empty.Base.html#172" class="Function">⊥.elim</a> <a id="6801" class="Symbol">{</a><a id="6802" class="Argument">A</a> <a id="6804" class="Symbol">=</a> <a id="6806" class="Symbol">λ</a> <a id="6808" href="Bracketing.html#6808" class="Bound">_</a> <a id="6810" class="Symbol">→</a> <a id="6812" href="Bracketing.html#5550" class="Function">match-end</a> <a id="6822" href="Bracketing.html#6708" class="Bound">m</a> <a id="6824" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="6826" href="Arrows.html#3001" class="Function">bw</a> <a id="6829" class="Symbol">(</a><a id="6830" href="Bracketing.html#5662" class="Function">match</a> <a id="6836" href="Bracketing.html#6708" class="Bound">m</a><a id="6837" class="Symbol">)}</a> <a id="6840" class="Symbol">(</a><a id="6841" href="Z.html#4731" class="Postulate">ℤ.1≢0</a> <a id="6847" class="Symbol">(</a><a id="6848" href="Cubical.Foundations.Prelude.html#895" class="Function">sym</a> <a id="6852" class="Symbol">(</a><a id="6853" href="Z.html#5049" class="Postulate">ℤ.zero-+</a> <a id="6862" class="Symbol">_)</a> <a id="6865" href="Cubical.Foundations.Prelude.html#3101" class="Function Operator">∙</a> <a id="6867" href="Bracketing.html#6720" class="Bound">z</a><a id="6868" class="Symbol">))</a>
<a id="6871" href="Bracketing.html#6616" class="Function">match-closing</a> <a id="6885" class="Symbol">{</a><a id="6886" href="Bracketing.html#6886" class="Bound">a</a><a id="6887" class="Symbol">}</a> <a id="6889" href="Bracketing.html#6889" class="Bound">m</a><a id="6890" class="Symbol">@(</a><a id="6892" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="6896" href="Bracketing.html#6896" class="Bound">n</a> <a id="6898" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6900" href="Bracketing.html#6900" class="Bound">z</a> <a id="6902" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6904" href="Bracketing.html#6904" class="Bound">¬z</a><a id="6906" class="Symbol">)</a> <a id="6908" class="Keyword">with</a> <a id="6913" href="Z.html#3816" class="Postulate">ℤ.discrete</a> <a id="6924" class="Symbol">(</a><a id="6925" href="Bracketing.html#1797" class="Function">height</a> <a id="6932" class="Symbol">(</a><a id="6933" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="6937" href="Bracketing.html#6896" class="Bound">n</a><a id="6938" class="Symbol">)</a> <a id="6940" class="Symbol">(</a><a id="6941" href="Arrows.html#2891" class="Function">fw</a> <a id="6944" href="Bracketing.html#6886" class="Bound">a</a><a id="6945" class="Symbol">))</a> <a id="6948" href="Z.html#469" class="InductiveConstructor">ℤ.zero</a>
<a id="6955" class="Symbol">...</a> <a id="6959" class="Symbol">|</a> <a id="6961" href="Cubical.Relation.Nullary.html#430" class="InductiveConstructor">yes</a> <a id="6965" href="Bracketing.html#6965" class="Bound">p</a> <a id="6967" class="Symbol">=</a> <a id="6969" href="Cubical.Data.Empty.Base.html#172" class="Function">⊥.elim</a> <a id="6976" class="Symbol">(</a><a id="6977" class="Bound">¬z</a> <a id="6980" class="Symbol">(</a><a id="6981" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="6985" class="Bound">n</a><a id="6986" class="Symbol">)</a> <a id="6988" href="Cubical.Data.Nat.Order.html#1425" class="Function">ℕ.≤-refl</a> <a id="6997" href="Bracketing.html#6965" class="Bound">p</a><a id="6998" class="Symbol">)</a>
<a id="7000" class="Symbol">...</a> <a id="7004" class="Symbol">|</a> <a id="7006" href="Cubical.Relation.Nullary.html#457" class="InductiveConstructor">no</a> <a id="7009" href="Bracketing.html#7009" class="Bound">¬p</a> <a id="7012" class="Symbol">=</a>
  <a id="7016" href="Arrows.html#2266" class="Function">end≡</a> <a id="7021" href="Cubical.Foundations.Prelude.html#858" class="Function">refl</a> <a id="7026" href="Bracketing.html#7117" class="Function">lem</a>
    <a id="7034" class="Keyword">where</a>
    <a id="7044" class="Comment">-- if the end is src then the height cannot go from non-zero to zero</a>
    <a id="7117" href="Bracketing.html#7117" class="Function">lem</a> <a id="7121" class="Symbol">:</a> <a id="7123" href="Arrows.html#2235" class="Function">end</a> <a id="7127" class="Symbol">(</a><a id="7128" href="Arrows.html#3118" class="Function">next</a> <a id="7133" class="Symbol">(</a><a id="7134" href="Arrows.html#6355" class="Function">iterate</a> <a id="7142" class="Symbol">(</a><a id="7143" href="Z.html#6334" class="Function">fromℕ</a> <a id="7149" class="Bound">n</a><a id="7150" class="Symbol">)</a> <a id="7152" class="Symbol">(</a><a id="7153" href="Arrows.html#2891" class="Function">fw</a> <a id="7156" class="Bound">a</a><a id="7157" class="Symbol">)))</a> <a id="7161" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="7163" href="Ends.html#402" class="InductiveConstructor">tgt</a>
    <a id="7171" href="Bracketing.html#7117" class="Function">lem</a> <a id="7175" class="Keyword">with</a> <a id="7180" href="Ends.html#779" class="Function">Ends.case≡</a> <a id="7191" class="Symbol">(</a><a id="7192" href="Arrows.html#2235" class="Function">end</a> <a id="7196" class="Symbol">(</a><a id="7197" href="Arrows.html#3118" class="Function">next</a> <a id="7202" class="Symbol">(</a><a id="7203" href="Arrows.html#6355" class="Function">iterate</a> <a id="7211" class="Symbol">(</a><a id="7212" href="Z.html#6334" class="Function">fromℕ</a> <a id="7218" class="Bound">n</a><a id="7219" class="Symbol">)</a> <a id="7221" class="Symbol">(</a><a id="7222" href="Arrows.html#2891" class="Function">fw</a> <a id="7225" class="Bound">a</a><a id="7226" class="Symbol">))))</a>
    <a id="7235" class="Symbol">...</a> <a id="7239" class="Symbol">|</a> <a id="7241" href="Cubical.Data.Sum.Base.html#228" class="InductiveConstructor">inl</a> <a id="7245" href="Bracketing.html#7245" class="Bound">pe</a> <a id="7248" class="Symbol">=</a> <a id="7250" href="Cubical.Data.Empty.Base.html#172" class="UnsolvedMeta UnsolvedConstraint Function">⊥.elim</a><a id="7256" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="7257" class="UnsolvedMeta UnsolvedConstraint Symbol">{!!}</a>
    <a id="7266" class="Symbol">...</a> <a id="7270" class="Symbol">|</a> <a id="7272" href="Cubical.Data.Sum.Base.html#246" class="InductiveConstructor">inr</a> <a id="7276" href="Bracketing.html#7276" class="Bound">pe</a> <a id="7279" class="Symbol">=</a> <a id="7281" href="Bracketing.html#7276" class="Bound">pe</a>

<a id="7285" class="Comment">-- matching is a symmetric relation</a>
<a id="matched-sym"></a><a id="7321" href="Bracketing.html#7321" class="Function">matched-sym</a> <a id="7333" class="Symbol">:</a> <a id="7335" class="Symbol">{</a><a id="7336" href="Bracketing.html#7336" class="Bound">a</a> <a id="7338" class="Symbol">:</a> <a id="7340" href="Arrows.html#1264" class="Function">Arrows</a><a id="7346" class="Symbol">}</a> <a id="7348" class="Symbol">(</a><a id="7349" href="Bracketing.html#7349" class="Bound">m</a> <a id="7351" class="Symbol">:</a> <a id="7353" href="Bracketing.html#4956" class="Function">matched</a> <a id="7361" href="Bracketing.html#7336" class="Bound">a</a><a id="7362" class="Symbol">)</a> <a id="7364" class="Symbol">→</a> <a id="7366" href="Bracketing.html#4956" class="Function">matched</a> <a id="7374" class="Symbol">(</a><a id="7375" href="Bracketing.html#5662" class="Function">match</a> <a id="7381" href="Bracketing.html#7349" class="Bound">m</a><a id="7382" class="Symbol">)</a>
<a id="7384" href="Bracketing.html#7321" class="Function">matched-sym</a> <a id="7396" class="Symbol">{</a><a id="7397" href="Bracketing.html#7397" class="Bound">a</a><a id="7398" class="Symbol">}</a> <a id="7400" href="Bracketing.html#7400" class="Bound">m</a><a id="7401" class="Symbol">@(</a><a id="7403" href="Bracketing.html#7403" class="Bound">n</a> <a id="7405" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7407" href="Bracketing.html#7407" class="Bound">z</a> <a id="7409" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7411" href="Bracketing.html#7411" class="Bound">¬z</a><a id="7413" class="Symbol">)</a> <a id="7415" class="Symbol">=</a> <a id="7417" href="Bracketing.html#7403" class="Bound">n</a> <a id="7419" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7421" href="Bracketing.html#7472" class="Function">z&#39;</a> <a id="7424" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7426" class="Symbol">λ</a> <a id="7428" href="Bracketing.html#7428" class="Bound">k</a> <a id="7430" href="Bracketing.html#7430" class="Bound">k&lt;sn</a> <a id="7435" class="Symbol">→</a> <a id="7437" href="Bracketing.html#8125" class="Function">¬z&#39;</a> <a id="7441" href="Bracketing.html#7428" class="Bound">k</a> <a id="7443" class="Symbol">(</a><a id="7444" href="Cubical.Data.Nat.Order.html#1331" class="Function">pred-≤-pred</a> <a id="7456" href="Bracketing.html#7430" class="Bound">k&lt;sn</a><a id="7460" class="Symbol">)</a>
  <a id="7464" class="Keyword">where</a>
  <a id="7472" href="Bracketing.html#7472" class="Function">z&#39;</a> <a id="7475" class="Symbol">:</a> <a id="7477" href="Bracketing.html#1797" class="Function">height</a> <a id="7484" class="Symbol">(</a><a id="7485" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="7489" href="Bracketing.html#7403" class="Bound">n</a><a id="7490" class="Symbol">)</a> <a id="7492" class="Symbol">(</a><a id="7493" href="Arrows.html#2891" class="Function">fw</a> <a id="7496" class="Symbol">(</a><a id="7497" href="Bracketing.html#5662" class="Function">match</a> <a id="7503" href="Bracketing.html#7400" class="Bound">m</a><a id="7504" class="Symbol">))</a> <a id="7507" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="7509" href="Z.html#469" class="InductiveConstructor">ℤ.zero</a>
  <a id="7518" href="Bracketing.html#7472" class="Function">z&#39;</a> <a id="7521" class="Symbol">=</a>
    <a id="7527" href="Bracketing.html#1797" class="Function">height</a> <a id="7534" class="Symbol">(</a><a id="7535" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="7539" href="Bracketing.html#7403" class="Bound">n</a><a id="7540" class="Symbol">)</a> <a id="7542" class="Symbol">(</a><a id="7543" href="Arrows.html#2891" class="Function">fw</a> <a id="7546" class="Symbol">(</a><a id="7547" href="Bracketing.html#5662" class="Function">match</a> <a id="7553" href="Bracketing.html#7400" class="Bound">m</a><a id="7554" class="Symbol">))</a>                  <a id="7574" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="7577" href="Cubical.Foundations.Prelude.html#858" class="Function">refl</a> <a id="7582" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
    <a id="7588" href="Bracketing.html#1797" class="Function">height</a> <a id="7595" class="Symbol">(</a><a id="7596" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="7600" href="Bracketing.html#7403" class="Bound">n</a><a id="7601" class="Symbol">)</a> <a id="7603" class="Symbol">(</a><a id="7604" href="Arrows.html#2390" class="Function">op</a> <a id="7607" class="Symbol">(</a><a id="7608" href="Arrows.html#3001" class="Function">bw</a> <a id="7611" class="Symbol">(</a><a id="7612" href="Bracketing.html#5662" class="Function">match</a> <a id="7618" href="Bracketing.html#7400" class="Bound">m</a><a id="7619" class="Symbol">)))</a>           <a id="7633" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="7636" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="7641" class="Symbol">(</a><a id="7642" href="Bracketing.html#1797" class="Function">height</a> <a id="7649" class="Symbol">(</a><a id="7650" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="7654" href="Bracketing.html#7403" class="Bound">n</a><a id="7655" class="Symbol">))</a> <a id="7658" class="Symbol">(</a><a id="7659" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="7664" href="Arrows.html#2390" class="Function">op</a> <a id="7667" class="Symbol">(</a><a id="7668" href="Cubical.Foundations.Prelude.html#895" class="Function">sym</a> <a id="7672" class="Symbol">(</a><a id="7673" href="Bracketing.html#6616" class="Function">match-closing</a> <a id="7687" href="Bracketing.html#7400" class="Bound">m</a><a id="7688" class="Symbol">)))</a> <a id="7692" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
    <a id="7698" href="Bracketing.html#1797" class="Function">height</a> <a id="7705" class="Symbol">(</a><a id="7706" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="7710" href="Bracketing.html#7403" class="Bound">n</a><a id="7711" class="Symbol">)</a> <a id="7713" class="Symbol">(</a><a id="7714" href="Arrows.html#2390" class="Function">op</a> <a id="7717" class="Symbol">(</a><a id="7718" href="Bracketing.html#5550" class="Function">match-end</a> <a id="7728" href="Bracketing.html#7400" class="Bound">m</a><a id="7729" class="Symbol">))</a>                 <a id="7748" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="7751" href="Cubical.Foundations.Prelude.html#858" class="Function">refl</a> <a id="7756" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
    <a id="7762" href="Bracketing.html#1797" class="Function">height</a> <a id="7769" class="Symbol">(</a><a id="7770" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="7774" href="Bracketing.html#7403" class="Bound">n</a><a id="7775" class="Symbol">)</a> <a id="7777" class="Symbol">(</a><a id="7778" href="Arrows.html#2390" class="Function">op</a> <a id="7781" class="Symbol">(</a><a id="7782" href="Arrows.html#6355" class="Function">iterate</a> <a id="7790" class="Symbol">(</a><a id="7791" href="Z.html#6334" class="Function">fromℕ</a> <a id="7797" href="Bracketing.html#7403" class="Bound">n</a><a id="7798" class="Symbol">)</a> <a id="7800" class="Symbol">(</a><a id="7801" href="Arrows.html#2891" class="Function">fw</a> <a id="7804" href="Bracketing.html#7397" class="Bound">a</a><a id="7805" class="Symbol">)))</a> <a id="7809" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="7812" href="Bracketing.html#3378" class="Function">height-op</a> <a id="7822" href="Bracketing.html#7403" class="Bound">n</a> <a id="7824" class="Symbol">(</a><a id="7825" href="Arrows.html#2891" class="Function">fw</a> <a id="7828" href="Bracketing.html#7397" class="Bound">a</a><a id="7829" class="Symbol">)</a> <a id="7831" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
    <a id="7837" href="Z.html#5495" class="Function">ℤ.neg</a> <a id="7843" class="Symbol">(</a><a id="7844" href="Bracketing.html#1797" class="Function">height</a> <a id="7851" class="Symbol">(</a><a id="7852" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="7856" href="Bracketing.html#7403" class="Bound">n</a><a id="7857" class="Symbol">)</a> <a id="7859" class="Symbol">(</a><a id="7860" href="Arrows.html#2891" class="Function">fw</a> <a id="7863" href="Bracketing.html#7397" class="Bound">a</a><a id="7864" class="Symbol">))</a>                  <a id="7884" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="7887" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="7892" href="Z.html#5495" class="Function">ℤ.neg</a> <a id="7898" href="Bracketing.html#7407" class="Bound">z</a> <a id="7900" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
    <a id="7906" href="Z.html#5495" class="Function">ℤ.neg</a> <a id="7912" href="Z.html#469" class="InductiveConstructor">ℤ.zero</a>                                      <a id="7956" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="7959" href="Cubical.Foundations.Prelude.html#858" class="Function">refl</a> <a id="7964" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
    <a id="7970" href="Z.html#469" class="InductiveConstructor">ℤ.zero</a>                                            <a id="8020" href="Cubical.Foundations.Prelude.html#5494" class="Function Operator">∎</a>
  <a id="8024" class="Comment">-- if the height was zero, the height plus a non-zero complement would be zero which is impossible</a>
  <a id="8125" href="Bracketing.html#8125" class="Function">¬z&#39;</a> <a id="8129" class="Symbol">:</a> <a id="8131" class="Symbol">(</a><a id="8132" href="Bracketing.html#8132" class="Bound">k</a> <a id="8134" class="Symbol">:</a> <a id="8136" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="8137" class="Symbol">)</a> <a id="8139" class="Symbol">→</a> <a id="8141" href="Bracketing.html#8132" class="Bound">k</a> <a id="8143" href="Cubical.Data.Nat.Order.html#486" class="Function Operator">≤</a> <a id="8145" href="Bracketing.html#7403" class="Bound">n</a> <a id="8147" class="Symbol">→</a> <a id="8149" href="Cubical.Relation.Nullary.html#226" class="Function Operator">¬</a> <a id="8151" class="Symbol">(</a><a id="8152" href="Bracketing.html#1797" class="Function">height</a> <a id="8159" href="Bracketing.html#8132" class="Bound">k</a> <a id="8161" class="Symbol">(</a><a id="8162" href="Arrows.html#2891" class="Function">fw</a> <a id="8165" class="Symbol">(</a><a id="8166" href="Bracketing.html#5662" class="Function">match</a> <a id="8172" class="Symbol">(</a><a id="8173" href="Bracketing.html#7403" class="Bound">n</a> <a id="8175" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8177" href="Bracketing.html#7407" class="Bound">z</a> <a id="8179" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8181" href="Bracketing.html#7411" class="Bound">¬z</a><a id="8183" class="Symbol">)))</a> <a id="8187" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="8189" href="Z.html#469" class="InductiveConstructor">ℤ.zero</a><a id="8195" class="Symbol">)</a>
  <a id="8199" href="Bracketing.html#8125" class="Function">¬z&#39;</a> <a id="8203" href="Bracketing.html#8203" class="Bound">k</a> <a id="8205" href="Bracketing.html#8205" class="Bound">k≤n</a> <a id="8209" href="Bracketing.html#8209" class="Bound">p</a> <a id="8211" class="Symbol">=</a> <a id="8213" class="Symbol">{!!}</a>

<a id="match²"></a><a id="8219" href="Bracketing.html#8219" class="Function">match²</a> <a id="8226" class="Symbol">:</a> <a id="8228" class="Symbol">{</a><a id="8229" href="Bracketing.html#8229" class="Bound">a</a> <a id="8231" class="Symbol">:</a> <a id="8233" href="Arrows.html#1264" class="Function">Arrows</a><a id="8239" class="Symbol">}</a> <a id="8241" class="Symbol">(</a><a id="8242" href="Bracketing.html#8242" class="Bound">m</a> <a id="8244" class="Symbol">:</a> <a id="8246" href="Bracketing.html#4956" class="Function">matched</a> <a id="8254" href="Bracketing.html#8229" class="Bound">a</a><a id="8255" class="Symbol">)</a> <a id="8257" class="Symbol">→</a> <a id="8259" href="Bracketing.html#5662" class="Function">match</a> <a id="8265" class="Symbol">(</a><a id="8266" href="Bracketing.html#7321" class="Function">matched-sym</a> <a id="8278" href="Bracketing.html#8242" class="Bound">m</a><a id="8279" class="Symbol">)</a> <a id="8281" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="8283" href="Bracketing.html#8229" class="Bound">a</a>
<a id="8285" href="Bracketing.html#8219" class="Function">match²</a> <a id="8292" class="Symbol">{</a><a id="8293" href="Bracketing.html#8293" class="Bound">a</a><a id="8294" class="Symbol">}</a> <a id="8296" href="Bracketing.html#8296" class="Bound">m</a><a id="8297" class="Symbol">@(</a><a id="8299" href="Bracketing.html#8299" class="Bound">n</a> <a id="8301" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8303" href="Bracketing.html#8303" class="Bound">z</a> <a id="8305" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8307" href="Bracketing.html#8307" class="Bound">¬z</a><a id="8309" class="Symbol">)</a> <a id="8311" class="Symbol">=</a>
  <a id="8315" href="Bracketing.html#5662" class="Function">match</a> <a id="8321" class="Symbol">(</a><a id="8322" href="Bracketing.html#7321" class="Function">matched-sym</a> <a id="8334" class="Symbol">(</a><a id="8335" href="Bracketing.html#8299" class="Bound">n</a> <a id="8337" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8339" href="Bracketing.html#8303" class="Bound">z</a> <a id="8341" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8343" href="Bracketing.html#8307" class="Bound">¬z</a><a id="8345" class="Symbol">))</a>                                  <a id="8381" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="8384" href="Cubical.Foundations.Prelude.html#858" class="Function">refl</a> <a id="8389" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
  <a id="8393" href="Arrows.html#2197" class="Function">arrow</a> <a id="8399" class="Symbol">(</a><a id="8400" href="Arrows.html#6355" class="Function">iterate</a> <a id="8408" class="Symbol">(</a><a id="8409" href="Z.html#6334" class="Function">fromℕ</a> <a id="8415" href="Bracketing.html#8299" class="Bound">n</a><a id="8416" class="Symbol">)</a> <a id="8418" class="Symbol">(</a><a id="8419" href="Arrows.html#2891" class="Function">fw</a> <a id="8422" class="Symbol">(</a><a id="8423" href="Bracketing.html#5662" class="Function">match</a> <a id="8429" href="Bracketing.html#8296" class="Bound">m</a><a id="8430" class="Symbol">)))</a>                          <a id="8459" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="8462" href="Cubical.Foundations.Prelude.html#858" class="Function">refl</a> <a id="8467" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
  <a id="8471" href="Arrows.html#2197" class="Function">arrow</a> <a id="8477" class="Symbol">(</a><a id="8478" href="Arrows.html#6355" class="Function">iterate</a> <a id="8486" class="Symbol">(</a><a id="8487" href="Z.html#6334" class="Function">fromℕ</a> <a id="8493" href="Bracketing.html#8299" class="Bound">n</a><a id="8494" class="Symbol">)</a> <a id="8496" class="Symbol">(</a><a id="8497" href="Arrows.html#2891" class="Function">fw</a> <a id="8500" class="Symbol">(</a><a id="8501" href="Arrows.html#2197" class="Function">arrow</a> <a id="8507" class="Symbol">(</a><a id="8508" href="Bracketing.html#5550" class="Function">match-end</a> <a id="8518" href="Bracketing.html#8296" class="Bound">m</a><a id="8519" class="Symbol">))))</a>              <a id="8537" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="8540" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="8545" class="Symbol">(λ</a> <a id="8548" href="Bracketing.html#8548" class="Bound">e</a> <a id="8550" class="Symbol">→</a> <a id="8552" href="Arrows.html#2197" class="Function">arrow</a> <a id="8558" class="Symbol">(</a><a id="8559" href="Arrows.html#6355" class="Function">iterate</a> <a id="8567" class="Symbol">(</a><a id="8568" href="Z.html#6334" class="Function">fromℕ</a> <a id="8574" href="Bracketing.html#8299" class="Bound">n</a><a id="8575" class="Symbol">)</a> <a id="8577" class="Symbol">(</a><a id="8578" href="Arrows.html#2891" class="Function">fw</a> <a id="8581" class="Symbol">(</a><a id="8582" href="Arrows.html#2197" class="Function">arrow</a> <a id="8588" href="Bracketing.html#8548" class="Bound">e</a><a id="8589" class="Symbol">))))</a> <a id="8594" class="Symbol">(</a><a id="8595" href="Bracketing.html#6616" class="Function">match-closing</a> <a id="8609" href="Bracketing.html#8296" class="Bound">m</a><a id="8610" class="Symbol">)</a> <a id="8612" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
  <a id="8616" href="Arrows.html#2197" class="Function">arrow</a> <a id="8622" class="Symbol">(</a><a id="8623" href="Arrows.html#6355" class="Function">iterate</a> <a id="8631" class="Symbol">(</a><a id="8632" href="Z.html#6334" class="Function">fromℕ</a> <a id="8638" href="Bracketing.html#8299" class="Bound">n</a><a id="8639" class="Symbol">)</a> <a id="8641" class="Symbol">(</a><a id="8642" href="Arrows.html#2891" class="Function">fw</a> <a id="8645" class="Symbol">(</a><a id="8646" href="Arrows.html#2197" class="Function">arrow</a> <a id="8652" class="Symbol">(</a><a id="8653" href="Arrows.html#3001" class="Function">bw</a> <a id="8656" class="Symbol">(</a><a id="8657" href="Bracketing.html#5662" class="Function">match</a> <a id="8663" href="Bracketing.html#8296" class="Bound">m</a><a id="8664" class="Symbol">)))))</a>             <a id="8682" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="8685" href="Cubical.Foundations.Prelude.html#858" class="Function">refl</a> <a id="8690" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
  <a id="8694" href="Arrows.html#2197" class="Function">arrow</a> <a id="8700" class="Symbol">(</a><a id="8701" href="Arrows.html#6355" class="Function">iterate</a> <a id="8709" class="Symbol">(</a><a id="8710" href="Z.html#6334" class="Function">fromℕ</a> <a id="8716" href="Bracketing.html#8299" class="Bound">n</a><a id="8717" class="Symbol">)</a> <a id="8719" class="Symbol">(</a><a id="8720" href="Arrows.html#2390" class="Function">op</a> <a id="8723" class="Symbol">(</a><a id="8724" href="Arrows.html#3001" class="Function">bw</a> <a id="8727" class="Symbol">(</a><a id="8728" href="Bracketing.html#5662" class="Function">match</a> <a id="8734" href="Bracketing.html#8296" class="Bound">m</a><a id="8735" class="Symbol">))))</a>                     <a id="8760" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="8763" href="Cubical.Foundations.Prelude.html#895" class="Function">sym</a> <a id="8767" class="Symbol">(</a><a id="8768" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="8773" class="Symbol">(λ</a> <a id="8776" href="Bracketing.html#8776" class="Bound">e</a> <a id="8778" class="Symbol">→</a> <a id="8780" href="Arrows.html#2197" class="Function">arrow</a> <a id="8786" class="Symbol">(</a><a id="8787" href="Arrows.html#6355" class="Function">iterate</a> <a id="8795" class="Symbol">(</a><a id="8796" href="Z.html#6334" class="Function">fromℕ</a> <a id="8802" href="Bracketing.html#8299" class="Bound">n</a><a id="8803" class="Symbol">)</a> <a id="8805" class="Symbol">(</a><a id="8806" href="Arrows.html#2390" class="Function">op</a> <a id="8809" href="Bracketing.html#8776" class="Bound">e</a><a id="8810" class="Symbol">)))</a> <a id="8814" class="Symbol">(</a><a id="8815" href="Bracketing.html#6616" class="Function">match-closing</a> <a id="8829" href="Bracketing.html#8296" class="Bound">m</a><a id="8830" class="Symbol">))</a> <a id="8833" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
  <a id="8837" href="Arrows.html#2197" class="Function">arrow</a> <a id="8843" class="Symbol">(</a><a id="8844" href="Arrows.html#6355" class="Function">iterate</a> <a id="8852" class="Symbol">(</a><a id="8853" href="Z.html#6334" class="Function">fromℕ</a> <a id="8859" href="Bracketing.html#8299" class="Bound">n</a><a id="8860" class="Symbol">)</a> <a id="8862" class="Symbol">(</a><a id="8863" href="Arrows.html#2390" class="Function">op</a> <a id="8866" class="Symbol">(</a><a id="8867" href="Bracketing.html#5550" class="Function">match-end</a> <a id="8877" href="Bracketing.html#8296" class="Bound">m</a><a id="8878" class="Symbol">)))</a>                      <a id="8903" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="8906" href="Cubical.Foundations.Prelude.html#858" class="Function">refl</a> <a id="8911" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
  <a id="8915" href="Arrows.html#2197" class="Function">arrow</a> <a id="8921" class="Symbol">(</a><a id="8922" href="Arrows.html#6355" class="Function">iterate</a> <a id="8930" class="Symbol">(</a><a id="8931" href="Z.html#6334" class="Function">fromℕ</a> <a id="8937" href="Bracketing.html#8299" class="Bound">n</a><a id="8938" class="Symbol">)</a> <a id="8940" class="Symbol">(</a><a id="8941" href="Arrows.html#2390" class="Function">op</a> <a id="8944" class="Symbol">(</a><a id="8945" href="Arrows.html#6355" class="Function">iterate</a> <a id="8953" class="Symbol">(</a><a id="8954" href="Z.html#6334" class="Function">fromℕ</a> <a id="8960" href="Bracketing.html#8299" class="Bound">n</a><a id="8961" class="Symbol">)</a> <a id="8963" class="Symbol">(</a><a id="8964" href="Arrows.html#2891" class="Function">fw</a> <a id="8967" href="Bracketing.html#8293" class="Bound">a</a><a id="8968" class="Symbol">))))</a>         <a id="8981" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="8984" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="8989" href="Arrows.html#2197" class="Function">arrow</a> <a id="8995" class="Symbol">(</a><a id="8996" href="Arrows.html#7181" class="Function">iterate-op</a> <a id="9007" class="Symbol">(</a><a id="9008" href="Z.html#6334" class="Function">fromℕ</a> <a id="9014" href="Bracketing.html#8299" class="Bound">n</a><a id="9015" class="Symbol">)</a> <a id="9017" class="Symbol">_)</a> <a id="9020" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
  <a id="9024" href="Arrows.html#2197" class="Function">arrow</a> <a id="9030" class="Symbol">(</a><a id="9031" href="Arrows.html#2390" class="Function">op</a> <a id="9034" class="Symbol">(</a><a id="9035" href="Arrows.html#6355" class="Function">iterate</a> <a id="9043" class="Symbol">(</a><a id="9044" href="Z.html#5495" class="Function">ℤ.neg</a> <a id="9050" class="Symbol">(</a><a id="9051" href="Z.html#6334" class="Function">fromℕ</a> <a id="9057" href="Bracketing.html#8299" class="Bound">n</a><a id="9058" class="Symbol">))</a> <a id="9061" class="Symbol">(</a><a id="9062" href="Arrows.html#6355" class="Function">iterate</a> <a id="9070" class="Symbol">(</a><a id="9071" href="Z.html#6334" class="Function">fromℕ</a> <a id="9077" href="Bracketing.html#8299" class="Bound">n</a><a id="9078" class="Symbol">)</a> <a id="9080" class="Symbol">(</a><a id="9081" href="Arrows.html#2891" class="Function">fw</a> <a id="9084" href="Bracketing.html#8293" class="Bound">a</a><a id="9085" class="Symbol">))))</a> <a id="9090" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="9093" href="Cubical.Foundations.Prelude.html#858" class="Function">refl</a> <a id="9098" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
  <a id="9102" href="Arrows.html#2197" class="Function">arrow</a> <a id="9108" class="Symbol">(</a><a id="9109" href="Arrows.html#6355" class="Function">iterate</a> <a id="9117" class="Symbol">(</a><a id="9118" href="Z.html#5495" class="Function">ℤ.neg</a> <a id="9124" class="Symbol">(</a><a id="9125" href="Z.html#6334" class="Function">fromℕ</a> <a id="9131" href="Bracketing.html#8299" class="Bound">n</a><a id="9132" class="Symbol">))</a> <a id="9135" class="Symbol">(</a><a id="9136" href="Arrows.html#6355" class="Function">iterate</a> <a id="9144" class="Symbol">(</a><a id="9145" href="Z.html#6334" class="Function">fromℕ</a> <a id="9151" href="Bracketing.html#8299" class="Bound">n</a><a id="9152" class="Symbol">)</a> <a id="9154" class="Symbol">(</a><a id="9155" href="Arrows.html#2891" class="Function">fw</a> <a id="9158" href="Bracketing.html#8293" class="Bound">a</a><a id="9159" class="Symbol">)))</a>      <a id="9168" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="9171" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="9176" href="Arrows.html#2197" class="Function">arrow</a> <a id="9182" class="Symbol">(</a><a id="9183" href="Arrows.html#6647" class="Function">iterate-+</a> <a id="9193" class="Symbol">(</a><a id="9194" href="Z.html#6334" class="Function">fromℕ</a> <a id="9200" href="Bracketing.html#8299" class="Bound">n</a><a id="9201" class="Symbol">)</a> <a id="9203" class="Symbol">(</a><a id="9204" href="Z.html#5495" class="Function">ℤ.neg</a> <a id="9210" class="Symbol">(</a><a id="9211" href="Z.html#6334" class="Function">fromℕ</a> <a id="9217" href="Bracketing.html#8299" class="Bound">n</a><a id="9218" class="Symbol">))</a> <a id="9221" class="Symbol">(</a><a id="9222" href="Arrows.html#2891" class="Function">fw</a> <a id="9225" href="Bracketing.html#8293" class="Bound">a</a><a id="9226" class="Symbol">))</a> <a id="9229" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
  <a id="9233" href="Arrows.html#2197" class="Function">arrow</a> <a id="9239" class="Symbol">(</a><a id="9240" href="Arrows.html#6355" class="Function">iterate</a> <a id="9248" class="Symbol">(</a><a id="9249" href="Z.html#6334" class="Function">fromℕ</a> <a id="9255" href="Bracketing.html#8299" class="Bound">n</a> <a id="9257" href="Z.html#5871" class="Function Operator">ℤ.-</a> <a id="9261" href="Z.html#6334" class="Function">fromℕ</a> <a id="9267" href="Bracketing.html#8299" class="Bound">n</a><a id="9268" class="Symbol">)</a> <a id="9270" class="Symbol">(</a><a id="9271" href="Arrows.html#2891" class="Function">fw</a> <a id="9274" href="Bracketing.html#8293" class="Bound">a</a><a id="9275" class="Symbol">))</a>                      <a id="9299" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="9302" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="9307" class="Symbol">(λ</a> <a id="9310" href="Bracketing.html#9310" class="Bound">n</a> <a id="9312" class="Symbol">→</a> <a id="9314" href="Arrows.html#2197" class="Function">arrow</a> <a id="9320" class="Symbol">(</a><a id="9321" href="Arrows.html#6355" class="Function">iterate</a> <a id="9329" href="Bracketing.html#9310" class="Bound">n</a> <a id="9331" class="Symbol">(</a><a id="9332" href="Arrows.html#2891" class="Function">fw</a> <a id="9335" href="Bracketing.html#8293" class="Bound">a</a><a id="9336" class="Symbol">)))</a> <a id="9340" class="Symbol">(</a><a id="9341" href="Z.html#5918" class="Postulate">n-n≡0</a> <a id="9347" class="Symbol">(</a><a id="9348" href="Z.html#6334" class="Function">fromℕ</a> <a id="9354" href="Bracketing.html#8299" class="Bound">n</a><a id="9355" class="Symbol">))</a> <a id="9358" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
  <a id="9362" href="Arrows.html#2197" class="Function">arrow</a> <a id="9368" class="Symbol">(</a><a id="9369" href="Arrows.html#6355" class="Function">iterate</a> <a id="9377" href="Z.html#469" class="InductiveConstructor">ℤ.zero</a> <a id="9384" class="Symbol">(</a><a id="9385" href="Arrows.html#2891" class="Function">fw</a> <a id="9388" href="Bracketing.html#8293" class="Bound">a</a><a id="9389" class="Symbol">))</a>                                     <a id="9428" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="9431" href="Cubical.Foundations.Prelude.html#858" class="Function">refl</a> <a id="9436" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
  <a id="9440" href="Arrows.html#2197" class="Function">arrow</a> <a id="9446" class="Symbol">(</a><a id="9447" href="Arrows.html#2891" class="Function">fw</a> <a id="9450" href="Bracketing.html#8293" class="Bound">a</a><a id="9451" class="Symbol">)</a>                                                      <a id="9506" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="9509" href="Cubical.Foundations.Prelude.html#858" class="Function">refl</a> <a id="9514" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
  <a id="9518" href="Bracketing.html#8293" class="Bound">a</a>                                                                 <a id="9584" href="Cubical.Foundations.Prelude.html#5494" class="Function Operator">∎</a>

<a id="9587" class="Comment">-- match-indep : {a b : Arrows} → reachable-arr a b → match</a>

<a id="well-bracketed-end"></a><a id="9648" href="Bracketing.html#9648" class="Function">well-bracketed-end</a> <a id="9667" class="Symbol">:</a> <a id="9669" href="Arrows.html#1722" class="Function">Ends</a> <a id="9674" class="Symbol">→</a> <a id="9676" href="Cubical.Core.Primitives.html#1310" class="Function">Type₀</a>
<a id="9682" href="Bracketing.html#9648" class="Function">well-bracketed-end</a> <a id="9701" href="Bracketing.html#9701" class="Bound">e</a> <a id="9703" class="Symbol">=</a> <a id="9705" class="Symbol">(</a><a id="9706" href="Bracketing.html#9706" class="Bound">n</a> <a id="9708" class="Symbol">:</a> <a id="9710" href="Z.html#450" class="Datatype">ℤ</a><a id="9711" class="Symbol">)</a> <a id="9713" class="Symbol">→</a> <a id="9715" href="Bracketing.html#4956" class="Function">matched</a> <a id="9723" class="Symbol">(</a><a id="9724" href="Arrows.html#2197" class="Function">arrow</a> <a id="9730" class="Symbol">(</a><a id="9731" href="Arrows.html#6355" class="Function">iterate</a> <a id="9739" href="Bracketing.html#9706" class="Bound">n</a> <a id="9741" href="Bracketing.html#9701" class="Bound">e</a><a id="9742" class="Symbol">))</a>

<a id="well-bracketed-end-isProp"></a><a id="9746" href="Bracketing.html#9746" class="Function">well-bracketed-end-isProp</a> <a id="9772" class="Symbol">:</a> <a id="9774" class="Symbol">(</a><a id="9775" href="Bracketing.html#9775" class="Bound">a</a> <a id="9777" class="Symbol">:</a> <a id="9779" href="Arrows.html#1722" class="Function">Ends</a><a id="9783" class="Symbol">)</a> <a id="9785" class="Symbol">→</a> <a id="9787" href="Cubical.Foundations.Prelude.html#7913" class="Function">isProp</a> <a id="9794" class="Symbol">(</a><a id="9795" href="Bracketing.html#9648" class="Function">well-bracketed-end</a> <a id="9814" href="Bracketing.html#9775" class="Bound">a</a><a id="9815" class="Symbol">)</a>
<a id="9817" href="Bracketing.html#9746" class="Function">well-bracketed-end-isProp</a> <a id="9843" href="Bracketing.html#9843" class="Bound">a</a> <a id="9845" class="Symbol">=</a> <a id="9847" href="Cubical.Foundations.HLevels.html#9851" class="Function">isPropΠ</a> <a id="9855" class="Symbol">(λ</a> <a id="9858" href="Bracketing.html#9858" class="Bound">n</a> <a id="9860" class="Symbol">→</a> <a id="9862" href="Bracketing.html#5169" class="Function">matched-isProp</a> <a id="9877" class="Symbol">_)</a>

<a id="9881" class="Comment">-- being well-bracketed is independent of the starting point</a>
<a id="well-bracketed-end-indep"></a><a id="9942" href="Bracketing.html#9942" class="Function">well-bracketed-end-indep</a> <a id="9967" class="Symbol">:</a> <a id="9969" class="Symbol">(</a><a id="9970" href="Bracketing.html#9970" class="Bound">a</a> <a id="9972" href="Bracketing.html#9972" class="Bound">b</a> <a id="9974" class="Symbol">:</a> <a id="9976" href="Arrows.html#1722" class="Function">Ends</a><a id="9980" class="Symbol">)</a> <a id="9982" class="Symbol">→</a> <a id="9984" href="Arrows.html#9911" class="Function">reachable</a> <a id="9994" href="Bracketing.html#9970" class="Bound">a</a> <a id="9996" href="Bracketing.html#9972" class="Bound">b</a> <a id="9998" class="Symbol">→</a> <a id="10000" href="Bracketing.html#9648" class="Function">well-bracketed-end</a> <a id="10019" href="Bracketing.html#9970" class="Bound">a</a> <a id="10021" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="10023" href="Bracketing.html#9648" class="Function">well-bracketed-end</a> <a id="10042" href="Bracketing.html#9972" class="Bound">b</a>
<a id="10044" href="Bracketing.html#9942" class="Function">well-bracketed-end-indep</a> <a id="10069" href="Bracketing.html#10069" class="Bound">a</a> <a id="10071" href="Bracketing.html#10071" class="Bound">b</a> <a id="10073" class="Symbol">(</a><a id="10074" href="Bracketing.html#10074" class="Bound">nr</a> <a id="10077" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="10079" href="Bracketing.html#10079" class="Bound">r</a><a id="10080" class="Symbol">)</a> <a id="10082" class="Symbol">=</a> <a id="10084" href="Cubical.Foundations.Univalence.html#873" class="Function">ua</a> <a id="10087" class="Symbol">(</a><a id="10088" href="Cubical.Foundations.Isomorphism.html#2641" class="Function">isoToEquiv</a> <a id="10099" href="Bracketing.html#10112" class="Function">i</a><a id="10100" class="Symbol">)</a>
  <a id="10104" class="Keyword">where</a>
  <a id="10112" href="Bracketing.html#10112" class="Function">i</a> <a id="10114" class="Symbol">:</a> <a id="10116" href="Cubical.Foundations.Isomorphism.html#716" class="Record">Iso</a> <a id="10120" class="Symbol">(</a><a id="10121" href="Bracketing.html#9648" class="Function">well-bracketed-end</a> <a id="10140" href="Bracketing.html#10069" class="Bound">a</a><a id="10141" class="Symbol">)</a> <a id="10143" class="Symbol">(</a><a id="10144" href="Bracketing.html#9648" class="Function">well-bracketed-end</a> <a id="10163" href="Bracketing.html#10071" class="Bound">b</a><a id="10164" class="Symbol">)</a>
  <a id="10168" href="Cubical.Foundations.Isomorphism.html#810" class="Field">Iso.fun</a> <a id="10176" href="Bracketing.html#10112" class="Function">i</a> <a id="10178" href="Bracketing.html#10178" class="Bound">f</a> <a id="10180" href="Bracketing.html#10180" class="Bound">n</a> <a id="10182" class="Symbol">=</a> <a id="10184" href="Cubical.Foundations.Prelude.html#6151" class="Function">subst</a> <a id="10190" class="Symbol">(</a><a id="10191" href="Bracketing.html#4956" class="Function">matched</a> <a id="10199" href="Cubical.Foundations.Function.html#243" class="Function Operator">∘</a> <a id="10201" href="Arrows.html#2197" class="Function">arrow</a><a id="10206" class="Symbol">)</a> <a id="10208" href="Bracketing.html#10239" class="Function">p</a> <a id="10210" class="Symbol">(</a><a id="10211" href="Bracketing.html#10178" class="Bound">f</a> <a id="10213" class="Symbol">(</a><a id="10214" href="Bracketing.html#10074" class="Bound">nr</a> <a id="10217" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="10221" href="Bracketing.html#10180" class="Bound">n</a><a id="10222" class="Symbol">))</a>
    <a id="10229" class="Keyword">where</a>
    <a id="10239" href="Bracketing.html#10239" class="Function">p</a> <a id="10241" class="Symbol">=</a>
      <a id="10249" href="Arrows.html#6355" class="Function">iterate</a> <a id="10257" class="Symbol">(</a><a id="10258" href="Bracketing.html#10074" class="Bound">nr</a> <a id="10261" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="10265" href="Bracketing.html#10180" class="Bound">n</a><a id="10266" class="Symbol">)</a> <a id="10268" href="Bracketing.html#10069" class="Bound">a</a>     <a id="10274" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="10277" href="Cubical.Foundations.Prelude.html#895" class="Function">sym</a> <a id="10281" class="Symbol">(</a><a id="10282" href="Arrows.html#6647" class="Function">iterate-+</a> <a id="10292" href="Bracketing.html#10074" class="Bound">nr</a> <a id="10295" href="Bracketing.html#10180" class="Bound">n</a> <a id="10297" href="Bracketing.html#10069" class="Bound">a</a><a id="10298" class="Symbol">)</a> <a id="10300" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
      <a id="10308" href="Arrows.html#6355" class="Function">iterate</a> <a id="10316" href="Bracketing.html#10180" class="Bound">n</a> <a id="10318" class="Symbol">(</a><a id="10319" href="Arrows.html#6355" class="Function">iterate</a> <a id="10327" href="Bracketing.html#10074" class="Bound">nr</a> <a id="10330" href="Bracketing.html#10069" class="Bound">a</a><a id="10331" class="Symbol">)</a> <a id="10333" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="10336" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="10341" class="Symbol">(</a><a id="10342" href="Arrows.html#6355" class="Function">iterate</a> <a id="10350" href="Bracketing.html#10180" class="Bound">n</a><a id="10351" class="Symbol">)</a> <a id="10353" href="Bracketing.html#10079" class="Bound">r</a> <a id="10355" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
      <a id="10363" href="Arrows.html#6355" class="Function">iterate</a> <a id="10371" href="Bracketing.html#10180" class="Bound">n</a> <a id="10373" href="Bracketing.html#10071" class="Bound">b</a>              <a id="10388" href="Cubical.Foundations.Prelude.html#5494" class="Function Operator">∎</a>
  <a id="10392" href="Cubical.Foundations.Isomorphism.html#826" class="Field">Iso.inv</a> <a id="10400" href="Bracketing.html#10112" class="Function">i</a> <a id="10402" href="Bracketing.html#10402" class="Bound">f</a> <a id="10404" href="Bracketing.html#10404" class="Bound">n</a> <a id="10406" class="Symbol">=</a> <a id="10408" href="Cubical.Foundations.Prelude.html#6151" class="Function">subst</a> <a id="10414" class="Symbol">(</a><a id="10415" href="Bracketing.html#4956" class="Function">matched</a> <a id="10423" href="Cubical.Foundations.Function.html#243" class="Function Operator">∘</a> <a id="10425" href="Arrows.html#2197" class="Function">arrow</a><a id="10430" class="Symbol">)</a> <a id="10432" href="Bracketing.html#10469" class="Function">p</a> <a id="10434" class="Symbol">(</a><a id="10435" href="Bracketing.html#10402" class="Bound">f</a> <a id="10437" class="Symbol">(</a><a id="10438" href="Z.html#5495" class="Function">ℤ.neg</a> <a id="10444" href="Bracketing.html#10074" class="Bound">nr</a> <a id="10447" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="10451" href="Bracketing.html#10404" class="Bound">n</a><a id="10452" class="Symbol">))</a>
    <a id="10459" class="Keyword">where</a>
    <a id="10469" href="Bracketing.html#10469" class="Function">p</a> <a id="10471" class="Symbol">=</a>
      <a id="10479" href="Arrows.html#6355" class="Function">iterate</a> <a id="10487" class="Symbol">(</a><a id="10488" href="Z.html#5495" class="Function">ℤ.neg</a> <a id="10494" href="Bracketing.html#10074" class="Bound">nr</a> <a id="10497" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="10501" href="Bracketing.html#10404" class="Bound">n</a><a id="10502" class="Symbol">)</a> <a id="10504" href="Bracketing.html#10071" class="Bound">b</a>              <a id="10519" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="10522" href="Cubical.Foundations.Prelude.html#895" class="Function">sym</a><a id="10525" class="Symbol">(</a> <a id="10527" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="10532" class="Symbol">(</a><a id="10533" href="Arrows.html#6355" class="Function">iterate</a> <a id="10541" class="Symbol">(</a><a id="10542" href="Z.html#5495" class="Function">ℤ.neg</a> <a id="10548" href="Bracketing.html#10074" class="Bound">nr</a> <a id="10551" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="10555" href="Bracketing.html#10404" class="Bound">n</a><a id="10556" class="Symbol">))</a> <a id="10559" href="Bracketing.html#10079" class="Bound">r</a><a id="10560" class="Symbol">)</a> <a id="10562" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
      <a id="10570" href="Arrows.html#6355" class="Function">iterate</a> <a id="10578" class="Symbol">(</a><a id="10579" href="Z.html#5495" class="Function">ℤ.neg</a> <a id="10585" href="Bracketing.html#10074" class="Bound">nr</a> <a id="10588" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="10592" href="Bracketing.html#10404" class="Bound">n</a><a id="10593" class="Symbol">)</a> <a id="10595" class="Symbol">(</a><a id="10596" href="Arrows.html#6355" class="Function">iterate</a> <a id="10604" href="Bracketing.html#10074" class="Bound">nr</a> <a id="10607" href="Bracketing.html#10069" class="Bound">a</a><a id="10608" class="Symbol">)</a> <a id="10610" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="10613" href="Arrows.html#6647" class="Function">iterate-+</a> <a id="10623" href="Bracketing.html#10074" class="Bound">nr</a> <a id="10626" class="Symbol">_</a> <a id="10628" href="Bracketing.html#10069" class="Bound">a</a> <a id="10630" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
      <a id="10638" href="Arrows.html#6355" class="Function">iterate</a> <a id="10646" class="Symbol">(</a><a id="10647" href="Bracketing.html#10074" class="Bound">nr</a> <a id="10650" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="10654" class="Symbol">(</a><a id="10655" href="Z.html#5495" class="Function">ℤ.neg</a> <a id="10661" href="Bracketing.html#10074" class="Bound">nr</a> <a id="10664" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="10668" href="Bracketing.html#10404" class="Bound">n</a><a id="10669" class="Symbol">))</a> <a id="10672" href="Bracketing.html#10069" class="Bound">a</a>     <a id="10678" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="10681" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="10686" class="Symbol">(λ</a> <a id="10689" href="Bracketing.html#10689" class="Bound">n</a> <a id="10691" class="Symbol">→</a> <a id="10693" href="Arrows.html#6355" class="Function">iterate</a> <a id="10701" href="Bracketing.html#10689" class="Bound">n</a> <a id="10703" href="Bracketing.html#10069" class="Bound">a</a><a id="10704" class="Symbol">)</a> <a id="10706" class="Symbol">(</a><a id="10707" href="Z.html#4960" class="Postulate">ℤ.+-assoc</a> <a id="10717" href="Bracketing.html#10074" class="Bound">nr</a> <a id="10720" class="Symbol">_</a> <a id="10722" class="Symbol">_)</a> <a id="10725" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
      <a id="10733" href="Arrows.html#6355" class="Function">iterate</a> <a id="10741" class="Symbol">((</a><a id="10743" href="Bracketing.html#10074" class="Bound">nr</a> <a id="10746" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="10750" href="Z.html#5495" class="Function">ℤ.neg</a> <a id="10756" href="Bracketing.html#10074" class="Bound">nr</a><a id="10758" class="Symbol">)</a> <a id="10760" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="10764" href="Bracketing.html#10404" class="Bound">n</a><a id="10765" class="Symbol">)</a> <a id="10767" href="Bracketing.html#10069" class="Bound">a</a>     <a id="10773" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="10776" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="10781" class="Symbol">(λ</a> <a id="10784" href="Bracketing.html#10784" class="Bound">m</a> <a id="10786" class="Symbol">→</a> <a id="10788" href="Arrows.html#6355" class="Function">iterate</a> <a id="10796" class="Symbol">(</a><a id="10797" href="Bracketing.html#10784" class="Bound">m</a> <a id="10799" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="10803" href="Bracketing.html#10404" class="Bound">n</a><a id="10804" class="Symbol">)</a> <a id="10806" href="Bracketing.html#10069" class="Bound">a</a><a id="10807" class="Symbol">)</a> <a id="10809" class="Symbol">(</a><a id="10810" href="Z.html#5918" class="Postulate">ℤ.n-n≡0</a> <a id="10818" href="Bracketing.html#10074" class="Bound">nr</a><a id="10820" class="Symbol">)</a> <a id="10822" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
      <a id="10830" href="Arrows.html#6355" class="Function">iterate</a> <a id="10838" class="Symbol">(</a><a id="10839" href="Z.html#469" class="InductiveConstructor">ℤ.zero</a> <a id="10846" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="10850" href="Bracketing.html#10404" class="Bound">n</a><a id="10851" class="Symbol">)</a> <a id="10853" href="Bracketing.html#10069" class="Bound">a</a>                <a id="10870" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="10873" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="10878" class="Symbol">(λ</a> <a id="10881" href="Bracketing.html#10881" class="Bound">n</a> <a id="10883" class="Symbol">→</a> <a id="10885" href="Arrows.html#6355" class="Function">iterate</a> <a id="10893" href="Bracketing.html#10881" class="Bound">n</a> <a id="10895" href="Bracketing.html#10069" class="Bound">a</a><a id="10896" class="Symbol">)</a> <a id="10898" class="Symbol">(</a><a id="10899" href="Z.html#5049" class="Postulate">ℤ.zero-+</a> <a id="10908" href="Bracketing.html#10404" class="Bound">n</a><a id="10909" class="Symbol">)</a> <a id="10911" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
      <a id="10919" href="Arrows.html#6355" class="Function">iterate</a> <a id="10927" href="Bracketing.html#10404" class="Bound">n</a> <a id="10929" href="Bracketing.html#10069" class="Bound">a</a>                             <a id="10959" href="Cubical.Foundations.Prelude.html#5494" class="Function Operator">∎</a>
  <a id="10963" href="Cubical.Foundations.Isomorphism.html#842" class="Field">Iso.rightInv</a> <a id="10976" href="Bracketing.html#10112" class="Function">i</a> <a id="10978" href="Bracketing.html#10978" class="Bound">f</a> <a id="10980" class="Symbol">=</a> <a id="10982" href="Cubical.Foundations.Prelude.html#6325" class="Function">funExt</a> <a id="10989" class="Symbol">(λ</a> <a id="10992" href="Bracketing.html#10992" class="Bound">n</a> <a id="10994" class="Symbol">→</a> <a id="10996" href="Bracketing.html#5169" class="Function">matched-isProp</a> <a id="11011" class="Symbol">_</a> <a id="11013" class="Symbol">_</a> <a id="11015" class="Symbol">_)</a>
  <a id="11020" href="Cubical.Foundations.Isomorphism.html#873" class="Field">Iso.leftInv</a>  <a id="11033" href="Bracketing.html#10112" class="Function">i</a> <a id="11035" href="Bracketing.html#11035" class="Bound">f</a> <a id="11037" class="Symbol">=</a> <a id="11039" href="Cubical.Foundations.Prelude.html#6325" class="Function">funExt</a> <a id="11046" class="Symbol">(λ</a> <a id="11049" href="Bracketing.html#11049" class="Bound">n</a> <a id="11051" class="Symbol">→</a> <a id="11053" href="Bracketing.html#5169" class="Function">matched-isProp</a> <a id="11068" class="Symbol">_</a> <a id="11070" class="Symbol">_</a> <a id="11072" class="Symbol">_)</a>

<a id="11076" class="Comment">-- the type of well-bracketed directed chains</a>
<a id="well-bracketed-dchain"></a><a id="11122" href="Bracketing.html#11122" class="Function">well-bracketed-dchain</a> <a id="11144" class="Symbol">:</a> <a id="11146" class="Symbol">(</a><a id="11147" href="Bracketing.html#11147" class="Bound">c</a> <a id="11149" class="Symbol">:</a> <a id="11151" href="Arrows.html#23087" class="Function">dChains</a><a id="11158" class="Symbol">)</a> <a id="11160" class="Symbol">→</a> <a id="11162" href="Cubical.Core.Primitives.html#1310" class="Function">Type₀</a>
<a id="11168" href="Bracketing.html#11122" class="Function">well-bracketed-dchain</a> <a id="11190" href="Bracketing.html#11190" class="Bound">c</a> <a id="11192" class="Symbol">=</a> <a id="11194" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="11198" href="Bracketing.html#11297" class="Function">T</a>
  <a id="11202" class="Keyword">where</a>
  <a id="11210" href="Bracketing.html#11210" class="Function">wb</a> <a id="11213" class="Symbol">:</a> <a id="11215" href="Arrows.html#1722" class="Function">Ends</a> <a id="11220" class="Symbol">→</a> <a id="11222" href="Cubical.Foundations.HLevels.html#1475" class="Function">hProp</a> <a id="11228" href="Agda.Primitive.html#590" class="Primitive">ℓ-zero</a>
  <a id="11237" href="Bracketing.html#11210" class="Function">wb</a> <a id="11240" href="Bracketing.html#11240" class="Bound">a</a> <a id="11242" class="Symbol">=</a> <a id="11244" href="Bracketing.html#9648" class="Function">well-bracketed-end</a> <a id="11263" href="Bracketing.html#11240" class="Bound">a</a> <a id="11265" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11267" href="Bracketing.html#9746" class="Function">well-bracketed-end-isProp</a> <a id="11293" href="Bracketing.html#11240" class="Bound">a</a>
  <a id="11297" href="Bracketing.html#11297" class="Function">T</a> <a id="11299" class="Symbol">:</a> <a id="11301" href="Cubical.Foundations.HLevels.html#1475" class="Function">hProp</a> <a id="11307" href="Agda.Primitive.html#590" class="Primitive">ℓ-zero</a>
  <a id="11316" href="Bracketing.html#11297" class="Function">T</a> <a id="11318" class="Symbol">=</a> <a id="11320" href="Cubical.HITs.SetQuotients.Properties.html#1728" class="Function">[].elim</a> <a id="11328" class="Symbol">(λ</a> <a id="11331" href="Bracketing.html#11331" class="Bound">_</a> <a id="11333" class="Symbol">→</a> <a id="11335" href="Cubical.Foundations.HLevels.html#12375" class="Function">isSetHProp</a><a id="11345" class="Symbol">)</a> <a id="11347" href="Bracketing.html#11210" class="Function">wb</a> <a id="11350" class="Symbol">(λ</a> <a id="11353" href="Bracketing.html#11353" class="Bound">a</a> <a id="11355" href="Bracketing.html#11355" class="Bound">b</a> <a id="11357" href="Bracketing.html#11357" class="Bound">r</a> <a id="11359" class="Symbol">→</a> <a id="11361" href="Cubical.Data.Sigma.Properties.html#1807" class="Function">ΣProp≡</a> <a id="11368" class="Symbol">(λ</a> <a id="11371" href="Bracketing.html#11371" class="Bound">_</a> <a id="11373" class="Symbol">→</a> <a id="11375" href="Cubical.Foundations.Prelude.html#11188" class="Function">isPropIsProp</a><a id="11387" class="Symbol">)</a> <a id="11389" class="Symbol">(</a><a id="11390" href="Bracketing.html#9942" class="Function">well-bracketed-end-indep</a> <a id="11415" href="Bracketing.html#11353" class="Bound">a</a> <a id="11417" href="Bracketing.html#11355" class="Bound">b</a> <a id="11419" class="Symbol">(</a><a id="11420" href="Arrows.html#19366" class="Function">reachable-reveal</a> <a id="11437" href="Bracketing.html#11357" class="Bound">r</a><a id="11438" class="Symbol">)))</a> <a id="11442" href="Bracketing.html#11190" class="Bound">c</a>

<a id="11445" class="Comment">-- being well-bracketed is independent of the direction</a>
<a id="well-bracketed-end-op"></a><a id="11501" href="Bracketing.html#11501" class="Function">well-bracketed-end-op</a> <a id="11523" class="Symbol">:</a> <a id="11525" class="Symbol">(</a><a id="11526" href="Bracketing.html#11526" class="Bound">a</a> <a id="11528" class="Symbol">:</a> <a id="11530" href="Arrows.html#1722" class="Function">Ends</a><a id="11534" class="Symbol">)</a> <a id="11536" class="Symbol">→</a> <a id="11538" href="Bracketing.html#9648" class="Function">well-bracketed-end</a> <a id="11557" class="Symbol">(</a><a id="11558" href="Arrows.html#2390" class="Function">op</a> <a id="11561" href="Bracketing.html#11526" class="Bound">a</a><a id="11562" class="Symbol">)</a> <a id="11564" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="11566" href="Bracketing.html#9648" class="Function">well-bracketed-end</a> <a id="11585" href="Bracketing.html#11526" class="Bound">a</a>
<a id="11587" href="Bracketing.html#11501" class="Function">well-bracketed-end-op</a> <a id="11609" href="Bracketing.html#11609" class="Bound">a</a> <a id="11611" class="Symbol">=</a> <a id="11613" href="Cubical.Foundations.Univalence.html#873" class="Function">ua</a> <a id="11616" class="Symbol">(</a><a id="11617" href="Cubical.Foundations.Isomorphism.html#2641" class="Function">isoToEquiv</a> <a id="11628" href="Bracketing.html#11641" class="Function">i</a><a id="11629" class="Symbol">)</a>
  <a id="11633" class="Keyword">where</a>
  <a id="11641" href="Bracketing.html#11641" class="Function">i</a> <a id="11643" class="Symbol">:</a> <a id="11645" href="Cubical.Foundations.Isomorphism.html#716" class="Record">Iso</a> <a id="11649" class="Symbol">(</a><a id="11650" href="Bracketing.html#9648" class="Function">well-bracketed-end</a> <a id="11669" class="Symbol">(</a><a id="11670" href="Arrows.html#2390" class="Function">op</a> <a id="11673" href="Bracketing.html#11609" class="Bound">a</a><a id="11674" class="Symbol">))</a> <a id="11677" class="Symbol">(</a><a id="11678" href="Bracketing.html#9648" class="Function">well-bracketed-end</a> <a id="11697" href="Bracketing.html#11609" class="Bound">a</a><a id="11698" class="Symbol">)</a>
  <a id="11702" href="Cubical.Foundations.Isomorphism.html#810" class="Field">Iso.fun</a> <a id="11710" href="Bracketing.html#11641" class="Function">i</a> <a id="11712" href="Bracketing.html#11712" class="Bound">f</a> <a id="11714" href="Bracketing.html#11714" class="Bound">n</a> <a id="11716" class="Symbol">=</a> <a id="11718" href="Cubical.Foundations.Prelude.html#6151" class="Function">subst</a> <a id="11724" href="Bracketing.html#4956" class="Function">matched</a> <a id="11732" href="Bracketing.html#11762" class="Function">p</a> <a id="11734" class="Symbol">(</a><a id="11735" href="Bracketing.html#11712" class="Bound">f</a> <a id="11737" class="Symbol">(</a><a id="11738" href="Z.html#5495" class="Function">ℤ.neg</a> <a id="11744" href="Bracketing.html#11714" class="Bound">n</a><a id="11745" class="Symbol">))</a>
    <a id="11752" class="Keyword">where</a>
    <a id="11762" href="Bracketing.html#11762" class="Function">p</a> <a id="11764" class="Symbol">=</a>
      <a id="11772" href="Arrows.html#2197" class="Function">arrow</a> <a id="11778" class="Symbol">(</a><a id="11779" href="Arrows.html#6355" class="Function">iterate</a> <a id="11787" class="Symbol">(</a><a id="11788" href="Z.html#5495" class="Function">ℤ.neg</a> <a id="11794" href="Bracketing.html#11714" class="Bound">n</a><a id="11795" class="Symbol">)</a> <a id="11797" class="Symbol">(</a><a id="11798" href="Arrows.html#2390" class="Function">op</a> <a id="11801" href="Bracketing.html#11609" class="Bound">a</a><a id="11802" class="Symbol">))</a> <a id="11805" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="11808" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="11813" href="Arrows.html#2197" class="Function">arrow</a> <a id="11819" class="Symbol">(</a><a id="11820" href="Arrows.html#7690" class="Function">iterate-neg-op</a> <a id="11835" href="Bracketing.html#11714" class="Bound">n</a> <a id="11837" href="Bracketing.html#11609" class="Bound">a</a><a id="11838" class="Symbol">)</a> <a id="11840" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
      <a id="11848" href="Arrows.html#2197" class="Function">arrow</a> <a id="11854" class="Symbol">(</a><a id="11855" href="Arrows.html#2390" class="Function">op</a> <a id="11858" class="Symbol">(</a><a id="11859" href="Arrows.html#6355" class="Function">iterate</a> <a id="11867" href="Bracketing.html#11714" class="Bound">n</a> <a id="11869" href="Bracketing.html#11609" class="Bound">a</a><a id="11870" class="Symbol">))</a>         <a id="11881" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="11884" href="Cubical.Foundations.Prelude.html#858" class="Function">refl</a> <a id="11889" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
      <a id="11897" href="Arrows.html#2197" class="Function">arrow</a> <a id="11903" class="Symbol">(</a><a id="11904" href="Arrows.html#6355" class="Function">iterate</a> <a id="11912" href="Bracketing.html#11714" class="Bound">n</a> <a id="11914" href="Bracketing.html#11609" class="Bound">a</a><a id="11915" class="Symbol">)</a>              <a id="11930" href="Cubical.Foundations.Prelude.html#5494" class="Function Operator">∎</a>
  <a id="11934" href="Cubical.Foundations.Isomorphism.html#826" class="Field">Iso.inv</a> <a id="11942" href="Bracketing.html#11641" class="Function">i</a> <a id="11944" href="Bracketing.html#11944" class="Bound">f</a> <a id="11946" href="Bracketing.html#11946" class="Bound">n</a> <a id="11948" class="Symbol">=</a> <a id="11950" href="Cubical.Foundations.Prelude.html#6151" class="Function">subst</a> <a id="11956" href="Bracketing.html#4956" class="Function">matched</a> <a id="11964" href="Bracketing.html#11994" class="Function">p</a> <a id="11966" class="Symbol">(</a><a id="11967" href="Bracketing.html#11944" class="Bound">f</a> <a id="11969" class="Symbol">(</a><a id="11970" href="Z.html#5495" class="Function">ℤ.neg</a> <a id="11976" href="Bracketing.html#11946" class="Bound">n</a><a id="11977" class="Symbol">))</a>
    <a id="11984" class="Keyword">where</a>
    <a id="11994" href="Bracketing.html#11994" class="Function">p</a> <a id="11996" class="Symbol">=</a>
      <a id="12004" href="Arrows.html#2197" class="Function">arrow</a> <a id="12010" class="Symbol">(</a><a id="12011" href="Arrows.html#6355" class="Function">iterate</a> <a id="12019" class="Symbol">(</a><a id="12020" href="Z.html#5495" class="Function">ℤ.neg</a> <a id="12026" href="Bracketing.html#11946" class="Bound">n</a><a id="12027" class="Symbol">)</a> <a id="12029" href="Bracketing.html#11609" class="Bound">a</a><a id="12030" class="Symbol">)</a>   <a id="12034" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="12037" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="12042" href="Arrows.html#2197" class="Function">arrow</a> <a id="12048" class="Symbol">(</a><a id="12049" href="Arrows.html#7542" class="Function">iterate-neg</a> <a id="12061" href="Bracketing.html#11946" class="Bound">n</a> <a id="12063" href="Bracketing.html#11609" class="Bound">a</a><a id="12064" class="Symbol">)</a> <a id="12066" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
      <a id="12074" href="Arrows.html#2197" class="Function">arrow</a> <a id="12080" class="Symbol">(</a><a id="12081" href="Arrows.html#2390" class="Function">op</a> <a id="12084" class="Symbol">(</a><a id="12085" href="Arrows.html#6355" class="Function">iterate</a> <a id="12093" href="Bracketing.html#11946" class="Bound">n</a> <a id="12095" class="Symbol">(</a><a id="12096" href="Arrows.html#2390" class="Function">op</a> <a id="12099" href="Bracketing.html#11609" class="Bound">a</a><a id="12100" class="Symbol">)))</a> <a id="12104" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="12107" href="Cubical.Foundations.Prelude.html#858" class="Function">refl</a> <a id="12112" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
      <a id="12120" href="Arrows.html#2197" class="Function">arrow</a> <a id="12126" class="Symbol">(</a><a id="12127" href="Arrows.html#6355" class="Function">iterate</a> <a id="12135" href="Bracketing.html#11946" class="Bound">n</a> <a id="12137" class="Symbol">(</a><a id="12138" href="Arrows.html#2390" class="Function">op</a> <a id="12141" href="Bracketing.html#11609" class="Bound">a</a><a id="12142" class="Symbol">))</a>      <a id="12150" href="Cubical.Foundations.Prelude.html#5494" class="Function Operator">∎</a>
  <a id="12154" href="Cubical.Foundations.Isomorphism.html#842" class="Field">Iso.rightInv</a> <a id="12167" href="Bracketing.html#11641" class="Function">i</a> <a id="12169" href="Bracketing.html#12169" class="Bound">f</a> <a id="12171" class="Symbol">=</a> <a id="12173" href="Cubical.Foundations.Prelude.html#6325" class="Function">funExt</a> <a id="12180" class="Symbol">(λ</a> <a id="12183" href="Bracketing.html#12183" class="Bound">n</a> <a id="12185" class="Symbol">→</a> <a id="12187" href="Bracketing.html#5169" class="Function">matched-isProp</a> <a id="12202" class="Symbol">_</a> <a id="12204" class="Symbol">_</a> <a id="12206" class="Symbol">_)</a>
  <a id="12211" href="Cubical.Foundations.Isomorphism.html#873" class="Field">Iso.leftInv</a>  <a id="12224" href="Bracketing.html#11641" class="Function">i</a> <a id="12226" href="Bracketing.html#12226" class="Bound">f</a> <a id="12228" class="Symbol">=</a> <a id="12230" href="Cubical.Foundations.Prelude.html#6325" class="Function">funExt</a> <a id="12237" class="Symbol">(λ</a> <a id="12240" href="Bracketing.html#12240" class="Bound">n</a> <a id="12242" class="Symbol">→</a> <a id="12244" href="Bracketing.html#5169" class="Function">matched-isProp</a> <a id="12259" class="Symbol">_</a> <a id="12261" class="Symbol">_</a> <a id="12263" class="Symbol">_)</a>

<a id="12267" class="Comment">-- the chain of a directed arrow is well-bracketed</a>
<a id="well-bracketed"></a><a id="12318" href="Bracketing.html#12318" class="Function">well-bracketed</a> <a id="12333" class="Symbol">:</a> <a id="12335" href="Arrows.html#1264" class="Function">Arrows</a> <a id="12342" class="Symbol">→</a> <a id="12344" href="Cubical.Core.Primitives.html#1310" class="Function">Type₀</a>
<a id="12350" href="Bracketing.html#12318" class="Function">well-bracketed</a> <a id="12365" href="Bracketing.html#12365" class="Bound">a</a> <a id="12367" class="Symbol">=</a> <a id="12369" href="Bracketing.html#9648" class="Function">well-bracketed-end</a> <a id="12388" class="Symbol">(</a><a id="12389" href="Arrows.html#2891" class="Function">fw</a> <a id="12392" href="Bracketing.html#12365" class="Bound">a</a><a id="12393" class="Symbol">)</a>

<a id="well-bracketed-isProp"></a><a id="12396" href="Bracketing.html#12396" class="Function">well-bracketed-isProp</a> <a id="12418" class="Symbol">:</a> <a id="12420" class="Symbol">(</a><a id="12421" href="Bracketing.html#12421" class="Bound">a</a> <a id="12423" class="Symbol">:</a> <a id="12425" href="Arrows.html#1264" class="Function">Arrows</a><a id="12431" class="Symbol">)</a> <a id="12433" class="Symbol">→</a> <a id="12435" href="Cubical.Foundations.Prelude.html#7913" class="Function">isProp</a> <a id="12442" class="Symbol">(</a><a id="12443" href="Bracketing.html#12318" class="Function">well-bracketed</a> <a id="12458" href="Bracketing.html#12421" class="Bound">a</a><a id="12459" class="Symbol">)</a>
<a id="12461" href="Bracketing.html#12396" class="Function">well-bracketed-isProp</a> <a id="12483" href="Bracketing.html#12483" class="Bound">a</a> <a id="12485" class="Symbol">=</a> <a id="12487" href="Bracketing.html#9746" class="Function">well-bracketed-end-isProp</a> <a id="12513" class="Symbol">(</a><a id="12514" href="Arrows.html#2891" class="Function">fw</a> <a id="12517" href="Bracketing.html#12483" class="Bound">a</a><a id="12518" class="Symbol">)</a>

<a id="12521" class="Comment">-- being well-bracketed is independent of the starting point</a>
<a id="well-bracketed-indep"></a><a id="12582" href="Bracketing.html#12582" class="Function">well-bracketed-indep</a> <a id="12603" class="Symbol">:</a> <a id="12605" class="Symbol">(</a><a id="12606" href="Bracketing.html#12606" class="Bound">a</a> <a id="12608" href="Bracketing.html#12608" class="Bound">b</a> <a id="12610" class="Symbol">:</a> <a id="12612" href="Arrows.html#1264" class="Function">Arrows</a><a id="12618" class="Symbol">)</a> <a id="12620" class="Symbol">→</a> <a id="12622" href="Arrows.html#10287" class="Function">reachable-arr</a> <a id="12636" href="Bracketing.html#12606" class="Bound">a</a> <a id="12638" href="Bracketing.html#12608" class="Bound">b</a> <a id="12640" class="Symbol">→</a> <a id="12642" href="Bracketing.html#12318" class="Function">well-bracketed</a> <a id="12657" href="Bracketing.html#12606" class="Bound">a</a> <a id="12659" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="12661" href="Bracketing.html#12318" class="Function">well-bracketed</a> <a id="12676" href="Bracketing.html#12608" class="Bound">b</a>
<a id="12678" href="Bracketing.html#12582" class="Function">well-bracketed-indep</a> <a id="12699" href="Bracketing.html#12699" class="Bound">a</a> <a id="12701" href="Bracketing.html#12701" class="Bound">b</a> <a id="12703" href="Bracketing.html#12703" class="Bound">r</a> <a id="12705" class="Keyword">with</a> <a id="12710" href="Arrows.html#11758" class="Function">reachable-arr→reachable</a> <a id="12734" href="Bracketing.html#12703" class="Bound">r</a>
<a id="12736" class="Symbol">...</a> <a id="12740" class="Symbol">|</a> <a id="12742" href="Cubical.Data.Sum.Base.html#228" class="InductiveConstructor">inl</a> <a id="12746" href="Bracketing.html#12746" class="Bound">r&#39;</a> <a id="12749" class="Symbol">=</a> <a id="12751" href="Bracketing.html#9942" class="Function">well-bracketed-end-indep</a> <a id="12776" class="Symbol">(</a><a id="12777" href="Arrows.html#2891" class="Function">fw</a> <a id="12780" class="Bound">a</a><a id="12781" class="Symbol">)</a> <a id="12783" class="Symbol">(</a><a id="12784" href="Arrows.html#2891" class="Function">fw</a> <a id="12787" class="Bound">b</a><a id="12788" class="Symbol">)</a> <a id="12790" href="Bracketing.html#12746" class="Bound">r&#39;</a>
<a id="12793" class="Symbol">...</a> <a id="12797" class="Symbol">|</a> <a id="12799" href="Cubical.Data.Sum.Base.html#246" class="InductiveConstructor">inr</a> <a id="12803" href="Bracketing.html#12803" class="Bound">r&#39;</a> <a id="12806" class="Symbol">=</a> <a id="12808" href="Bracketing.html#9942" class="Function">well-bracketed-end-indep</a> <a id="12833" class="Symbol">(</a><a id="12834" href="Arrows.html#2891" class="Function">fw</a> <a id="12837" class="Bound">a</a><a id="12838" class="Symbol">)</a> <a id="12840" class="Symbol">(</a><a id="12841" href="Arrows.html#3001" class="Function">bw</a> <a id="12844" class="Bound">b</a><a id="12845" class="Symbol">)</a> <a id="12847" href="Bracketing.html#12803" class="Bound">r&#39;</a> <a id="12850" href="Cubical.Foundations.Prelude.html#3101" class="Function Operator">∙</a> <a id="12852" href="Bracketing.html#11501" class="Function">well-bracketed-end-op</a> <a id="12874" class="Symbol">(</a><a id="12875" href="Arrows.html#2891" class="Function">fw</a> <a id="12878" class="Bound">b</a><a id="12879" class="Symbol">)</a>

<a id="well-bracketed-chain-hProp"></a><a id="12882" href="Bracketing.html#12882" class="Function">well-bracketed-chain-hProp</a> <a id="12909" class="Symbol">:</a> <a id="12911" class="Symbol">(</a><a id="12912" href="Bracketing.html#12912" class="Bound">c</a> <a id="12914" class="Symbol">:</a> <a id="12916" href="Arrows.html#24056" class="Function">Chains</a><a id="12922" class="Symbol">)</a> <a id="12924" class="Symbol">→</a> <a id="12926" href="Cubical.Foundations.HLevels.html#1475" class="Function">hProp</a> <a id="12932" href="Agda.Primitive.html#590" class="Primitive">ℓ-zero</a>
<a id="12939" href="Bracketing.html#12882" class="Function">well-bracketed-chain-hProp</a> <a id="12966" href="Bracketing.html#12966" class="Bound">c</a> <a id="12968" class="Symbol">=</a> <a id="12970" href="Cubical.HITs.SetQuotients.Properties.html#1728" class="Function">[].elim</a> <a id="12978" class="Symbol">(λ</a> <a id="12981" href="Bracketing.html#12981" class="Bound">_</a> <a id="12983" class="Symbol">→</a> <a id="12985" href="Cubical.Foundations.HLevels.html#12375" class="Function">isSetHProp</a><a id="12995" class="Symbol">)</a> <a id="12997" class="Symbol">(λ</a> <a id="13000" href="Bracketing.html#13000" class="Bound">a</a> <a id="13002" class="Symbol">→</a> <a id="13004" href="Bracketing.html#12318" class="Function">well-bracketed</a> <a id="13019" href="Bracketing.html#13000" class="Bound">a</a> <a id="13021" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13023" href="Bracketing.html#12396" class="Function">well-bracketed-isProp</a> <a id="13045" href="Bracketing.html#13000" class="Bound">a</a><a id="13046" class="Symbol">)</a> <a id="13048" href="Bracketing.html#13079" class="Function">indep</a> <a id="13054" href="Bracketing.html#12966" class="Bound">c</a>
  <a id="13058" class="Keyword">where</a>
  <a id="13066" class="Keyword">abstract</a>
    <a id="13079" href="Bracketing.html#13079" class="Function">indep</a> <a id="13085" class="Symbol">=</a> <a id="13087" class="Symbol">(λ</a> <a id="13090" href="Bracketing.html#13090" class="Bound">a</a> <a id="13092" href="Bracketing.html#13092" class="Bound">b</a> <a id="13094" href="Bracketing.html#13094" class="Bound">r</a> <a id="13096" class="Symbol">→</a> <a id="13098" href="Cubical.Data.Sigma.Properties.html#1807" class="Function">ΣProp≡</a> <a id="13105" class="Symbol">(λ</a> <a id="13108" href="Bracketing.html#13108" class="Bound">_</a> <a id="13110" class="Symbol">→</a> <a id="13112" href="Cubical.Foundations.Prelude.html#11188" class="Function">isPropIsProp</a><a id="13124" class="Symbol">)</a> <a id="13126" class="Symbol">(</a><a id="13127" href="Bracketing.html#12582" class="Function">well-bracketed-indep</a> <a id="13148" href="Bracketing.html#13090" class="Bound">a</a> <a id="13150" href="Bracketing.html#13092" class="Bound">b</a> <a id="13152" class="Symbol">(</a><a id="13153" href="Arrows.html#18266" class="Function">reachable-arr-reveal</a> <a id="13174" href="Bracketing.html#13094" class="Bound">r</a><a id="13175" class="Symbol">)))</a>

<a id="13180" class="Comment">-- the chain of an arrow is well-bracketed</a>
<a id="well-bracketed-chain"></a><a id="13223" href="Bracketing.html#13223" class="Function">well-bracketed-chain</a> <a id="13244" class="Symbol">:</a> <a id="13246" class="Symbol">(</a><a id="13247" href="Bracketing.html#13247" class="Bound">c</a> <a id="13249" class="Symbol">:</a> <a id="13251" href="Arrows.html#24056" class="Function">Chains</a><a id="13257" class="Symbol">)</a> <a id="13259" class="Symbol">→</a> <a id="13261" href="Cubical.Core.Primitives.html#1310" class="Function">Type₀</a>
<a id="13267" href="Bracketing.html#13223" class="Function">well-bracketed-chain</a> <a id="13288" href="Bracketing.html#13288" class="Bound">c</a> <a id="13290" class="Symbol">=</a> <a id="13292" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="13296" class="Symbol">(</a><a id="13297" href="Bracketing.html#12882" class="Function">well-bracketed-chain-hProp</a> <a id="13324" href="Bracketing.html#13288" class="Bound">c</a><a id="13325" class="Symbol">)</a>

<a id="well-bracketed-chain-isProp"></a><a id="13328" href="Bracketing.html#13328" class="Function">well-bracketed-chain-isProp</a> <a id="13356" class="Symbol">:</a> <a id="13358" class="Symbol">(</a><a id="13359" href="Bracketing.html#13359" class="Bound">c</a> <a id="13361" class="Symbol">:</a> <a id="13363" href="Arrows.html#24056" class="Function">Chains</a><a id="13369" class="Symbol">)</a> <a id="13371" class="Symbol">→</a> <a id="13373" href="Cubical.Foundations.Prelude.html#7913" class="Function">isProp</a> <a id="13380" class="Symbol">(</a><a id="13381" href="Bracketing.html#13223" class="Function">well-bracketed-chain</a> <a id="13402" href="Bracketing.html#13359" class="Bound">c</a><a id="13403" class="Symbol">)</a>
<a id="13405" href="Bracketing.html#13328" class="Function">well-bracketed-chain-isProp</a> <a id="13433" href="Bracketing.html#13433" class="Bound">c</a> <a id="13435" class="Symbol">=</a> <a id="13437" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="13441" class="Symbol">(</a><a id="13442" href="Bracketing.html#12882" class="Function">well-bracketed-chain-hProp</a> <a id="13469" href="Bracketing.html#13433" class="Bound">c</a><a id="13470" class="Symbol">)</a>

<a id="13473" class="Comment">-- matched arrows are at even distance (it is stated odd because matched takes</a>
<a id="13552" class="Comment">-- the successor of the number)</a>
<a id="matched-odd"></a><a id="13584" href="Bracketing.html#13584" class="Function">matched-odd</a> <a id="13596" class="Symbol">:</a> <a id="13598" class="Symbol">{</a><a id="13599" href="Bracketing.html#13599" class="Bound">a</a> <a id="13601" class="Symbol">:</a> <a id="13603" href="Arrows.html#1264" class="Function">Arrows</a><a id="13609" class="Symbol">}</a> <a id="13611" class="Symbol">(</a><a id="13612" href="Bracketing.html#13612" class="Bound">m</a> <a id="13614" class="Symbol">:</a> <a id="13616" href="Bracketing.html#4956" class="Function">matched</a> <a id="13624" href="Bracketing.html#13599" class="Bound">a</a><a id="13625" class="Symbol">)</a> <a id="13627" class="Symbol">→</a> <a id="13629" href="Nat.html#376" class="Datatype">ℕ.is-odd</a> <a id="13638" class="Symbol">(</a><a id="13639" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="13643" href="Bracketing.html#13612" class="Bound">m</a><a id="13644" class="Symbol">)</a>
<a id="13646" href="Bracketing.html#13584" class="Function">matched-odd</a> <a id="13658" class="Symbol">{</a><a id="13659" href="Bracketing.html#13659" class="Bound">a</a><a id="13660" class="Symbol">}</a> <a id="13662" class="Symbol">(</a><a id="13663" href="Bracketing.html#13663" class="Bound">n</a> <a id="13665" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13667" href="Bracketing.html#13667" class="Bound">z</a> <a id="13669" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13671" href="Bracketing.html#13671" class="Bound">¬z</a><a id="13673" class="Symbol">)</a> <a id="13675" class="Keyword">with</a> <a id="13680" href="Nat.html#1093" class="Function">ℕ.parity</a> <a id="13689" href="Bracketing.html#13663" class="Bound">n</a>
<a id="13691" class="Symbol">...</a> <a id="13695" class="Symbol">|</a> <a id="13697" href="Cubical.Data.Sum.Base.html#246" class="InductiveConstructor">inr</a> <a id="13701" href="Bracketing.html#13701" class="Bound">odd</a> <a id="13705" class="Symbol">=</a> <a id="13707" href="Bracketing.html#13701" class="Bound">odd</a>
<a id="13711" class="Symbol">...</a> <a id="13715" class="Symbol">|</a> <a id="13717" href="Cubical.Data.Sum.Base.html#228" class="InductiveConstructor">inl</a> <a id="13721" href="Bracketing.html#13721" class="Bound">even</a> <a id="13726" class="Symbol">=</a> <a id="13728" href="Cubical.Data.Empty.Base.html#172" class="Function">⊥.elim</a> <a id="13735" class="Symbol">(</a><a id="13736" href="Z.html#8501" class="Postulate">ℤ.even-or-odd</a> <a id="13750" class="Symbol">(</a><a id="13751" href="Bracketing.html#1797" class="Function">height</a> <a id="13758" class="Bound">n</a> <a id="13760" class="Symbol">(</a><a id="13761" href="Arrows.html#2891" class="Function">fw</a> <a id="13764" class="Bound">a</a><a id="13765" class="Symbol">))</a> <a id="13768" class="Symbol">(</a><a id="13769" href="Bracketing.html#14410" class="Function">lem-even</a> <a id="13778" class="Symbol">(</a><a id="13779" href="Arrows.html#2891" class="Function">fw</a> <a id="13782" class="Bound">a</a><a id="13783" class="Symbol">)</a> <a id="13785" class="Bound">n</a> <a id="13787" href="Bracketing.html#13721" class="Bound">even</a> <a id="13792" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13794" href="Z.html#8808" class="Postulate">even-suc-inv</a> <a id="13807" class="Symbol">(</a><a id="13808" href="Bracketing.html#1797" class="Function">height</a> <a id="13815" class="Bound">n</a> <a id="13817" class="Symbol">(</a><a id="13818" href="Arrows.html#2891" class="Function">fw</a> <a id="13821" class="Bound">a</a><a id="13822" class="Symbol">))</a> <a id="13825" class="Symbol">(</a><a id="13826" href="Cubical.Foundations.Prelude.html#6151" class="Function">subst</a> <a id="13832" href="Z.html#7586" class="Datatype">ℤ.is-even</a> <a id="13842" class="Symbol">(</a><a id="13843" href="Z.html#5264" class="Postulate">ℤ.+1-suc</a> <a id="13852" class="Symbol">(</a><a id="13853" href="Bracketing.html#1797" class="Function">height</a> <a id="13860" class="Bound">n</a> <a id="13862" class="Symbol">(</a><a id="13863" href="Arrows.html#2891" class="Function">fw</a> <a id="13866" class="Bound">a</a><a id="13867" class="Symbol">)))</a> <a id="13871" class="Symbol">{!!})))</a>
  <a id="13881" class="Keyword">where</a>
  <a id="13889" href="Bracketing.html#13889" class="Function">even-hw</a> <a id="13897" class="Symbol">:</a> <a id="13899" class="Symbol">(</a><a id="13900" href="Bracketing.html#13900" class="Bound">n</a> <a id="13902" class="Symbol">:</a> <a id="13904" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="13905" class="Symbol">)</a> <a id="13907" class="Symbol">(</a><a id="13908" href="Bracketing.html#13908" class="Bound">o</a> <a id="13910" href="Bracketing.html#13910" class="Bound">o&#39;</a> <a id="13913" class="Symbol">:</a> <a id="13915" href="Arrows.html#1722" class="Function">Ends</a><a id="13919" class="Symbol">)</a> <a id="13921" class="Symbol">→</a> <a id="13923" href="Z.html#7611" class="Datatype">ℤ.is-odd</a> <a id="13932" class="Symbol">(</a><a id="13933" href="Bracketing.html#1797" class="Function">height</a> <a id="13940" href="Bracketing.html#13900" class="Bound">n</a> <a id="13942" href="Bracketing.html#13908" class="Bound">o</a><a id="13943" class="Symbol">)</a> <a id="13945" class="Symbol">→</a> <a id="13947" href="Z.html#7586" class="Datatype">ℤ.is-even</a> <a id="13957" class="Symbol">(</a><a id="13958" href="Bracketing.html#1797" class="Function">height</a> <a id="13965" href="Bracketing.html#13900" class="Bound">n</a> <a id="13967" href="Bracketing.html#13908" class="Bound">o</a> <a id="13969" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="13973" href="Bracketing.html#1221" class="Function">weight</a> <a id="13980" href="Bracketing.html#13910" class="Bound">o&#39;</a><a id="13982" class="Symbol">)</a>
  <a id="13986" href="Bracketing.html#13889" class="Function">even-hw</a> <a id="13994" href="Bracketing.html#13994" class="Bound">n</a> <a id="13996" href="Bracketing.html#13996" class="Bound">o</a> <a id="13998" class="Symbol">(</a><a id="13999" href="Bracketing.html#13999" class="Bound">o&#39;</a> <a id="14002" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14004" href="Ends.html#390" class="InductiveConstructor">src</a><a id="14007" class="Symbol">)</a> <a id="14009" href="Bracketing.html#14009" class="Bound">odd</a> <a id="14013" class="Symbol">=</a> <a id="14015" href="Cubical.Foundations.Prelude.html#6151" class="Function">subst</a> <a id="14021" href="Z.html#7586" class="Datatype">ℤ.is-even</a> <a id="14031" class="Symbol">(</a><a id="14032" href="Cubical.Foundations.Prelude.html#895" class="Function">sym</a> <a id="14036" class="Symbol">(</a><a id="14037" href="Z.html#5264" class="Postulate">ℤ.+1-suc</a> <a id="14046" class="Symbol">_))</a> <a id="14050" class="Symbol">(</a><a id="14051" href="Z.html#7681" class="InductiveConstructor">even-suc</a> <a id="14060" href="Bracketing.html#14009" class="Bound">odd</a><a id="14063" class="Symbol">)</a>
  <a id="14067" href="Bracketing.html#13889" class="Function">even-hw</a> <a id="14075" href="Bracketing.html#14075" class="Bound">n</a> <a id="14077" href="Bracketing.html#14077" class="Bound">o</a> <a id="14079" class="Symbol">(</a><a id="14080" href="Bracketing.html#14080" class="Bound">o&#39;</a> <a id="14083" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14085" href="Ends.html#402" class="InductiveConstructor">tgt</a><a id="14088" class="Symbol">)</a> <a id="14090" href="Bracketing.html#14090" class="Bound">odd</a> <a id="14094" class="Symbol">=</a> <a id="14096" href="Cubical.Foundations.Prelude.html#6151" class="Function">subst</a> <a id="14102" href="Z.html#7586" class="Datatype">ℤ.is-even</a> <a id="14112" class="Symbol">(</a><a id="14113" href="Cubical.Foundations.Prelude.html#895" class="Function">sym</a> <a id="14117" class="Symbol">(</a><a id="14118" href="Z.html#5951" class="Postulate">ℤ.-1-pred</a> <a id="14128" class="Symbol">_))</a> <a id="14132" class="Symbol">(</a><a id="14133" href="Z.html#7733" class="InductiveConstructor">even-predl</a> <a id="14144" href="Bracketing.html#14090" class="Bound">odd</a><a id="14147" class="Symbol">)</a>
  <a id="14151" href="Bracketing.html#14151" class="Function">odd-hw</a> <a id="14158" class="Symbol">:</a> <a id="14160" class="Symbol">(</a><a id="14161" href="Bracketing.html#14161" class="Bound">n</a> <a id="14163" class="Symbol">:</a> <a id="14165" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="14166" class="Symbol">)</a> <a id="14168" class="Symbol">(</a><a id="14169" href="Bracketing.html#14169" class="Bound">o</a> <a id="14171" href="Bracketing.html#14171" class="Bound">o&#39;</a> <a id="14174" class="Symbol">:</a> <a id="14176" href="Arrows.html#1722" class="Function">Ends</a><a id="14180" class="Symbol">)</a> <a id="14182" class="Symbol">→</a> <a id="14184" href="Z.html#7586" class="Datatype">ℤ.is-even</a> <a id="14194" class="Symbol">(</a><a id="14195" href="Bracketing.html#1797" class="Function">height</a> <a id="14202" href="Bracketing.html#14161" class="Bound">n</a> <a id="14204" href="Bracketing.html#14169" class="Bound">o</a><a id="14205" class="Symbol">)</a> <a id="14207" class="Symbol">→</a> <a id="14209" href="Z.html#7611" class="Datatype">ℤ.is-odd</a> <a id="14218" class="Symbol">(</a><a id="14219" href="Bracketing.html#1797" class="Function">height</a> <a id="14226" href="Bracketing.html#14161" class="Bound">n</a> <a id="14228" href="Bracketing.html#14169" class="Bound">o</a> <a id="14230" href="Z.html#4758" class="Function Operator">ℤ.+</a> <a id="14234" href="Bracketing.html#1221" class="Function">weight</a> <a id="14241" href="Bracketing.html#14171" class="Bound">o&#39;</a><a id="14243" class="Symbol">)</a>
  <a id="14247" href="Bracketing.html#14151" class="Function">odd-hw</a> <a id="14254" href="Bracketing.html#14254" class="Bound">n</a> <a id="14256" href="Bracketing.html#14256" class="Bound">o</a> <a id="14258" class="Symbol">(</a><a id="14259" href="Bracketing.html#14259" class="Bound">o&#39;</a> <a id="14262" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14264" href="Ends.html#390" class="InductiveConstructor">src</a><a id="14267" class="Symbol">)</a> <a id="14269" href="Bracketing.html#14269" class="Bound">even</a> <a id="14274" class="Symbol">=</a> <a id="14276" href="Cubical.Foundations.Prelude.html#6151" class="Function">subst</a> <a id="14282" href="Z.html#7611" class="Datatype">ℤ.is-odd</a> <a id="14291" class="Symbol">(</a><a id="14292" href="Cubical.Foundations.Prelude.html#895" class="Function">sym</a> <a id="14296" class="Symbol">(</a><a id="14297" href="Z.html#5264" class="Postulate">ℤ.+1-suc</a> <a id="14306" class="Symbol">_))</a> <a id="14310" class="Symbol">(</a><a id="14311" href="Z.html#7860" class="InductiveConstructor">odd-suc</a> <a id="14319" href="Bracketing.html#14269" class="Bound">even</a><a id="14323" class="Symbol">)</a>
  <a id="14327" href="Bracketing.html#14151" class="Function">odd-hw</a> <a id="14334" href="Bracketing.html#14334" class="Bound">n</a> <a id="14336" href="Bracketing.html#14336" class="Bound">o</a> <a id="14338" class="Symbol">(</a><a id="14339" href="Bracketing.html#14339" class="Bound">o&#39;</a> <a id="14342" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14344" href="Ends.html#402" class="InductiveConstructor">tgt</a><a id="14347" class="Symbol">)</a> <a id="14349" href="Bracketing.html#14349" class="Bound">even</a> <a id="14354" class="Symbol">=</a> <a id="14356" href="Cubical.Foundations.Prelude.html#6151" class="Function">subst</a> <a id="14362" href="Z.html#7611" class="Datatype">ℤ.is-odd</a> <a id="14371" class="Symbol">(</a><a id="14372" href="Cubical.Foundations.Prelude.html#895" class="Function">sym</a> <a id="14376" class="Symbol">(</a><a id="14377" href="Z.html#5951" class="Postulate">ℤ.-1-pred</a> <a id="14387" class="Symbol">_))</a> <a id="14391" class="Symbol">(</a><a id="14392" href="Z.html#7911" class="InductiveConstructor">odd-predl</a> <a id="14402" href="Bracketing.html#14349" class="Bound">even</a><a id="14406" class="Symbol">)</a>
  <a id="14410" href="Bracketing.html#14410" class="Function">lem-even</a> <a id="14419" class="Symbol">:</a> <a id="14421" class="Symbol">(</a><a id="14422" href="Bracketing.html#14422" class="Bound">o</a> <a id="14424" class="Symbol">:</a> <a id="14426" href="Arrows.html#1722" class="Function">Ends</a><a id="14430" class="Symbol">)</a> <a id="14432" class="Symbol">(</a><a id="14433" href="Bracketing.html#14433" class="Bound">n</a> <a id="14435" class="Symbol">:</a> <a id="14437" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="14438" class="Symbol">)</a> <a id="14440" class="Symbol">→</a> <a id="14442" href="Nat.html#351" class="Datatype">ℕ.is-even</a> <a id="14452" href="Bracketing.html#14433" class="Bound">n</a> <a id="14454" class="Symbol">→</a> <a id="14456" href="Z.html#7586" class="Datatype">ℤ.is-even</a> <a id="14466" class="Symbol">(</a><a id="14467" href="Bracketing.html#1797" class="Function">height</a> <a id="14474" href="Bracketing.html#14433" class="Bound">n</a> <a id="14476" href="Bracketing.html#14422" class="Bound">o</a><a id="14477" class="Symbol">)</a>
  <a id="14481" href="Bracketing.html#14481" class="Function">lem-odd</a>  <a id="14490" class="Symbol">:</a> <a id="14492" class="Symbol">(</a><a id="14493" href="Bracketing.html#14493" class="Bound">o</a> <a id="14495" class="Symbol">:</a> <a id="14497" href="Arrows.html#1722" class="Function">Ends</a><a id="14501" class="Symbol">)</a> <a id="14503" class="Symbol">(</a><a id="14504" href="Bracketing.html#14504" class="Bound">n</a> <a id="14506" class="Symbol">:</a> <a id="14508" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="14509" class="Symbol">)</a> <a id="14511" class="Symbol">→</a> <a id="14513" href="Nat.html#376" class="Datatype">ℕ.is-odd</a> <a id="14522" href="Bracketing.html#14504" class="Bound">n</a> <a id="14524" class="Symbol">→</a> <a id="14526" href="Z.html#7611" class="Datatype">ℤ.is-odd</a> <a id="14535" class="Symbol">(</a><a id="14536" href="Bracketing.html#1797" class="Function">height</a> <a id="14543" href="Bracketing.html#14504" class="Bound">n</a> <a id="14545" href="Bracketing.html#14493" class="Bound">o</a><a id="14546" class="Symbol">)</a>
  <a id="14550" href="Bracketing.html#14410" class="Function">lem-even</a> <a id="14559" href="Bracketing.html#14559" class="Bound">o</a> <a id="14561" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a> <a id="14566" href="Bracketing.html#14566" class="Bound">p</a> <a id="14568" class="Symbol">=</a> <a id="14570" href="Z.html#7653" class="InductiveConstructor">even-zero</a>
  <a id="14582" href="Bracketing.html#14410" class="Function">lem-even</a> <a id="14591" href="Bracketing.html#14591" class="Bound">o</a> <a id="14593" class="Symbol">(</a><a id="14594" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="14598" href="Bracketing.html#14598" class="Bound">n</a><a id="14599" class="Symbol">)</a> <a id="14601" href="Bracketing.html#14601" class="Bound">p</a> <a id="14603" class="Symbol">=</a> <a id="14605" href="Bracketing.html#13889" class="Function">even-hw</a> <a id="14613" href="Bracketing.html#14598" class="Bound">n</a> <a id="14615" href="Bracketing.html#14591" class="Bound">o</a> <a id="14617" class="Symbol">(</a><a id="14618" href="Arrows.html#6355" class="Function">iterate</a> <a id="14626" class="Symbol">(</a><a id="14627" href="Z.html#6334" class="Function">fromℕ</a> <a id="14633" href="Bracketing.html#14598" class="Bound">n</a><a id="14634" class="Symbol">)</a> <a id="14636" href="Bracketing.html#14591" class="Bound">o</a><a id="14637" class="Symbol">)</a> <a id="14639" class="Symbol">(</a><a id="14640" href="Bracketing.html#14481" class="Function">lem-odd</a> <a id="14648" href="Bracketing.html#14591" class="Bound">o</a> <a id="14650" href="Bracketing.html#14598" class="Bound">n</a> <a id="14652" class="Symbol">(</a><a id="14653" href="Nat.html#942" class="Function">odd-pred</a> <a id="14662" href="Bracketing.html#14601" class="Bound">p</a><a id="14663" class="Symbol">))</a>
  <a id="14668" href="Bracketing.html#14481" class="Function">lem-odd</a> <a id="14676" href="Bracketing.html#14676" class="Bound">o</a> <a id="14678" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a> <a id="14683" href="Bracketing.html#14683" class="Bound">p</a> <a id="14685" class="Symbol">=</a> <a id="14687" href="Cubical.Data.Empty.Base.html#172" class="Function">⊥.elim</a> <a id="14694" class="Symbol">(</a><a id="14695" href="Nat.html#900" class="Function">¬odd-zero</a> <a id="14705" href="Bracketing.html#14683" class="Bound">p</a><a id="14706" class="Symbol">)</a>
  <a id="14710" href="Bracketing.html#14481" class="Function">lem-odd</a> <a id="14718" href="Bracketing.html#14718" class="Bound">o</a> <a id="14720" class="Symbol">(</a><a id="14721" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="14725" href="Bracketing.html#14725" class="Bound">n</a><a id="14726" class="Symbol">)</a> <a id="14728" href="Bracketing.html#14728" class="Bound">p</a> <a id="14730" class="Symbol">=</a> <a id="14732" href="Bracketing.html#14151" class="Function">odd-hw</a> <a id="14739" href="Bracketing.html#14725" class="Bound">n</a> <a id="14741" href="Bracketing.html#14718" class="Bound">o</a> <a id="14743" class="Symbol">(</a><a id="14744" href="Arrows.html#6355" class="Function">iterate</a> <a id="14752" class="Symbol">(</a><a id="14753" href="Z.html#6334" class="Function">fromℕ</a> <a id="14759" href="Bracketing.html#14725" class="Bound">n</a><a id="14760" class="Symbol">)</a> <a id="14762" href="Bracketing.html#14718" class="Bound">o</a><a id="14763" class="Symbol">)</a> <a id="14765" class="Symbol">(</a><a id="14766" href="Bracketing.html#14410" class="Function">lem-even</a> <a id="14775" href="Bracketing.html#14718" class="Bound">o</a> <a id="14777" href="Bracketing.html#14725" class="Bound">n</a> <a id="14779" class="Symbol">(</a><a id="14780" href="Nat.html#1017" class="Function">even-pred</a> <a id="14790" href="Bracketing.html#14728" class="Bound">p</a><a id="14791" class="Symbol">))</a>

<a id="14795" class="Comment">-- match swaps the A/B component</a>
<a id="match-lr"></a><a id="14828" href="Bracketing.html#14828" class="Function">match-lr</a> <a id="14837" class="Symbol">:</a> <a id="14839" class="Symbol">{</a><a id="14840" href="Bracketing.html#14840" class="Bound">a</a> <a id="14842" class="Symbol">:</a> <a id="14844" href="Arrows.html#1264" class="Function">Arrows</a><a id="14850" class="Symbol">}</a> <a id="14852" class="Symbol">(</a><a id="14853" href="Bracketing.html#14853" class="Bound">m</a> <a id="14855" class="Symbol">:</a> <a id="14857" href="Bracketing.html#4956" class="Function">matched</a> <a id="14865" href="Bracketing.html#14840" class="Bound">a</a><a id="14866" class="Symbol">)</a> <a id="14868" class="Symbol">→</a> <a id="14870" href="Misc.html#9673" class="Datatype">in-left</a> <a id="14878" href="Bracketing.html#14840" class="Bound">a</a> <a id="14880" class="Symbol">→</a> <a id="14882" href="Misc.html#9800" class="Datatype">in-right</a> <a id="14891" class="Symbol">(</a><a id="14892" href="Bracketing.html#5662" class="Function">match</a> <a id="14898" href="Bracketing.html#14853" class="Bound">m</a><a id="14899" class="Symbol">)</a>
<a id="14901" href="Bracketing.html#14828" class="Function">match-lr</a> <a id="14910" href="Bracketing.html#14910" class="Bound">m</a> <a id="14912" class="Symbol">(</a><a id="14913" href="Misc.html#9759" class="InductiveConstructor">is-inl</a> <a id="14920" href="Bracketing.html#14920" class="Bound">a</a><a id="14921" class="Symbol">)</a> <a id="14923" class="Symbol">=</a> <a id="14925" href="Arrows.html#8434" class="Function">iterate-A-odd</a> <a id="14939" class="Symbol">(</a><a id="14940" href="Misc.html#9759" class="InductiveConstructor">is-inl</a> <a id="14947" href="Bracketing.html#14920" class="Bound">a</a><a id="14948" class="Symbol">)</a> <a id="14950" class="Symbol">(</a><a id="14951" href="Z.html#10565" class="Function">is-oddℕ</a> <a id="14959" class="Symbol">(</a><a id="14960" href="Bracketing.html#13584" class="Function">matched-odd</a> <a id="14972" href="Bracketing.html#14910" class="Bound">m</a><a id="14973" class="Symbol">))</a>

<a id="match-rl"></a><a id="14977" href="Bracketing.html#14977" class="Function">match-rl</a> <a id="14986" class="Symbol">:</a> <a id="14988" class="Symbol">{</a><a id="14989" href="Bracketing.html#14989" class="Bound">a</a> <a id="14991" class="Symbol">:</a> <a id="14993" href="Arrows.html#1264" class="Function">Arrows</a><a id="14999" class="Symbol">}</a> <a id="15001" class="Symbol">(</a><a id="15002" href="Bracketing.html#15002" class="Bound">m</a> <a id="15004" class="Symbol">:</a> <a id="15006" href="Bracketing.html#4956" class="Function">matched</a> <a id="15014" href="Bracketing.html#14989" class="Bound">a</a><a id="15015" class="Symbol">)</a> <a id="15017" class="Symbol">→</a> <a id="15019" href="Misc.html#9800" class="Datatype">in-right</a> <a id="15028" href="Bracketing.html#14989" class="Bound">a</a> <a id="15030" class="Symbol">→</a> <a id="15032" href="Misc.html#9673" class="Datatype">in-left</a> <a id="15040" class="Symbol">(</a><a id="15041" href="Bracketing.html#5662" class="Function">match</a> <a id="15047" href="Bracketing.html#15002" class="Bound">m</a><a id="15048" class="Symbol">)</a>
<a id="15050" href="Bracketing.html#14977" class="Function">match-rl</a> <a id="15059" href="Bracketing.html#15059" class="Bound">m</a> <a id="15061" class="Symbol">(</a><a id="15062" href="Misc.html#9887" class="InductiveConstructor">is-inr</a> <a id="15069" href="Bracketing.html#15069" class="Bound">b</a><a id="15070" class="Symbol">)</a> <a id="15072" class="Symbol">=</a> <a id="15074" href="Arrows.html#8652" class="Function">iterate-B-odd</a> <a id="15088" class="Symbol">(</a><a id="15089" href="Misc.html#9887" class="InductiveConstructor">is-inr</a> <a id="15096" href="Bracketing.html#15069" class="Bound">b</a><a id="15097" class="Symbol">)</a> <a id="15099" class="Symbol">(</a><a id="15100" href="Z.html#10565" class="Function">is-oddℕ</a> <a id="15108" class="Symbol">(</a><a id="15109" href="Bracketing.html#13584" class="Function">matched-odd</a> <a id="15121" href="Bracketing.html#15059" class="Bound">m</a><a id="15122" class="Symbol">))</a>

<a id="wb-reachable-arr-matched"></a><a id="15126" href="Bracketing.html#15126" class="Function">wb-reachable-arr-matched</a> <a id="15151" class="Symbol">:</a> <a id="15153" class="Symbol">{</a><a id="15154" href="Bracketing.html#15154" class="Bound">a</a> <a id="15156" href="Bracketing.html#15156" class="Bound">b</a> <a id="15158" class="Symbol">:</a> <a id="15160" href="Arrows.html#1264" class="Function">Arrows</a><a id="15166" class="Symbol">}</a> <a id="15168" class="Symbol">→</a> <a id="15170" href="Bracketing.html#12318" class="Function">well-bracketed</a> <a id="15185" href="Bracketing.html#15154" class="Bound">a</a> <a id="15187" class="Symbol">→</a> <a id="15189" href="Arrows.html#12019" class="Function">is-reachable-arr</a> <a id="15206" href="Bracketing.html#15154" class="Bound">a</a> <a id="15208" href="Bracketing.html#15156" class="Bound">b</a> <a id="15210" class="Symbol">→</a> <a id="15212" href="Bracketing.html#4956" class="Function">matched</a> <a id="15220" href="Bracketing.html#15156" class="Bound">b</a>
<a id="15222" href="Bracketing.html#15126" class="Function">wb-reachable-arr-matched</a> <a id="15247" href="Bracketing.html#15247" class="Bound">wb</a> <a id="15250" href="Bracketing.html#15250" class="Bound">r</a> <a id="15252" class="Symbol">=</a> <a id="15254" href="Cubical.HITs.PropositionalTruncation.Properties.html#893" class="Function">∥∥.elim</a> <a id="15262" class="Symbol">(λ</a> <a id="15265" href="Bracketing.html#15265" class="Bound">_</a> <a id="15267" class="Symbol">→</a> <a id="15269" href="Bracketing.html#5169" class="Function">matched-isProp</a> <a id="15284" class="Symbol">_)</a> <a id="15287" class="Symbol">(λ</a> <a id="15290" href="Bracketing.html#15290" class="Bound">r</a> <a id="15292" class="Symbol">→</a> <a id="15294" href="Cubical.Foundations.Prelude.html#6151" class="Function">subst</a> <a id="15300" href="Bracketing.html#4956" class="Function">matched</a> <a id="15308" class="Symbol">(</a><a id="15309" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="15313" href="Bracketing.html#15290" class="Bound">r</a><a id="15314" class="Symbol">)</a> <a id="15316" class="Symbol">(</a><a id="15317" href="Bracketing.html#15247" class="Bound">wb</a> <a id="15320" class="Symbol">(</a><a id="15321" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="15325" href="Bracketing.html#15290" class="Bound">r</a><a id="15326" class="Symbol">)))</a> <a id="15330" href="Bracketing.html#15250" class="Bound">r</a>

<a id="matching-equiv"></a><a id="15333" href="Bracketing.html#15333" class="Function">matching-equiv</a> <a id="15348" class="Symbol">:</a> <a id="15350" class="Symbol">{</a><a id="15351" href="Bracketing.html#15351" class="Bound">c</a> <a id="15353" class="Symbol">:</a> <a id="15355" href="Arrows.html#24056" class="Function">Chains</a><a id="15361" class="Symbol">}</a> <a id="15363" class="Symbol">→</a> <a id="15365" href="Bracketing.html#13223" class="Function">well-bracketed-chain</a> <a id="15386" href="Bracketing.html#15351" class="Bound">c</a> <a id="15388" class="Symbol">→</a> <a id="15390" href="Arrows.html#29733" class="Function">chain-A≃B</a> <a id="15400" href="Bracketing.html#15351" class="Bound">c</a>
<a id="15402" href="Bracketing.html#15333" class="Function">matching-equiv</a> <a id="15417" class="Symbol">{</a><a id="15418" href="Bracketing.html#15418" class="Bound">c</a><a id="15419" class="Symbol">}</a> <a id="15421" class="Symbol">=</a> <a id="15423" href="Cubical.HITs.SetQuotients.Properties.html#1728" class="Function">[].elim</a>
  <a id="15433" class="Symbol">{</a><a id="15434" class="Argument">B</a> <a id="15436" class="Symbol">=</a> <a id="15438" class="Symbol">λ</a> <a id="15440" href="Bracketing.html#15440" class="Bound">c</a> <a id="15442" class="Symbol">→</a> <a id="15444" href="Bracketing.html#13223" class="Function">well-bracketed-chain</a> <a id="15465" href="Bracketing.html#15440" class="Bound">c</a> <a id="15467" class="Symbol">→</a> <a id="15469" href="Arrows.html#29733" class="Function">chain-A≃B</a> <a id="15479" href="Bracketing.html#15440" class="Bound">c</a> <a id="15481" class="Symbol">}</a>
  <a id="15485" class="Symbol">(λ</a> <a id="15488" href="Bracketing.html#15488" class="Bound">o</a> <a id="15490" class="Symbol">→</a> <a id="15492" href="Cubical.Foundations.HLevels.html#10276" class="Function">isSetΠ</a> <a id="15499" class="Symbol">(λ</a> <a id="15502" href="Bracketing.html#15502" class="Bound">_</a> <a id="15504" class="Symbol">→</a> <a id="15506" href="Arrows.html#29796" class="Function">chain-A≃B-isSet</a> <a id="15522" class="Symbol">_))</a>
  <a id="15528" href="Bracketing.html#16977" class="Function">e</a>
  <a id="15532" class="Symbol">(λ</a> <a id="15535" href="Bracketing.html#15535" class="Bound">a</a> <a id="15537" href="Bracketing.html#15537" class="Bound">b</a> <a id="15539" href="Bracketing.html#15539" class="Bound">r</a> <a id="15541" class="Symbol">→</a> <a id="15543" href="Bracketing.html#17072" class="Function">e-indep</a> <a id="15551" href="Bracketing.html#15539" class="Bound">r</a><a id="15552" class="Symbol">)</a>
  <a id="15556" href="Bracketing.html#15418" class="Bound">c</a>
  <a id="15560" class="Keyword">where</a>
  <a id="15568" href="Bracketing.html#15568" class="Function">i</a> <a id="15570" class="Symbol">:</a> <a id="15572" class="Symbol">{</a><a id="15573" href="Bracketing.html#15573" class="Bound">a</a> <a id="15575" class="Symbol">:</a> <a id="15577" href="Arrows.html#1264" class="Function">Arrows</a><a id="15583" class="Symbol">}</a> <a id="15585" class="Symbol">→</a> <a id="15587" href="Bracketing.html#12318" class="Function">well-bracketed</a> <a id="15602" href="Bracketing.html#15573" class="Bound">a</a> <a id="15604" class="Symbol">→</a> <a id="15606" href="Cubical.Foundations.Isomorphism.html#716" class="Record">Iso</a> <a id="15610" class="Symbol">(</a><a id="15611" href="Arrows.html#29379" class="Function">chainA</a> <a id="15618" href="Cubical.HITs.SetQuotients.Base.html#299" class="InductiveConstructor Operator">[</a> <a id="15620" href="Bracketing.html#15573" class="Bound">a</a> <a id="15622" href="Cubical.HITs.SetQuotients.Base.html#299" class="InductiveConstructor Operator">]</a><a id="15623" class="Symbol">)</a> <a id="15625" class="Symbol">(</a><a id="15626" href="Arrows.html#29477" class="Function">chainB</a> <a id="15633" href="Cubical.HITs.SetQuotients.Base.html#299" class="InductiveConstructor Operator">[</a> <a id="15635" href="Bracketing.html#15573" class="Bound">a</a> <a id="15637" href="Cubical.HITs.SetQuotients.Base.html#299" class="InductiveConstructor Operator">]</a><a id="15638" class="Symbol">)</a>
  <a id="15642" href="Cubical.Foundations.Isomorphism.html#810" class="Field">Iso.fun</a> <a id="15650" class="Symbol">(</a><a id="15651" href="Bracketing.html#15568" class="Function">i</a> <a id="15653" href="Bracketing.html#15653" class="Bound">wb</a><a id="15655" class="Symbol">)</a> <a id="15657" class="Symbol">(</a><a id="15658" href="Bracketing.html#15658" class="Bound">b</a> <a id="15660" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15662" href="Bracketing.html#15662" class="Bound">l</a><a id="15663" class="Symbol">)</a> <a id="15665" class="Symbol">=</a> <a id="15667" class="Symbol">(</a><a id="15668" href="Bracketing.html#5662" class="Function">match</a> <a id="15674" href="Bracketing.html#15756" class="Function">m</a> <a id="15676" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15678" href="Cubical.Foundations.Prelude.html#895" class="Function">sym</a> <a id="15682" class="Symbol">(</a><a id="15683" href="Cubical.HITs.SetQuotients.Base.html#323" class="InductiveConstructor">eq/</a> <a id="15687" class="Symbol">_</a> <a id="15689" class="Symbol">_</a> <a id="15691" href="Cubical.HITs.PropositionalTruncation.Base.html#297" class="InductiveConstructor Operator">∣</a> <a id="15693" href="Bracketing.html#5774" class="Function">match-reachable-arr</a> <a id="15713" href="Bracketing.html#15756" class="Function">m</a> <a id="15715" href="Cubical.HITs.PropositionalTruncation.Base.html#297" class="InductiveConstructor Operator">∣</a><a id="15716" class="Symbol">)</a> <a id="15718" href="Cubical.Foundations.Prelude.html#3101" class="Function Operator">∙</a> <a id="15720" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="15724" href="Bracketing.html#15658" class="Bound">b</a><a id="15725" class="Symbol">)</a> <a id="15727" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15729" href="Bracketing.html#14828" class="Function">match-lr</a> <a id="15738" href="Bracketing.html#15756" class="Function">m</a> <a id="15740" href="Bracketing.html#15662" class="Bound">l</a>
    <a id="15746" class="Keyword">where</a>
    <a id="15756" href="Bracketing.html#15756" class="Function">m</a> <a id="15758" class="Symbol">:</a> <a id="15760" href="Bracketing.html#4956" class="Function">matched</a> <a id="15768" class="Symbol">(</a><a id="15769" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="15773" href="Bracketing.html#15658" class="Bound">b</a><a id="15774" class="Symbol">)</a>
    <a id="15780" href="Bracketing.html#15756" class="Function">m</a> <a id="15782" class="Symbol">=</a> <a id="15784" href="Bracketing.html#15126" class="Function">wb-reachable-arr-matched</a> <a id="15809" href="Bracketing.html#15653" class="Bound">wb</a> <a id="15812" class="Symbol">(</a><a id="15813" href="Arrows.html#24861" class="Function">element-is-reachable-arr</a> <a id="15838" href="Bracketing.html#15658" class="Bound">b</a><a id="15839" class="Symbol">)</a>
  <a id="15843" href="Cubical.Foundations.Isomorphism.html#826" class="Field">Iso.inv</a> <a id="15851" class="Symbol">(</a><a id="15852" href="Bracketing.html#15568" class="Function">i</a> <a id="15854" href="Bracketing.html#15854" class="Bound">wb</a><a id="15856" class="Symbol">)</a> <a id="15858" class="Symbol">(</a><a id="15859" href="Bracketing.html#15859" class="Bound">b</a> <a id="15861" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15863" href="Bracketing.html#15863" class="Bound">r</a><a id="15864" class="Symbol">)</a> <a id="15866" class="Symbol">=</a> <a id="15868" class="Symbol">(</a><a id="15869" href="Bracketing.html#5662" class="Function">match</a> <a id="15875" href="Bracketing.html#15957" class="Function">m</a> <a id="15877" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15879" href="Cubical.Foundations.Prelude.html#895" class="Function">sym</a> <a id="15883" class="Symbol">(</a><a id="15884" href="Cubical.HITs.SetQuotients.Base.html#323" class="InductiveConstructor">eq/</a> <a id="15888" class="Symbol">_</a> <a id="15890" class="Symbol">_</a> <a id="15892" href="Cubical.HITs.PropositionalTruncation.Base.html#297" class="InductiveConstructor Operator">∣</a> <a id="15894" href="Bracketing.html#5774" class="Function">match-reachable-arr</a> <a id="15914" href="Bracketing.html#15957" class="Function">m</a> <a id="15916" href="Cubical.HITs.PropositionalTruncation.Base.html#297" class="InductiveConstructor Operator">∣</a><a id="15917" class="Symbol">)</a> <a id="15919" href="Cubical.Foundations.Prelude.html#3101" class="Function Operator">∙</a> <a id="15921" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="15925" href="Bracketing.html#15859" class="Bound">b</a><a id="15926" class="Symbol">)</a> <a id="15928" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15930" href="Bracketing.html#14977" class="Function">match-rl</a> <a id="15939" href="Bracketing.html#15957" class="Function">m</a> <a id="15941" href="Bracketing.html#15863" class="Bound">r</a>
    <a id="15947" class="Keyword">where</a>
    <a id="15957" href="Bracketing.html#15957" class="Function">m</a> <a id="15959" class="Symbol">=</a> <a id="15961" href="Bracketing.html#15126" class="Function">wb-reachable-arr-matched</a> <a id="15986" href="Bracketing.html#15854" class="Bound">wb</a> <a id="15989" class="Symbol">(</a><a id="15990" href="Arrows.html#24861" class="Function">element-is-reachable-arr</a> <a id="16015" href="Bracketing.html#15859" class="Bound">b</a><a id="16016" class="Symbol">)</a>
  <a id="16020" href="Cubical.Foundations.Isomorphism.html#842" class="Field">Iso.rightInv</a> <a id="16033" class="Symbol">(</a><a id="16034" href="Bracketing.html#15568" class="Function">i</a> <a id="16036" href="Bracketing.html#16036" class="Bound">wb</a><a id="16038" class="Symbol">)</a> <a id="16040" class="Symbol">(</a><a id="16041" href="Bracketing.html#16041" class="Bound">b</a> <a id="16043" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16045" href="Bracketing.html#16045" class="Bound">r</a><a id="16046" class="Symbol">)</a> <a id="16048" class="Symbol">=</a> <a id="16050" href="Cubical.Data.Sigma.Properties.html#1807" class="Function">ΣProp≡</a> <a id="16057" class="Symbol">(λ</a> <a id="16060" href="Bracketing.html#16060" class="Bound">_</a> <a id="16062" class="Symbol">→</a> <a id="16064" href="Misc.html#10029" class="Function">in-right-isProp</a> <a id="16080" class="Symbol">_)</a> <a id="16083" class="Symbol">(</a><a id="16084" href="Cubical.Data.Sigma.Properties.html#1807" class="Function">ΣProp≡</a> <a id="16091" class="Symbol">(λ</a> <a id="16094" href="Bracketing.html#16094" class="Bound">_</a> <a id="16096" class="Symbol">→</a> <a id="16098" href="Arrows.html#24120" class="Function">Chains-isSet</a> <a id="16111" class="Symbol">_</a> <a id="16113" class="Symbol">_)</a> <a id="16116" href="Bracketing.html#16236" class="Function">lem</a><a id="16119" class="Symbol">)</a>
    <a id="16125" class="Keyword">where</a>
    <a id="16135" href="Bracketing.html#16135" class="Function">m</a> <a id="16137" class="Symbol">=</a> <a id="16139" href="Bracketing.html#15126" class="Function">wb-reachable-arr-matched</a> <a id="16164" href="Bracketing.html#16036" class="Bound">wb</a> <a id="16167" class="Symbol">(</a><a id="16168" href="Arrows.html#24861" class="Function">element-is-reachable-arr</a> <a id="16193" href="Bracketing.html#16041" class="Bound">b</a><a id="16194" class="Symbol">)</a>
    <a id="16200" class="Comment">-- this is essentially match² m</a>
    <a id="16236" href="Bracketing.html#16236" class="Function">lem</a> <a id="16240" class="Symbol">=</a>
      <a id="16248" href="Bracketing.html#5662" class="Function">match</a> <a id="16254" class="Symbol">(</a><a id="16255" href="Bracketing.html#15126" class="Function">wb-reachable-arr-matched</a> <a id="16280" href="Bracketing.html#16036" class="Bound">wb</a> <a id="16283" class="Symbol">(</a><a id="16284" href="Arrows.html#24861" class="Function">element-is-reachable-arr</a> <a id="16309" class="Symbol">(</a><a id="16310" href="Bracketing.html#5662" class="Function">match</a> <a id="16316" href="Bracketing.html#16135" class="Function">m</a> <a id="16318" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16320" class="Symbol">(</a><a id="16321" href="Cubical.Foundations.Prelude.html#895" class="Function">sym</a> <a id="16325" class="Symbol">(</a><a id="16326" href="Cubical.HITs.SetQuotients.Base.html#323" class="InductiveConstructor">eq/</a> <a id="16330" class="Symbol">_</a> <a id="16332" class="Symbol">_</a> <a id="16334" href="Cubical.HITs.PropositionalTruncation.Base.html#297" class="InductiveConstructor Operator">∣</a> <a id="16336" href="Bracketing.html#5774" class="Function">match-reachable-arr</a> <a id="16356" href="Bracketing.html#16135" class="Function">m</a> <a id="16358" href="Cubical.HITs.PropositionalTruncation.Base.html#297" class="InductiveConstructor Operator">∣</a><a id="16359" class="Symbol">)</a> <a id="16361" href="Cubical.Foundations.Prelude.html#3101" class="Function Operator">∙</a> <a id="16363" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="16367" href="Bracketing.html#16041" class="Bound">b</a><a id="16368" class="Symbol">))))</a> <a id="16373" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="16376" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="16381" href="Bracketing.html#5662" class="Function">match</a> <a id="16387" class="Symbol">(</a><a id="16388" href="Bracketing.html#5169" class="Function">matched-isProp</a> <a id="16403" class="Symbol">(</a><a id="16404" href="Bracketing.html#5662" class="Function">match</a> <a id="16410" href="Bracketing.html#16135" class="Function">m</a><a id="16411" class="Symbol">)</a> <a id="16413" class="Symbol">(</a><a id="16414" href="Bracketing.html#15126" class="Function">wb-reachable-arr-matched</a> <a id="16439" href="Bracketing.html#16036" class="Bound">wb</a> <a id="16442" class="Symbol">(</a><a id="16443" href="Arrows.html#24861" class="Function">element-is-reachable-arr</a> <a id="16468" class="Symbol">(</a><a id="16469" href="Bracketing.html#5662" class="Function">match</a> <a id="16475" href="Bracketing.html#16135" class="Function">m</a> <a id="16477" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16479" class="Symbol">(</a><a id="16480" href="Cubical.Foundations.Prelude.html#895" class="Function">sym</a> <a id="16484" class="Symbol">(</a><a id="16485" href="Cubical.HITs.SetQuotients.Base.html#323" class="InductiveConstructor">eq/</a> <a id="16489" class="Symbol">_</a> <a id="16491" class="Symbol">_</a> <a id="16493" href="Cubical.HITs.PropositionalTruncation.Base.html#297" class="InductiveConstructor Operator">∣</a> <a id="16495" href="Bracketing.html#5774" class="Function">match-reachable-arr</a> <a id="16515" href="Bracketing.html#16135" class="Function">m</a> <a id="16517" href="Cubical.HITs.PropositionalTruncation.Base.html#297" class="InductiveConstructor Operator">∣</a><a id="16518" class="Symbol">)</a> <a id="16520" href="Cubical.Foundations.Prelude.html#3101" class="Function Operator">∙</a> <a id="16522" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="16526" href="Bracketing.html#16041" class="Bound">b</a><a id="16527" class="Symbol">))))</a> <a id="16532" class="Symbol">(</a><a id="16533" href="Bracketing.html#7321" class="Function">matched-sym</a> <a id="16545" href="Bracketing.html#16135" class="Function">m</a><a id="16546" class="Symbol">))</a> <a id="16549" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
      <a id="16557" href="Bracketing.html#5662" class="Function">match</a> <a id="16563" class="Symbol">(</a><a id="16564" href="Bracketing.html#7321" class="Function">matched-sym</a> <a id="16576" href="Bracketing.html#16135" class="Function">m</a><a id="16577" class="Symbol">)</a> <a id="16579" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="16582" href="Bracketing.html#8219" class="Function">match²</a> <a id="16589" href="Bracketing.html#16135" class="Function">m</a> <a id="16591" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
      <a id="16599" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="16603" href="Bracketing.html#16041" class="Bound">b</a> <a id="16605" href="Cubical.Foundations.Prelude.html#5494" class="Function Operator">∎</a>
  <a id="16609" href="Cubical.Foundations.Isomorphism.html#873" class="Field">Iso.leftInv</a> <a id="16621" class="Symbol">(</a><a id="16622" href="Bracketing.html#15568" class="Function">i</a> <a id="16624" href="Bracketing.html#16624" class="Bound">wb</a><a id="16626" class="Symbol">)</a> <a id="16628" class="Symbol">(</a><a id="16629" href="Bracketing.html#16629" class="Bound">b</a> <a id="16631" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16633" href="Bracketing.html#16633" class="Bound">l</a><a id="16634" class="Symbol">)</a> <a id="16636" class="Symbol">=</a> <a id="16638" href="Cubical.Data.Sigma.Properties.html#1807" class="Function">ΣProp≡</a> <a id="16645" class="Symbol">(λ</a> <a id="16648" href="Bracketing.html#16648" class="Bound">_</a> <a id="16650" class="Symbol">→</a> <a id="16652" href="Misc.html#9924" class="Function">in-left-isProp</a> <a id="16667" class="Symbol">_)</a> <a id="16670" class="Symbol">(</a><a id="16671" href="Cubical.Data.Sigma.Properties.html#1807" class="Function">ΣProp≡</a> <a id="16678" class="Symbol">(λ</a> <a id="16681" href="Bracketing.html#16681" class="Bound">_</a> <a id="16683" class="Symbol">→</a> <a id="16685" href="Arrows.html#24120" class="Function">Chains-isSet</a> <a id="16698" class="Symbol">_</a> <a id="16700" class="Symbol">_)</a> <a id="16703" href="Bracketing.html#16787" class="Function">lem</a><a id="16706" class="Symbol">)</a>
    <a id="16712" class="Keyword">where</a>
    <a id="16722" href="Bracketing.html#16722" class="Function">m</a> <a id="16724" class="Symbol">=</a> <a id="16726" href="Bracketing.html#15126" class="Function">wb-reachable-arr-matched</a> <a id="16751" href="Bracketing.html#16624" class="Bound">wb</a> <a id="16754" class="Symbol">(</a><a id="16755" href="Arrows.html#24861" class="Function">element-is-reachable-arr</a> <a id="16780" href="Bracketing.html#16629" class="Bound">b</a><a id="16781" class="Symbol">)</a>
    <a id="16787" href="Bracketing.html#16787" class="Function">lem</a> <a id="16791" class="Symbol">=</a> <a id="16793" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="16798" href="Bracketing.html#5662" class="Function">match</a> <a id="16804" class="Symbol">(</a><a id="16805" href="Bracketing.html#5169" class="Function">matched-isProp</a> <a id="16820" class="Symbol">(</a><a id="16821" href="Bracketing.html#5662" class="Function">match</a> <a id="16827" href="Bracketing.html#16722" class="Function">m</a><a id="16828" class="Symbol">)</a> <a id="16830" class="Symbol">(</a><a id="16831" href="Bracketing.html#15126" class="Function">wb-reachable-arr-matched</a> <a id="16856" href="Bracketing.html#16624" class="Bound">wb</a> <a id="16859" class="Symbol">(</a><a id="16860" href="Arrows.html#24861" class="Function">element-is-reachable-arr</a> <a id="16885" class="Symbol">(</a><a id="16886" href="Bracketing.html#5662" class="Function">match</a> <a id="16892" href="Bracketing.html#16722" class="Function">m</a> <a id="16894" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16896" href="Cubical.Foundations.Prelude.html#895" class="Function">sym</a> <a id="16900" class="Symbol">(</a><a id="16901" href="Cubical.HITs.SetQuotients.Base.html#323" class="InductiveConstructor">eq/</a> <a id="16905" class="Symbol">_</a> <a id="16907" class="Symbol">_</a> <a id="16909" href="Cubical.HITs.PropositionalTruncation.Base.html#297" class="InductiveConstructor Operator">∣</a> <a id="16911" href="Bracketing.html#5774" class="Function">match-reachable-arr</a> <a id="16931" href="Bracketing.html#16722" class="Function">m</a> <a id="16933" href="Cubical.HITs.PropositionalTruncation.Base.html#297" class="InductiveConstructor Operator">∣</a><a id="16934" class="Symbol">)</a> <a id="16936" href="Cubical.Foundations.Prelude.html#3101" class="Function Operator">∙</a> <a id="16938" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="16942" href="Bracketing.html#16629" class="Bound">b</a><a id="16943" class="Symbol">)))</a> <a id="16947" class="Symbol">(</a><a id="16948" href="Bracketing.html#7321" class="Function">matched-sym</a> <a id="16960" href="Bracketing.html#16722" class="Function">m</a><a id="16961" class="Symbol">))</a> <a id="16964" href="Cubical.Foundations.Prelude.html#3101" class="Function Operator">∙</a> <a id="16966" href="Bracketing.html#8219" class="Function">match²</a> <a id="16973" href="Bracketing.html#16722" class="Function">m</a>
  <a id="16977" href="Bracketing.html#16977" class="Function">e</a> <a id="16979" class="Symbol">:</a> <a id="16981" class="Symbol">(</a><a id="16982" href="Bracketing.html#16982" class="Bound">a</a> <a id="16984" class="Symbol">:</a> <a id="16986" href="Arrows.html#1264" class="Function">Arrows</a><a id="16992" class="Symbol">)</a> <a id="16994" class="Symbol">→</a> <a id="16996" href="Bracketing.html#13223" class="Function">well-bracketed-chain</a> <a id="17017" href="Cubical.HITs.SetQuotients.Base.html#299" class="InductiveConstructor Operator">[</a> <a id="17019" href="Bracketing.html#16982" class="Bound">a</a> <a id="17021" href="Cubical.HITs.SetQuotients.Base.html#299" class="InductiveConstructor Operator">]</a> <a id="17023" class="Symbol">→</a> <a id="17025" href="Arrows.html#29733" class="Function">chain-A≃B</a> <a id="17035" href="Cubical.HITs.SetQuotients.Base.html#299" class="InductiveConstructor Operator">[</a> <a id="17037" href="Bracketing.html#16982" class="Bound">a</a> <a id="17039" href="Cubical.HITs.SetQuotients.Base.html#299" class="InductiveConstructor Operator">]</a>
  <a id="17043" href="Bracketing.html#16977" class="Function">e</a> <a id="17045" href="Bracketing.html#17045" class="Bound">a</a> <a id="17047" href="Bracketing.html#17047" class="Bound">wb</a> <a id="17050" class="Symbol">=</a> <a id="17052" href="Cubical.Foundations.Isomorphism.html#2641" class="Function">isoToEquiv</a> <a id="17063" class="Symbol">(</a><a id="17064" href="Bracketing.html#15568" class="Function">i</a> <a id="17066" href="Bracketing.html#17047" class="Bound">wb</a><a id="17068" class="Symbol">)</a>
  <a id="17072" href="Bracketing.html#17072" class="Function">e-indep</a> <a id="17080" class="Symbol">:</a> <a id="17082" class="Symbol">{</a><a id="17083" href="Bracketing.html#17083" class="Bound">a</a> <a id="17085" href="Bracketing.html#17085" class="Bound">b</a> <a id="17087" class="Symbol">:</a> <a id="17089" href="Arrows.html#1264" class="Function">Arrows</a><a id="17095" class="Symbol">}</a> <a id="17097" class="Symbol">(</a><a id="17098" href="Bracketing.html#17098" class="Bound">r</a> <a id="17100" class="Symbol">:</a> <a id="17102" href="Arrows.html#12019" class="Function">is-reachable-arr</a> <a id="17119" href="Bracketing.html#17083" class="Bound">a</a> <a id="17121" href="Bracketing.html#17085" class="Bound">b</a><a id="17122" class="Symbol">)</a> <a id="17124" class="Symbol">→</a> <a id="17126" href="Agda.Builtin.Cubical.Path.html#190" class="Postulate">PathP</a> <a id="17132" class="Symbol">(λ</a> <a id="17135" href="Bracketing.html#17135" class="Bound">i</a> <a id="17137" class="Symbol">→</a> <a id="17139" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="17144" class="Symbol">(λ</a> <a id="17147" href="Bracketing.html#17147" class="Bound">c</a> <a id="17149" class="Symbol">→</a> <a id="17151" href="Bracketing.html#13223" class="Function">well-bracketed-chain</a> <a id="17172" href="Bracketing.html#17147" class="Bound">c</a> <a id="17174" class="Symbol">→</a> <a id="17176" href="Arrows.html#29733" class="Function">chain-A≃B</a> <a id="17186" href="Bracketing.html#17147" class="Bound">c</a><a id="17187" class="Symbol">)</a> <a id="17189" class="Symbol">(</a><a id="17190" href="Cubical.HITs.SetQuotients.Base.html#323" class="InductiveConstructor">eq/</a> <a id="17194" href="Bracketing.html#17083" class="Bound">a</a> <a id="17196" href="Bracketing.html#17085" class="Bound">b</a> <a id="17198" href="Bracketing.html#17098" class="Bound">r</a><a id="17199" class="Symbol">)</a> <a id="17201" href="Bracketing.html#17135" class="Bound">i</a><a id="17202" class="Symbol">)</a> <a id="17204" class="Symbol">(</a><a id="17205" href="Bracketing.html#16977" class="Function">e</a> <a id="17207" href="Bracketing.html#17083" class="Bound">a</a><a id="17208" class="Symbol">)</a> <a id="17210" class="Symbol">(</a><a id="17211" href="Bracketing.html#16977" class="Function">e</a> <a id="17213" href="Bracketing.html#17085" class="Bound">b</a><a id="17214" class="Symbol">)</a>
  <a id="17218" href="Bracketing.html#17072" class="Function">e-indep</a> <a id="17226" class="Symbol">{</a><a id="17227" href="Bracketing.html#17227" class="Bound">a</a><a id="17228" class="Symbol">}</a> <a id="17230" class="Symbol">{</a><a id="17231" href="Bracketing.html#17231" class="Bound">b</a><a id="17232" class="Symbol">}</a> <a id="17234" href="Bracketing.html#17234" class="Bound">r</a> <a id="17236" class="Symbol">=</a> <a id="17238" href="Cubical.Foundations.Prelude.html#7512" class="Function">toPathP</a> <a id="17246" class="Symbol">(</a><a id="17247" href="Cubical.Foundations.Prelude.html#6325" class="Function">funExt</a> <a id="17254" class="Symbol">(λ</a> <a id="17257" href="Bracketing.html#17257" class="Bound">wb</a> <a id="17260" class="Symbol">→</a> <a id="17262" href="Cubical.Foundations.Equiv.html#2186" class="Function">equivEq</a> <a id="17270" class="Symbol">_</a> <a id="17272" class="Symbol">_</a> <a id="17274" class="Symbol">(</a><a id="17275" href="Cubical.Foundations.Prelude.html#6325" class="Function">funExt</a> <a id="17282" class="Symbol">λ</a> <a id="17284" class="Symbol">{</a> <a id="17286" class="Symbol">(</a><a id="17287" href="Bracketing.html#17287" class="Bound">x</a> <a id="17289" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17291" href="Bracketing.html#17291" class="Bound">l</a><a id="17292" class="Symbol">)</a> <a id="17294" class="Symbol">→</a> <a id="17296" href="Cubical.Data.Sigma.Properties.html#1807" class="Function">ΣProp≡</a> <a id="17303" class="Symbol">(λ</a> <a id="17306" href="Bracketing.html#17306" class="Bound">_</a> <a id="17308" class="Symbol">→</a> <a id="17310" href="Misc.html#10029" class="Function">in-right-isProp</a> <a id="17326" class="Symbol">_)</a> <a id="17329" class="Symbol">(</a><a id="17330" href="Cubical.Data.Sigma.Properties.html#1807" class="Function">ΣProp≡</a> <a id="17337" class="Symbol">(λ</a> <a id="17340" href="Bracketing.html#17340" class="Bound">_</a> <a id="17342" class="Symbol">→</a> <a id="17344" href="Arrows.html#24120" class="Function">Chains-isSet</a> <a id="17357" class="Symbol">_</a> <a id="17359" class="Symbol">_)</a> <a id="17362" class="Symbol">(</a><a id="17363" href="Bracketing.html#17850" class="Function">lem</a> <a id="17367" href="Bracketing.html#17234" class="Bound">r</a> <a id="17369" href="Bracketing.html#17257" class="Bound">wb</a> <a id="17372" href="Bracketing.html#17287" class="Bound">x</a> <a id="17374" href="Bracketing.html#17291" class="Bound">l</a><a id="17375" class="Symbol">))</a> <a id="17378" class="Symbol">})))</a>
    <a id="17387" class="Keyword">where</a>
    <a id="17397" class="Comment">-- matching is independent of starting point</a>
    <a id="17446" href="Bracketing.html#17446" class="Function">match-indep</a> <a id="17458" class="Symbol">:</a> <a id="17460" class="Symbol">{</a><a id="17461" href="Bracketing.html#17461" class="Bound">a</a> <a id="17463" href="Bracketing.html#17463" class="Bound">b</a> <a id="17465" href="Bracketing.html#17465" class="Bound">c</a> <a id="17467" class="Symbol">:</a> <a id="17469" href="Arrows.html#1264" class="Function">Arrows</a><a id="17475" class="Symbol">}</a> <a id="17477" class="Symbol">(</a><a id="17478" href="Bracketing.html#17478" class="Bound">r</a> <a id="17480" class="Symbol">:</a> <a id="17482" href="Arrows.html#12019" class="Function">is-reachable-arr</a> <a id="17499" href="Bracketing.html#17461" class="Bound">a</a> <a id="17501" href="Bracketing.html#17463" class="Bound">b</a><a id="17502" class="Symbol">)</a> <a id="17504" class="Symbol">(</a><a id="17505" href="Bracketing.html#17505" class="Bound">wb&#39;</a> <a id="17509" class="Symbol">:</a> <a id="17511" href="Bracketing.html#12318" class="Function">well-bracketed</a> <a id="17526" href="Bracketing.html#17461" class="Bound">a</a><a id="17527" class="Symbol">)</a> <a id="17529" class="Symbol">(</a><a id="17530" href="Bracketing.html#17530" class="Bound">r&#39;</a> <a id="17533" class="Symbol">:</a> <a id="17535" href="Arrows.html#12019" class="Function">is-reachable-arr</a> <a id="17552" href="Bracketing.html#17461" class="Bound">a</a> <a id="17554" href="Bracketing.html#17465" class="Bound">c</a><a id="17555" class="Symbol">)</a> <a id="17557" class="Symbol">(</a><a id="17558" href="Bracketing.html#17558" class="Bound">wb&#39;&#39;</a> <a id="17563" class="Symbol">:</a> <a id="17565" href="Bracketing.html#12318" class="Function">well-bracketed</a> <a id="17580" href="Bracketing.html#17463" class="Bound">b</a><a id="17581" class="Symbol">)</a> <a id="17583" class="Symbol">(</a><a id="17584" href="Bracketing.html#17584" class="Bound">r&#39;&#39;</a> <a id="17588" class="Symbol">:</a> <a id="17590" href="Arrows.html#12019" class="Function">is-reachable-arr</a> <a id="17607" href="Bracketing.html#17463" class="Bound">b</a> <a id="17609" href="Bracketing.html#17465" class="Bound">c</a><a id="17610" class="Symbol">)</a> <a id="17612" class="Symbol">→</a> <a id="17614" href="Bracketing.html#5662" class="Function">match</a> <a id="17620" class="Symbol">(</a><a id="17621" href="Bracketing.html#15126" class="Function">wb-reachable-arr-matched</a> <a id="17646" href="Bracketing.html#17505" class="Bound">wb&#39;</a> <a id="17650" href="Bracketing.html#17530" class="Bound">r&#39;</a><a id="17652" class="Symbol">)</a> <a id="17654" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="17656" href="Bracketing.html#5662" class="Function">match</a> <a id="17662" class="Symbol">(</a><a id="17663" href="Bracketing.html#15126" class="Function">wb-reachable-arr-matched</a> <a id="17688" href="Bracketing.html#17558" class="Bound">wb&#39;&#39;</a> <a id="17693" href="Bracketing.html#17584" class="Bound">r&#39;&#39;</a><a id="17696" class="Symbol">)</a>
    <a id="17702" href="Bracketing.html#17446" class="Function">match-indep</a> <a id="17714" class="Symbol">{</a><a id="17715" href="Bracketing.html#17715" class="Bound">a</a><a id="17716" class="Symbol">}</a> <a id="17718" class="Symbol">{</a><a id="17719" href="Bracketing.html#17719" class="Bound">b</a><a id="17720" class="Symbol">}</a> <a id="17722" class="Symbol">{</a><a id="17723" href="Bracketing.html#17723" class="Bound">c</a><a id="17724" class="Symbol">}</a> <a id="17726" href="Bracketing.html#17726" class="Bound">r</a> <a id="17728" href="Bracketing.html#17728" class="Bound">wb&#39;</a> <a id="17732" href="Bracketing.html#17732" class="Bound">r&#39;</a> <a id="17735" href="Bracketing.html#17735" class="Bound">wb&#39;&#39;</a> <a id="17740" href="Bracketing.html#17740" class="Bound">r&#39;&#39;</a> <a id="17744" class="Symbol">=</a> <a id="17746" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="17751" href="Bracketing.html#5662" class="Function">match</a> <a id="17757" class="Symbol">(</a><a id="17758" href="Bracketing.html#5169" class="Function">matched-isProp</a> <a id="17773" href="Bracketing.html#17723" class="Bound">c</a> <a id="17775" class="Symbol">(</a><a id="17776" href="Bracketing.html#15126" class="Function">wb-reachable-arr-matched</a> <a id="17801" href="Bracketing.html#17728" class="Bound">wb&#39;</a> <a id="17805" href="Bracketing.html#17732" class="Bound">r&#39;</a><a id="17807" class="Symbol">)</a> <a id="17809" class="Symbol">(</a><a id="17810" href="Bracketing.html#15126" class="Function">wb-reachable-arr-matched</a> <a id="17835" href="Bracketing.html#17735" class="Bound">wb&#39;&#39;</a> <a id="17840" href="Bracketing.html#17740" class="Bound">r&#39;&#39;</a><a id="17843" class="Symbol">))</a>
    <a id="17850" href="Bracketing.html#17850" class="Function">lem</a> <a id="17854" class="Symbol">:</a> <a id="17856" class="Symbol">{</a><a id="17857" href="Bracketing.html#17857" class="Bound">a</a> <a id="17859" href="Bracketing.html#17859" class="Bound">b</a> <a id="17861" class="Symbol">:</a> <a id="17863" href="Arrows.html#1264" class="Function">Arrows</a><a id="17869" class="Symbol">}</a> <a id="17871" class="Symbol">(</a><a id="17872" href="Bracketing.html#17872" class="Bound">r</a> <a id="17874" class="Symbol">:</a> <a id="17876" href="Arrows.html#12019" class="Function">is-reachable-arr</a> <a id="17893" href="Bracketing.html#17857" class="Bound">a</a> <a id="17895" href="Bracketing.html#17859" class="Bound">b</a><a id="17896" class="Symbol">)</a> <a id="17898" class="Symbol">(</a><a id="17899" href="Bracketing.html#17899" class="Bound">wb</a> <a id="17902" class="Symbol">:</a> <a id="17904" href="Bracketing.html#13223" class="Function">well-bracketed-chain</a> <a id="17925" href="Cubical.HITs.SetQuotients.Base.html#299" class="InductiveConstructor Operator">[</a> <a id="17927" href="Bracketing.html#17859" class="Bound">b</a> <a id="17929" href="Cubical.HITs.SetQuotients.Base.html#299" class="InductiveConstructor Operator">]</a><a id="17930" class="Symbol">)</a> <a id="17932" class="Symbol">(</a><a id="17933" href="Bracketing.html#17933" class="Bound">c</a> <a id="17935" class="Symbol">:</a> <a id="17937" href="Arrows.html#24195" class="Function">elements</a> <a id="17946" href="Cubical.HITs.SetQuotients.Base.html#299" class="InductiveConstructor Operator">[</a> <a id="17948" href="Bracketing.html#17859" class="Bound">b</a> <a id="17950" href="Cubical.HITs.SetQuotients.Base.html#299" class="InductiveConstructor Operator">]</a><a id="17951" class="Symbol">)</a> <a id="17953" class="Symbol">(</a><a id="17954" href="Bracketing.html#17954" class="Bound">l</a> <a id="17956" class="Symbol">:</a> <a id="17958" href="Misc.html#9673" class="Datatype">in-left</a> <a id="17966" class="Symbol">(</a><a id="17967" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="17971" href="Bracketing.html#17933" class="Bound">c</a><a id="17972" class="Symbol">))</a> <a id="17975" class="Symbol">→</a>
          <a id="17987" href="Cubical.Foundations.Prelude.html#5620" class="Function">transport</a> <a id="17997" class="Symbol">(λ</a> <a id="18000" href="Bracketing.html#18000" class="Bound">_</a> <a id="18002" class="Symbol">→</a> <a id="18004" href="Arrows.html#1264" class="Function">Arrows</a><a id="18010" class="Symbol">)</a> <a id="18012" class="Symbol">(</a><a id="18013" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18017" class="Symbol">(</a><a id="18018" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18022" class="Symbol">(</a><a id="18023" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18027" class="Symbol">(</a><a id="18028" href="Bracketing.html#16977" class="Function">e</a> <a id="18030" href="Bracketing.html#17857" class="Bound">a</a> <a id="18032" class="Symbol">(</a><a id="18033" href="Cubical.Foundations.Prelude.html#5620" class="Function">transport</a> <a id="18043" class="Symbol">(λ</a> <a id="18046" href="Bracketing.html#18046" class="Bound">j</a> <a id="18048" class="Symbol">→</a> <a id="18050" href="Bracketing.html#13223" class="Function">well-bracketed-chain</a> <a id="18071" class="Symbol">(</a><a id="18072" href="Cubical.HITs.SetQuotients.Base.html#323" class="InductiveConstructor">eq/</a> <a id="18076" href="Bracketing.html#17857" class="Bound">a</a> <a id="18078" href="Bracketing.html#17859" class="Bound">b</a> <a id="18080" href="Bracketing.html#17872" class="Bound">r</a> <a id="18082" class="Symbol">(</a><a id="18083" href="Cubical.Core.Primitives.html#549" class="Primitive Operator">~</a> <a id="18085" href="Bracketing.html#18046" class="Bound">j</a><a id="18086" class="Symbol">)))</a> <a id="18090" href="Bracketing.html#17899" class="Bound">wb</a><a id="18092" class="Symbol">))</a> <a id="18095" class="Symbol">(</a><a id="18096" href="Cubical.Foundations.Prelude.html#5620" class="Function">transport</a> <a id="18106" class="Symbol">(λ</a> <a id="18109" href="Bracketing.html#18109" class="Bound">j</a> <a id="18111" class="Symbol">→</a> <a id="18113" href="Arrows.html#29379" class="Function">chainA</a> <a id="18120" class="Symbol">(</a><a id="18121" href="Cubical.HITs.SetQuotients.Base.html#323" class="InductiveConstructor">eq/</a> <a id="18125" href="Bracketing.html#17857" class="Bound">a</a> <a id="18127" href="Bracketing.html#17859" class="Bound">b</a> <a id="18129" href="Bracketing.html#17872" class="Bound">r</a> <a id="18131" class="Symbol">(</a><a id="18132" href="Cubical.Core.Primitives.html#549" class="Primitive Operator">~</a> <a id="18134" href="Bracketing.html#18109" class="Bound">j</a><a id="18135" class="Symbol">)))</a> <a id="18139" class="Symbol">(</a><a id="18140" href="Bracketing.html#17933" class="Bound">c</a> <a id="18142" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18144" href="Bracketing.html#17954" class="Bound">l</a><a id="18145" class="Symbol">)))))</a>
          <a id="18161" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="18163" href="Bracketing.html#16977" class="Function">e</a> <a id="18165" href="Bracketing.html#17859" class="Bound">b</a> <a id="18167" href="Bracketing.html#17899" class="Bound">wb</a> <a id="18170" class="Symbol">.</a><a id="18171" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18175" class="Symbol">(</a><a id="18176" href="Bracketing.html#17933" class="Bound">c</a> <a id="18178" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18180" href="Bracketing.html#17954" class="Bound">l</a><a id="18181" class="Symbol">)</a> <a id="18183" class="Symbol">.</a><a id="18184" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18188" class="Symbol">.</a><a id="18189" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a>
    <a id="18197" href="Bracketing.html#17850" class="Function">lem</a> <a id="18201" class="Symbol">{</a><a id="18202" href="Bracketing.html#18202" class="Bound">a</a><a id="18203" class="Symbol">}</a> <a id="18205" class="Symbol">{</a><a id="18206" href="Bracketing.html#18206" class="Bound">b</a><a id="18207" class="Symbol">}</a> <a id="18209" href="Bracketing.html#18209" class="Bound">r</a> <a id="18211" href="Bracketing.html#18211" class="Bound">wb</a> <a id="18214" href="Bracketing.html#18214" class="Bound">c</a> <a id="18216" href="Bracketing.html#18216" class="Bound">l</a> <a id="18218" class="Symbol">=</a>
      <a id="18226" class="Keyword">let</a>
          <a id="18240" href="Bracketing.html#18240" class="Bound">wb&#39;</a> <a id="18244" class="Symbol">:</a> <a id="18246" href="Bracketing.html#12318" class="Function">well-bracketed</a> <a id="18261" href="Bracketing.html#18202" class="Bound">a</a>
          <a id="18273" href="Bracketing.html#18240" class="Bound">wb&#39;</a> <a id="18277" class="Symbol">=</a> <a id="18279" href="Cubical.Foundations.Prelude.html#5620" class="Function">transport</a> <a id="18289" class="Symbol">(λ</a> <a id="18292" href="Bracketing.html#18292" class="Bound">j</a> <a id="18294" class="Symbol">→</a> <a id="18296" href="Bracketing.html#13223" class="Function">well-bracketed-chain</a> <a id="18317" class="Symbol">(</a><a id="18318" href="Cubical.HITs.SetQuotients.Base.html#323" class="InductiveConstructor">eq/</a> <a id="18322" href="Bracketing.html#18202" class="Bound">a</a> <a id="18324" href="Bracketing.html#18206" class="Bound">b</a> <a id="18326" href="Bracketing.html#18209" class="Bound">r</a> <a id="18328" class="Symbol">(</a><a id="18329" href="Cubical.Core.Primitives.html#549" class="Primitive Operator">~</a> <a id="18331" href="Bracketing.html#18292" class="Bound">j</a><a id="18332" class="Symbol">)))</a> <a id="18336" href="Bracketing.html#18211" class="Bound">wb</a>
          <a id="18349" href="Bracketing.html#18349" class="Bound">r&#39;</a> <a id="18352" class="Symbol">:</a> <a id="18354" href="Arrows.html#12019" class="Function">is-reachable-arr</a> <a id="18371" href="Bracketing.html#18202" class="Bound">a</a> <a id="18373" class="Symbol">(</a><a id="18374" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18378" href="Bracketing.html#18214" class="Bound">c</a><a id="18379" class="Symbol">)</a>
          <a id="18391" href="Bracketing.html#18349" class="Bound">r&#39;</a> <a id="18394" class="Symbol">=</a> <a id="18396" href="Cubical.Foundations.Prelude.html#6151" class="Function">subst</a> <a id="18402" class="Symbol">(</a><a id="18403" href="Arrows.html#12019" class="Function">is-reachable-arr</a> <a id="18420" href="Bracketing.html#18202" class="Bound">a</a><a id="18421" class="Symbol">)</a> <a id="18423" class="Symbol">(</a><a id="18424" href="Cubical.Foundations.Prelude.html#5841" class="Function">transportRefl</a> <a id="18438" class="Symbol">(</a><a id="18439" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18443" href="Bracketing.html#18214" class="Bound">c</a><a id="18444" class="Symbol">))</a> <a id="18447" class="Symbol">(</a><a id="18448" href="Arrows.html#24861" class="Function">element-is-reachable-arr</a> <a id="18473" class="Symbol">(</a><a id="18474" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18478" class="Symbol">(</a><a id="18479" href="Cubical.Foundations.Prelude.html#5620" class="Function">transport</a> <a id="18489" class="Symbol">(λ</a> <a id="18492" href="Bracketing.html#18492" class="Bound">j</a> <a id="18494" class="Symbol">→</a> <a id="18496" href="Arrows.html#29379" class="Function">chainA</a> <a id="18503" class="Symbol">(</a><a id="18504" href="Cubical.HITs.SetQuotients.Base.html#323" class="InductiveConstructor">eq/</a> <a id="18508" href="Bracketing.html#18202" class="Bound">a</a> <a id="18510" href="Bracketing.html#18206" class="Bound">b</a> <a id="18512" href="Bracketing.html#18209" class="Bound">r</a> <a id="18514" class="Symbol">(</a><a id="18515" href="Cubical.Core.Primitives.html#549" class="Primitive Operator">~</a> <a id="18517" href="Bracketing.html#18492" class="Bound">j</a><a id="18518" class="Symbol">)))</a> <a id="18522" class="Symbol">(</a><a id="18523" href="Bracketing.html#18214" class="Bound">c</a> <a id="18525" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18527" href="Bracketing.html#18216" class="Bound">l</a><a id="18528" class="Symbol">))))</a>
          <a id="18543" href="Bracketing.html#18543" class="Bound">wb&#39;&#39;</a> <a id="18548" class="Symbol">:</a> <a id="18550" href="Bracketing.html#12318" class="Function">well-bracketed</a> <a id="18565" href="Bracketing.html#18202" class="Bound">a</a>
          <a id="18577" href="Bracketing.html#18543" class="Bound">wb&#39;&#39;</a> <a id="18582" class="Symbol">=</a> <a id="18584" href="Cubical.Foundations.Prelude.html#5620" class="Function">transport</a> <a id="18594" class="Symbol">(λ</a> <a id="18597" href="Bracketing.html#18597" class="Bound">j</a> <a id="18599" class="Symbol">→</a> <a id="18601" href="Bracketing.html#13223" class="Function">well-bracketed-chain</a> <a id="18622" class="Symbol">(</a><a id="18623" href="Cubical.HITs.SetQuotients.Base.html#323" class="InductiveConstructor">eq/</a> <a id="18627" href="Bracketing.html#18202" class="Bound">a</a> <a id="18629" href="Bracketing.html#18206" class="Bound">b</a> <a id="18631" href="Bracketing.html#18209" class="Bound">r</a> <a id="18633" class="Symbol">(</a><a id="18634" href="Cubical.Core.Primitives.html#549" class="Primitive Operator">~</a> <a id="18636" href="Bracketing.html#18597" class="Bound">j</a><a id="18637" class="Symbol">)))</a> <a id="18641" href="Bracketing.html#18211" class="Bound">wb</a>
          <a id="18654" href="Bracketing.html#18654" class="Bound">r&#39;&#39;</a> <a id="18658" class="Symbol">:</a> <a id="18660" href="Arrows.html#12019" class="Function">is-reachable-arr</a> <a id="18677" href="Bracketing.html#18202" class="Bound">a</a> <a id="18679" class="Symbol">(</a><a id="18680" href="Cubical.Foundations.Prelude.html#5620" class="Function">transport</a> <a id="18690" class="Symbol">(λ</a> <a id="18693" href="Bracketing.html#18693" class="Bound">_</a> <a id="18695" class="Symbol">→</a> <a id="18697" href="Bracketing.html#902" class="Bound">A</a> <a id="18699" href="Cubical.Data.Sum.Base.html#170" class="Datatype Operator">⊎</a> <a id="18701" href="Bracketing.html#904" class="Bound">B</a><a id="18702" class="Symbol">)</a> <a id="18704" class="Symbol">(</a><a id="18705" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18709" href="Bracketing.html#18214" class="Bound">c</a><a id="18710" class="Symbol">))</a>
          <a id="18723" href="Bracketing.html#18654" class="Bound">r&#39;&#39;</a> <a id="18727" class="Symbol">=</a> <a id="18729" href="Arrows.html#24861" class="Function">element-is-reachable-arr</a> <a id="18754" class="Symbol">(</a><a id="18755" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18759" class="Symbol">(</a><a id="18760" href="Cubical.Foundations.Prelude.html#5620" class="Function">transport</a> <a id="18770" class="Symbol">(λ</a> <a id="18773" href="Bracketing.html#18773" class="Bound">j</a> <a id="18775" class="Symbol">→</a> <a id="18777" href="Arrows.html#29379" class="Function">chainA</a> <a id="18784" class="Symbol">(</a><a id="18785" href="Cubical.HITs.SetQuotients.Base.html#323" class="InductiveConstructor">eq/</a> <a id="18789" href="Bracketing.html#18202" class="Bound">a</a> <a id="18791" href="Bracketing.html#18206" class="Bound">b</a> <a id="18793" href="Bracketing.html#18209" class="Bound">r</a> <a id="18795" class="Symbol">(</a><a id="18796" href="Cubical.Core.Primitives.html#549" class="Primitive Operator">~</a> <a id="18798" href="Bracketing.html#18773" class="Bound">j</a><a id="18799" class="Symbol">)))</a> <a id="18803" class="Symbol">(</a><a id="18804" href="Bracketing.html#18214" class="Bound">c</a> <a id="18806" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18808" href="Bracketing.html#18216" class="Bound">l</a><a id="18809" class="Symbol">)))</a>
          <a id="18823" href="Bracketing.html#18823" class="Bound">r&#39;&#39;≡r&#39;</a> <a id="18830" class="Symbol">:</a> <a id="18832" href="Agda.Builtin.Cubical.Path.html#190" class="Postulate">PathP</a> <a id="18838" class="Symbol">(λ</a> <a id="18841" href="Bracketing.html#18841" class="Bound">i</a> <a id="18843" class="Symbol">→</a> <a id="18845" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="18850" class="Symbol">(</a><a id="18851" href="Arrows.html#12019" class="Function">is-reachable-arr</a> <a id="18868" href="Bracketing.html#18202" class="Bound">a</a><a id="18869" class="Symbol">)</a> <a id="18871" class="Symbol">(</a><a id="18872" href="Cubical.Foundations.Prelude.html#5841" class="Function">transportRefl</a> <a id="18886" class="Symbol">(</a><a id="18887" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="18891" href="Bracketing.html#18214" class="Bound">c</a><a id="18892" class="Symbol">))</a> <a id="18895" href="Bracketing.html#18841" class="Bound">i</a><a id="18896" class="Symbol">)</a> <a id="18898" href="Bracketing.html#18654" class="Bound">r&#39;&#39;</a> <a id="18902" href="Bracketing.html#18349" class="Bound">r&#39;</a>
          <a id="18915" href="Bracketing.html#18823" class="Bound">r&#39;&#39;≡r&#39;</a> <a id="18922" class="Symbol">=</a> <a id="18924" href="Cubical.Foundations.HLevels.html#13881" class="Function">isOfHLevel→isOfHLevelDep</a> <a id="18949" class="Number">1</a> <a id="18951" class="Symbol">(</a><a id="18952" href="Arrows.html#12108" class="Function">is-reachable-arr-isProp</a> <a id="18976" href="Bracketing.html#18202" class="Bound">a</a><a id="18977" class="Symbol">)</a> <a id="18979" href="Bracketing.html#18654" class="Bound">r&#39;&#39;</a> <a id="18983" href="Bracketing.html#18349" class="Bound">r&#39;</a> <a id="18986" class="Symbol">(</a><a id="18987" href="Cubical.Foundations.Prelude.html#5841" class="Function">transportRefl</a> <a id="19001" class="Symbol">(</a><a id="19002" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19006" href="Bracketing.html#18214" class="Bound">c</a><a id="19007" class="Symbol">))</a>
          <a id="19020" href="Bracketing.html#19020" class="Bound">wb&#39;&#39;≡wb&#39;</a> <a id="19029" class="Symbol">:</a> <a id="19031" href="Bracketing.html#18543" class="Bound">wb&#39;&#39;</a> <a id="19036" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="19038" href="Bracketing.html#18240" class="Bound">wb&#39;</a>
          <a id="19052" href="Bracketing.html#19020" class="Bound">wb&#39;&#39;≡wb&#39;</a> <a id="19061" class="Symbol">=</a> <a id="19063" href="Bracketing.html#12396" class="Function">well-bracketed-isProp</a> <a id="19085" href="Bracketing.html#18202" class="Bound">a</a> <a id="19087" href="Bracketing.html#18543" class="Bound">wb&#39;&#39;</a> <a id="19092" href="Bracketing.html#18240" class="Bound">wb&#39;</a>
          <a id="19106" href="Bracketing.html#19106" class="Bound">rm&#39;&#39;≡rm&#39;</a> <a id="19115" class="Symbol">:</a> <a id="19117" href="Agda.Builtin.Cubical.Path.html#190" class="Postulate">PathP</a> <a id="19123" class="Symbol">(λ</a> <a id="19126" href="Bracketing.html#19126" class="Bound">i</a> <a id="19128" class="Symbol">→</a> <a id="19130" href="Cubical.Foundations.Prelude.html#1059" class="Function">cong</a> <a id="19135" href="Bracketing.html#4956" class="Function">matched</a> <a id="19143" class="Symbol">(</a><a id="19144" href="Cubical.Foundations.Prelude.html#5841" class="Function">transportRefl</a> <a id="19158" class="Symbol">(</a><a id="19159" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19163" href="Bracketing.html#18214" class="Bound">c</a><a id="19164" class="Symbol">))</a> <a id="19167" href="Bracketing.html#19126" class="Bound">i</a><a id="19168" class="Symbol">)</a> <a id="19170" class="Symbol">(</a><a id="19171" href="Bracketing.html#15126" class="Function">wb-reachable-arr-matched</a> <a id="19196" href="Bracketing.html#18543" class="Bound">wb&#39;&#39;</a> <a id="19201" href="Bracketing.html#18654" class="Bound">r&#39;&#39;</a><a id="19204" class="Symbol">)</a> <a id="19206" class="Symbol">(</a><a id="19207" href="Bracketing.html#15126" class="Function">wb-reachable-arr-matched</a> <a id="19232" href="Bracketing.html#18240" class="Bound">wb&#39;</a> <a id="19236" href="Bracketing.html#18349" class="Bound">r&#39;</a><a id="19238" class="Symbol">)</a>
          <a id="19250" href="Bracketing.html#19106" class="Bound">rm&#39;&#39;≡rm&#39;</a> <a id="19259" class="Symbol">=</a> <a id="19261" href="Misc.html#2495" class="Function">congP₂</a> <a id="19268" class="Symbol">{</a><a id="19269" class="Argument">A</a> <a id="19271" class="Symbol">=</a> <a id="19273" class="Symbol">λ</a> <a id="19275" href="Bracketing.html#19275" class="Bound">i</a> <a id="19277" class="Symbol">→</a> <a id="19279" href="Bracketing.html#12318" class="Function">well-bracketed</a> <a id="19294" href="Bracketing.html#18202" class="Bound">a</a><a id="19295" class="Symbol">}</a> <a id="19297" class="Symbol">{</a><a id="19298" class="Argument">B</a> <a id="19300" class="Symbol">=</a> <a id="19302" class="Symbol">λ</a> <a id="19304" href="Bracketing.html#19304" class="Bound">i</a> <a id="19306" href="Bracketing.html#19306" class="Bound">_</a> <a id="19308" class="Symbol">→</a> <a id="19310" href="Arrows.html#12019" class="Function">is-reachable-arr</a> <a id="19327" href="Bracketing.html#18202" class="Bound">a</a> <a id="19329" class="Symbol">(</a><a id="19330" href="Cubical.Foundations.Prelude.html#5841" class="Function">transportRefl</a> <a id="19344" class="Symbol">(</a><a id="19345" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19349" href="Bracketing.html#18214" class="Bound">c</a><a id="19350" class="Symbol">)</a> <a id="19352" href="Bracketing.html#19304" class="Bound">i</a><a id="19353" class="Symbol">)}</a> <a id="19356" class="Symbol">{</a><a id="19357" class="Argument">C</a> <a id="19359" class="Symbol">=</a> <a id="19361" class="Symbol">λ</a> <a id="19363" href="Bracketing.html#19363" class="Bound">i</a> <a id="19365" href="Bracketing.html#19365" class="Bound">wb</a> <a id="19368" href="Bracketing.html#19368" class="Bound">r</a> <a id="19370" class="Symbol">→</a> <a id="19372" href="Bracketing.html#4956" class="Function">matched</a> <a id="19380" class="Symbol">(</a><a id="19381" href="Cubical.Foundations.Prelude.html#5841" class="Function">transportRefl</a> <a id="19395" class="Symbol">(</a><a id="19396" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19400" href="Bracketing.html#18214" class="Bound">c</a><a id="19401" class="Symbol">)</a> <a id="19403" href="Bracketing.html#19363" class="Bound">i</a><a id="19404" class="Symbol">)}</a>
                     <a id="19428" class="Symbol">(λ</a> <a id="19431" href="Bracketing.html#19431" class="Bound">i</a> <a id="19433" href="Bracketing.html#19433" class="Bound">wb</a> <a id="19436" href="Bracketing.html#19436" class="Bound">r</a> <a id="19438" class="Symbol">→</a> <a id="19440" href="Bracketing.html#15126" class="Function">wb-reachable-arr-matched</a> <a id="19465" class="Symbol">(</a><a id="19466" href="Bracketing.html#19020" class="Bound">wb&#39;&#39;≡wb&#39;</a> <a id="19475" href="Bracketing.html#19431" class="Bound">i</a><a id="19476" class="Symbol">)</a> <a id="19478" class="Symbol">(</a><a id="19479" href="Bracketing.html#18823" class="Bound">r&#39;&#39;≡r&#39;</a> <a id="19486" href="Bracketing.html#19431" class="Bound">i</a><a id="19487" class="Symbol">))</a> <a id="19490" href="Bracketing.html#19020" class="Bound">wb&#39;&#39;≡wb&#39;</a> <a id="19499" href="Bracketing.html#18823" class="Bound">r&#39;&#39;≡r&#39;</a>
          <a id="19516" href="Bracketing.html#19516" class="Bound">p</a> <a id="19518" class="Symbol">:</a> <a id="19520" href="Bracketing.html#5662" class="Function">match</a> <a id="19526" class="Symbol">(</a><a id="19527" href="Bracketing.html#15126" class="Function">wb-reachable-arr-matched</a> <a id="19552" href="Bracketing.html#18240" class="Bound">wb&#39;</a> <a id="19556" href="Bracketing.html#18349" class="Bound">r&#39;</a><a id="19558" class="Symbol">)</a> <a id="19560" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="19562" href="Bracketing.html#5662" class="Function">match</a> <a id="19568" class="Symbol">(</a><a id="19569" href="Bracketing.html#15126" class="Function">wb-reachable-arr-matched</a> <a id="19594" href="Bracketing.html#18543" class="Bound">wb&#39;&#39;</a> <a id="19599" href="Bracketing.html#18654" class="Bound">r&#39;&#39;</a><a id="19602" class="Symbol">)</a>
          <a id="19614" href="Bracketing.html#19516" class="Bound">p</a> <a id="19616" class="Symbol">=</a> <a id="19618" href="Cubical.Foundations.Prelude.html#895" class="Function">sym</a> <a id="19622" class="Symbol">(</a><a id="19623" href="Misc.html#2257" class="Function">congP</a> <a id="19629" class="Symbol">(λ</a> <a id="19632" href="Bracketing.html#19632" class="Bound">i</a> <a id="19634" class="Symbol">→</a> <a id="19636" href="Bracketing.html#5662" class="Function">match</a><a id="19641" class="Symbol">)</a> <a id="19643" href="Bracketing.html#19106" class="Bound">rm&#39;&#39;≡rm&#39;</a><a id="19651" class="Symbol">)</a>
      <a id="19659" class="Keyword">in</a>
      <a id="19668" href="Cubical.Foundations.Prelude.html#5620" class="Function">transport</a> <a id="19678" class="Symbol">(λ</a> <a id="19681" href="Bracketing.html#19681" class="Bound">_</a> <a id="19683" class="Symbol">→</a> <a id="19685" href="Arrows.html#1264" class="Function">Arrows</a><a id="19691" class="Symbol">)</a> <a id="19693" class="Symbol">(</a><a id="19694" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19698" class="Symbol">(</a><a id="19699" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19703" class="Symbol">(</a><a id="19704" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19708" class="Symbol">(</a><a id="19709" href="Bracketing.html#16977" class="Function">e</a> <a id="19711" href="Bracketing.html#18202" class="Bound">a</a> <a id="19713" class="Symbol">(</a><a id="19714" href="Cubical.Foundations.Prelude.html#5620" class="Function">transport</a> <a id="19724" class="Symbol">(λ</a> <a id="19727" href="Bracketing.html#19727" class="Bound">j</a> <a id="19729" class="Symbol">→</a> <a id="19731" href="Bracketing.html#13223" class="Function">well-bracketed-chain</a> <a id="19752" class="Symbol">(</a><a id="19753" href="Cubical.HITs.SetQuotients.Base.html#323" class="InductiveConstructor">eq/</a> <a id="19757" href="Bracketing.html#18202" class="Bound">a</a> <a id="19759" href="Bracketing.html#18206" class="Bound">b</a> <a id="19761" href="Bracketing.html#18209" class="Bound">r</a> <a id="19763" class="Symbol">(</a><a id="19764" href="Cubical.Core.Primitives.html#549" class="Primitive Operator">~</a> <a id="19766" href="Bracketing.html#19727" class="Bound">j</a><a id="19767" class="Symbol">)))</a> <a id="19771" href="Bracketing.html#18211" class="Bound">wb</a><a id="19773" class="Symbol">))</a> <a id="19776" class="Symbol">(</a><a id="19777" href="Cubical.Foundations.Prelude.html#5620" class="Function">transport</a> <a id="19787" class="Symbol">(λ</a> <a id="19790" href="Bracketing.html#19790" class="Bound">j</a> <a id="19792" class="Symbol">→</a> <a id="19794" href="Arrows.html#29379" class="Function">chainA</a> <a id="19801" class="Symbol">(</a><a id="19802" href="Cubical.HITs.SetQuotients.Base.html#323" class="InductiveConstructor">eq/</a> <a id="19806" href="Bracketing.html#18202" class="Bound">a</a> <a id="19808" href="Bracketing.html#18206" class="Bound">b</a> <a id="19810" href="Bracketing.html#18209" class="Bound">r</a> <a id="19812" class="Symbol">(</a><a id="19813" href="Cubical.Core.Primitives.html#549" class="Primitive Operator">~</a> <a id="19815" href="Bracketing.html#19790" class="Bound">j</a><a id="19816" class="Symbol">)))</a> <a id="19820" class="Symbol">(</a><a id="19821" href="Bracketing.html#18214" class="Bound">c</a> <a id="19823" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="19825" href="Bracketing.html#18216" class="Bound">l</a><a id="19826" class="Symbol">)))))</a> <a id="19832" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="19835" href="Cubical.Foundations.Prelude.html#5841" class="Function">transportRefl</a> <a id="19849" class="Symbol">_</a> <a id="19851" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
      <a id="19859" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19863" class="Symbol">(</a><a id="19864" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19868" class="Symbol">(</a><a id="19869" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="19873" class="Symbol">(</a><a id="19874" href="Bracketing.html#16977" class="Function">e</a> <a id="19876" href="Bracketing.html#18202" class="Bound">a</a> <a id="19878" class="Symbol">(</a><a id="19879" href="Cubical.Foundations.Prelude.html#5620" class="Function">transport</a> <a id="19889" class="Symbol">(λ</a> <a id="19892" href="Bracketing.html#19892" class="Bound">j</a> <a id="19894" class="Symbol">→</a> <a id="19896" href="Bracketing.html#13223" class="Function">well-bracketed-chain</a> <a id="19917" class="Symbol">(</a><a id="19918" href="Cubical.HITs.SetQuotients.Base.html#323" class="InductiveConstructor">eq/</a> <a id="19922" href="Bracketing.html#18202" class="Bound">a</a> <a id="19924" href="Bracketing.html#18206" class="Bound">b</a> <a id="19926" href="Bracketing.html#18209" class="Bound">r</a> <a id="19928" class="Symbol">(</a><a id="19929" href="Cubical.Core.Primitives.html#549" class="Primitive Operator">~</a> <a id="19931" href="Bracketing.html#19892" class="Bound">j</a><a id="19932" class="Symbol">)))</a> <a id="19936" href="Bracketing.html#18211" class="Bound">wb</a><a id="19938" class="Symbol">))</a> <a id="19941" class="Symbol">(</a><a id="19942" href="Cubical.Foundations.Prelude.html#5620" class="Function">transport</a> <a id="19952" class="Symbol">(λ</a> <a id="19955" href="Bracketing.html#19955" class="Bound">j</a> <a id="19957" class="Symbol">→</a> <a id="19959" href="Arrows.html#29379" class="Function">chainA</a> <a id="19966" class="Symbol">(</a><a id="19967" href="Cubical.HITs.SetQuotients.Base.html#323" class="InductiveConstructor">eq/</a> <a id="19971" href="Bracketing.html#18202" class="Bound">a</a> <a id="19973" href="Bracketing.html#18206" class="Bound">b</a> <a id="19975" href="Bracketing.html#18209" class="Bound">r</a> <a id="19977" class="Symbol">(</a><a id="19978" href="Cubical.Core.Primitives.html#549" class="Primitive Operator">~</a> <a id="19980" href="Bracketing.html#19955" class="Bound">j</a><a id="19981" class="Symbol">)))</a> <a id="19985" class="Symbol">(</a><a id="19986" href="Bracketing.html#18214" class="Bound">c</a> <a id="19988" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="19990" href="Bracketing.html#18216" class="Bound">l</a><a id="19991" class="Symbol">))))</a> <a id="19996" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="19999" href="Cubical.Foundations.Prelude.html#858" class="Function">refl</a> <a id="20004" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
      <a id="20012" href="Bracketing.html#16977" class="Function">e</a> <a id="20014" href="Bracketing.html#18202" class="Bound">a</a> <a id="20016" class="Symbol">(</a><a id="20017" href="Cubical.Foundations.Prelude.html#5620" class="Function">transport</a> <a id="20027" class="Symbol">(λ</a> <a id="20030" href="Bracketing.html#20030" class="Bound">j</a> <a id="20032" class="Symbol">→</a> <a id="20034" href="Bracketing.html#13223" class="Function">well-bracketed-chain</a> <a id="20055" class="Symbol">(</a><a id="20056" href="Cubical.HITs.SetQuotients.Base.html#323" class="InductiveConstructor">eq/</a> <a id="20060" href="Bracketing.html#18202" class="Bound">a</a> <a id="20062" href="Bracketing.html#18206" class="Bound">b</a> <a id="20064" href="Bracketing.html#18209" class="Bound">r</a> <a id="20066" class="Symbol">(</a><a id="20067" href="Cubical.Core.Primitives.html#549" class="Primitive Operator">~</a> <a id="20069" href="Bracketing.html#20030" class="Bound">j</a><a id="20070" class="Symbol">)))</a> <a id="20074" href="Bracketing.html#18211" class="Bound">wb</a><a id="20076" class="Symbol">)</a> <a id="20078" class="Symbol">.</a><a id="20079" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20083" class="Symbol">(</a><a id="20084" href="Cubical.Foundations.Prelude.html#5620" class="Function">transport</a> <a id="20094" class="Symbol">(λ</a> <a id="20097" href="Bracketing.html#20097" class="Bound">j</a> <a id="20099" class="Symbol">→</a> <a id="20101" href="Arrows.html#29379" class="Function">chainA</a> <a id="20108" class="Symbol">(</a><a id="20109" href="Cubical.HITs.SetQuotients.Base.html#323" class="InductiveConstructor">eq/</a> <a id="20113" href="Bracketing.html#18202" class="Bound">a</a> <a id="20115" href="Bracketing.html#18206" class="Bound">b</a> <a id="20117" href="Bracketing.html#18209" class="Bound">r</a> <a id="20119" class="Symbol">(</a><a id="20120" href="Cubical.Core.Primitives.html#549" class="Primitive Operator">~</a> <a id="20122" href="Bracketing.html#20097" class="Bound">j</a><a id="20123" class="Symbol">)))</a> <a id="20127" class="Symbol">(</a><a id="20128" href="Bracketing.html#18214" class="Bound">c</a> <a id="20130" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20132" href="Bracketing.html#18216" class="Bound">l</a><a id="20133" class="Symbol">))</a> <a id="20136" class="Symbol">.</a><a id="20137" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20141" class="Symbol">.</a><a id="20142" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20146" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="20149" href="Cubical.Foundations.Prelude.html#858" class="Function">refl</a> <a id="20154" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
      <a id="20162" href="Bracketing.html#5662" class="Function">match</a> <a id="20168" class="Symbol">(</a><a id="20169" href="Bracketing.html#15126" class="Function">wb-reachable-arr-matched</a> <a id="20194" class="Symbol">(</a><a id="20195" href="Cubical.Foundations.Prelude.html#5620" class="Function">transport</a> <a id="20205" class="Symbol">(λ</a> <a id="20208" href="Bracketing.html#20208" class="Bound">j</a> <a id="20210" class="Symbol">→</a> <a id="20212" href="Bracketing.html#13223" class="Function">well-bracketed-chain</a> <a id="20233" class="Symbol">(</a><a id="20234" href="Cubical.HITs.SetQuotients.Base.html#323" class="InductiveConstructor">eq/</a> <a id="20238" href="Bracketing.html#18202" class="Bound">a</a> <a id="20240" href="Bracketing.html#18206" class="Bound">b</a> <a id="20242" href="Bracketing.html#18209" class="Bound">r</a> <a id="20244" class="Symbol">(</a><a id="20245" href="Cubical.Core.Primitives.html#549" class="Primitive Operator">~</a> <a id="20247" href="Bracketing.html#20208" class="Bound">j</a><a id="20248" class="Symbol">)))</a> <a id="20252" href="Bracketing.html#18211" class="Bound">wb</a><a id="20254" class="Symbol">)</a> <a id="20256" class="Symbol">(</a><a id="20257" href="Arrows.html#24861" class="Function">element-is-reachable-arr</a> <a id="20282" class="Symbol">(</a><a id="20283" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20287" class="Symbol">((</a><a id="20289" href="Cubical.Foundations.Prelude.html#5620" class="Function">transport</a> <a id="20299" class="Symbol">(λ</a> <a id="20302" href="Bracketing.html#20302" class="Bound">j</a> <a id="20304" class="Symbol">→</a> <a id="20306" href="Arrows.html#29379" class="Function">chainA</a> <a id="20313" class="Symbol">(</a><a id="20314" href="Cubical.HITs.SetQuotients.Base.html#323" class="InductiveConstructor">eq/</a> <a id="20318" href="Bracketing.html#18202" class="Bound">a</a> <a id="20320" href="Bracketing.html#18206" class="Bound">b</a> <a id="20322" href="Bracketing.html#18209" class="Bound">r</a> <a id="20324" class="Symbol">(</a><a id="20325" href="Cubical.Core.Primitives.html#549" class="Primitive Operator">~</a> <a id="20327" href="Bracketing.html#20302" class="Bound">j</a><a id="20328" class="Symbol">)))</a> <a id="20332" class="Symbol">(</a><a id="20333" href="Bracketing.html#18214" class="Bound">c</a> <a id="20335" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20337" href="Bracketing.html#18216" class="Bound">l</a><a id="20338" class="Symbol">))))))</a> <a id="20345" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a>
        <a id="20356" href="Cubical.Foundations.Prelude.html#6151" class="Function">subst</a>
          <a id="20372" class="Symbol">(λ</a> <a id="20375" href="Bracketing.html#20375" class="Bound">X</a> <a id="20377" class="Symbol">→</a> <a id="20379" href="Bracketing.html#20375" class="Bound">X</a> <a id="20381" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="20383" href="Bracketing.html#5662" class="Function">match</a> <a id="20389" class="Symbol">(</a><a id="20390" href="Bracketing.html#15126" class="Function">wb-reachable-arr-matched</a> <a id="20415" href="Bracketing.html#18211" class="Bound">wb</a> <a id="20418" class="Symbol">(</a><a id="20419" href="Arrows.html#24861" class="Function">element-is-reachable-arr</a> <a id="20444" href="Bracketing.html#18214" class="Bound">c</a><a id="20445" class="Symbol">)))</a>
          <a id="20459" href="Bracketing.html#19516" class="Bound">p</a>
          <a id="20471" class="Symbol">(</a><a id="20472" href="Bracketing.html#17446" class="Function">match-indep</a> <a id="20484" href="Bracketing.html#18209" class="Bound">r</a>
            <a id="20498" class="Symbol">(</a><a id="20499" href="Cubical.Foundations.Prelude.html#5620" class="Function">transport</a> <a id="20509" class="Symbol">(λ</a> <a id="20512" href="Bracketing.html#20512" class="Bound">j</a> <a id="20514" class="Symbol">→</a> <a id="20516" href="Bracketing.html#13223" class="Function">well-bracketed-chain</a> <a id="20537" class="Symbol">(</a><a id="20538" href="Cubical.HITs.SetQuotients.Base.html#323" class="InductiveConstructor">eq/</a> <a id="20542" href="Bracketing.html#18202" class="Bound">a</a> <a id="20544" href="Bracketing.html#18206" class="Bound">b</a> <a id="20546" href="Bracketing.html#18209" class="Bound">r</a> <a id="20548" class="Symbol">(</a><a id="20549" href="Cubical.Core.Primitives.html#549" class="Primitive Operator">~</a> <a id="20551" href="Bracketing.html#20512" class="Bound">j</a><a id="20552" class="Symbol">)))</a> <a id="20556" href="Bracketing.html#18211" class="Bound">wb</a><a id="20558" class="Symbol">)</a>
            <a id="20572" class="Symbol">(</a><a id="20573" href="Cubical.Foundations.Prelude.html#6151" class="Function">subst</a> <a id="20579" class="Symbol">(</a><a id="20580" href="Arrows.html#12019" class="Function">is-reachable-arr</a> <a id="20597" href="Bracketing.html#18202" class="Bound">a</a><a id="20598" class="Symbol">)</a> <a id="20600" class="Symbol">(</a><a id="20601" href="Cubical.Foundations.Prelude.html#5841" class="Function">transportRefl</a> <a id="20615" class="Symbol">_)</a> <a id="20618" class="Symbol">(</a><a id="20619" href="Arrows.html#24861" class="Function">element-is-reachable-arr</a> <a id="20644" class="Symbol">(</a><a id="20645" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20649" class="Symbol">((</a><a id="20651" href="Cubical.Foundations.Prelude.html#5620" class="Function">transport</a> <a id="20661" class="Symbol">(λ</a> <a id="20664" href="Bracketing.html#20664" class="Bound">j</a> <a id="20666" class="Symbol">→</a> <a id="20668" href="Arrows.html#29379" class="Function">chainA</a> <a id="20675" class="Symbol">(</a><a id="20676" href="Cubical.HITs.SetQuotients.Base.html#323" class="InductiveConstructor">eq/</a> <a id="20680" href="Bracketing.html#18202" class="Bound">a</a> <a id="20682" href="Bracketing.html#18206" class="Bound">b</a> <a id="20684" href="Bracketing.html#18209" class="Bound">r</a> <a id="20686" class="Symbol">(</a><a id="20687" href="Cubical.Core.Primitives.html#549" class="Primitive Operator">~</a> <a id="20689" href="Bracketing.html#20664" class="Bound">j</a><a id="20690" class="Symbol">)))</a> <a id="20694" class="Symbol">(</a><a id="20695" href="Bracketing.html#18214" class="Bound">c</a> <a id="20697" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20699" href="Bracketing.html#18216" class="Bound">l</a><a id="20700" class="Symbol">))))))</a>
            <a id="20719" href="Bracketing.html#18211" class="Bound">wb</a>
            <a id="20734" class="Symbol">(</a><a id="20735" href="Arrows.html#24861" class="Function">element-is-reachable-arr</a> <a id="20760" href="Bracketing.html#18214" class="Bound">c</a><a id="20761" class="Symbol">))</a>
        <a id="20772" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a> <a id="20774" class="Comment">-- essentially match-indep plus some transportRefl (lots of noise for not much...)</a>
      <a id="20863" href="Bracketing.html#5662" class="Function">match</a> <a id="20869" class="Symbol">(</a><a id="20870" href="Bracketing.html#15126" class="Function">wb-reachable-arr-matched</a> <a id="20895" href="Bracketing.html#18211" class="Bound">wb</a> <a id="20898" class="Symbol">(</a><a id="20899" href="Arrows.html#24861" class="Function">element-is-reachable-arr</a> <a id="20924" href="Bracketing.html#18214" class="Bound">c</a><a id="20925" class="Symbol">))</a> <a id="20928" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">≡⟨</a> <a id="20931" href="Cubical.Foundations.Prelude.html#858" class="Function">refl</a> <a id="20936" href="Cubical.Foundations.Prelude.html#5289" class="Function Operator">⟩</a>
      <a id="20944" href="Bracketing.html#16977" class="Function">e</a> <a id="20946" href="Bracketing.html#18206" class="Bound">b</a> <a id="20948" href="Bracketing.html#18211" class="Bound">wb</a> <a id="20951" class="Symbol">.</a><a id="20952" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20956" class="Symbol">(</a><a id="20957" href="Bracketing.html#18214" class="Bound">c</a> <a id="20959" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20961" href="Bracketing.html#18216" class="Bound">l</a><a id="20962" class="Symbol">)</a> <a id="20964" class="Symbol">.</a><a id="20965" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20969" class="Symbol">.</a><a id="20970" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="20974" href="Cubical.Foundations.Prelude.html#5494" class="Function Operator">∎</a>

</pre></body></html>