<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Cubical.Reflection.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">{-

Some basic utilities for reflection

-}</a>
<a id="45" class="Symbol">{-#</a> <a id="49" class="Keyword">OPTIONS</a> <a id="57" class="Pragma">--no-exact-split</a> <a id="74" class="Pragma">--safe</a> <a id="81" class="Symbol">#-}</a>
<a id="85" class="Keyword">module</a> <a id="92" href="Cubical.Reflection.Base.html" class="Module">Cubical.Reflection.Base</a> <a id="116" class="Keyword">where</a>

<a id="123" class="Keyword">open</a> <a id="128" class="Keyword">import</a> <a id="135" href="Cubical.Foundations.Prelude.html" class="Module">Cubical.Foundations.Prelude</a>
<a id="163" class="Keyword">open</a> <a id="168" class="Keyword">import</a> <a id="175" href="Cubical.Data.List.Base.html" class="Module">Cubical.Data.List.Base</a>
<a id="198" class="Keyword">open</a> <a id="203" class="Keyword">import</a> <a id="210" href="Cubical.Data.Nat.Base.html" class="Module">Cubical.Data.Nat.Base</a>

<a id="233" class="Keyword">import</a> <a id="240" href="Agda.Builtin.Reflection.html" class="Module">Agda.Builtin.Reflection</a> <a id="264" class="Symbol">as</a> <a id="267" class="Module">R</a>
<a id="269" class="Keyword">open</a> <a id="274" class="Keyword">import</a> <a id="281" href="Agda.Builtin.String.html" class="Module">Agda.Builtin.String</a>

<a id="_&gt;&gt;=_"></a><a id="302" href="Cubical.Reflection.Base.html#302" class="Function Operator">_&gt;&gt;=_</a> <a id="308" class="Symbol">=</a> <a id="310" href="Agda.Builtin.Reflection.html#8311" class="Postulate">R.bindTC</a>
<a id="_&lt;|&gt;_"></a><a id="319" href="Cubical.Reflection.Base.html#319" class="Function Operator">_&lt;|&gt;_</a> <a id="325" class="Symbol">=</a> <a id="327" href="Agda.Builtin.Reflection.html#8645" class="Postulate">R.catchTC</a>

<a id="_$_"></a><a id="338" href="Cubical.Reflection.Base.html#338" class="Function Operator">_$_</a> <a id="342" class="Symbol">:</a> <a id="344" class="Symbol">∀</a> <a id="346" class="Symbol">{</a><a id="347" href="Cubical.Reflection.Base.html#347" class="Bound">ℓ</a> <a id="349" href="Cubical.Reflection.Base.html#349" class="Bound">ℓ&#39;</a><a id="351" class="Symbol">}</a> <a id="353" class="Symbol">{</a><a id="354" href="Cubical.Reflection.Base.html#354" class="Bound">A</a> <a id="356" class="Symbol">:</a> <a id="358" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="363" href="Cubical.Reflection.Base.html#347" class="Bound">ℓ</a><a id="364" class="Symbol">}</a> <a id="366" class="Symbol">{</a><a id="367" href="Cubical.Reflection.Base.html#367" class="Bound">B</a> <a id="369" class="Symbol">:</a> <a id="371" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="376" href="Cubical.Reflection.Base.html#349" class="Bound">ℓ&#39;</a><a id="378" class="Symbol">}</a> <a id="380" class="Symbol">→</a> <a id="382" class="Symbol">(</a><a id="383" href="Cubical.Reflection.Base.html#354" class="Bound">A</a> <a id="385" class="Symbol">→</a> <a id="387" href="Cubical.Reflection.Base.html#367" class="Bound">B</a><a id="388" class="Symbol">)</a> <a id="390" class="Symbol">→</a> <a id="392" href="Cubical.Reflection.Base.html#354" class="Bound">A</a> <a id="394" class="Symbol">→</a> <a id="396" href="Cubical.Reflection.Base.html#367" class="Bound">B</a>
<a id="398" href="Cubical.Reflection.Base.html#398" class="Bound">f</a> <a id="400" href="Cubical.Reflection.Base.html#338" class="Function Operator">$</a> <a id="402" href="Cubical.Reflection.Base.html#402" class="Bound">a</a> <a id="404" class="Symbol">=</a> <a id="406" href="Cubical.Reflection.Base.html#398" class="Bound">f</a> <a id="408" href="Cubical.Reflection.Base.html#402" class="Bound">a</a>

<a id="_&gt;&gt;_"></a><a id="411" href="Cubical.Reflection.Base.html#411" class="Function Operator">_&gt;&gt;_</a> <a id="416" class="Symbol">:</a> <a id="418" class="Symbol">∀</a> <a id="420" class="Symbol">{</a><a id="421" href="Cubical.Reflection.Base.html#421" class="Bound">ℓ</a> <a id="423" href="Cubical.Reflection.Base.html#423" class="Bound">ℓ&#39;</a><a id="425" class="Symbol">}</a> <a id="427" class="Symbol">{</a><a id="428" href="Cubical.Reflection.Base.html#428" class="Bound">A</a> <a id="430" class="Symbol">:</a> <a id="432" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="437" href="Cubical.Reflection.Base.html#421" class="Bound">ℓ</a><a id="438" class="Symbol">}</a> <a id="440" class="Symbol">{</a><a id="441" href="Cubical.Reflection.Base.html#441" class="Bound">B</a> <a id="443" class="Symbol">:</a> <a id="445" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="450" href="Cubical.Reflection.Base.html#423" class="Bound">ℓ&#39;</a><a id="452" class="Symbol">}</a> <a id="454" class="Symbol">→</a> <a id="456" href="Agda.Builtin.Reflection.html#8218" class="Postulate">R.TC</a> <a id="461" href="Cubical.Reflection.Base.html#428" class="Bound">A</a> <a id="463" class="Symbol">→</a> <a id="465" href="Agda.Builtin.Reflection.html#8218" class="Postulate">R.TC</a> <a id="470" href="Cubical.Reflection.Base.html#441" class="Bound">B</a> <a id="472" class="Symbol">→</a> <a id="474" href="Agda.Builtin.Reflection.html#8218" class="Postulate">R.TC</a> <a id="479" href="Cubical.Reflection.Base.html#441" class="Bound">B</a>
<a id="481" href="Cubical.Reflection.Base.html#481" class="Bound">f</a> <a id="483" href="Cubical.Reflection.Base.html#411" class="Function Operator">&gt;&gt;</a> <a id="486" href="Cubical.Reflection.Base.html#486" class="Bound">g</a> <a id="488" class="Symbol">=</a> <a id="490" href="Cubical.Reflection.Base.html#481" class="Bound">f</a> <a id="492" href="Cubical.Reflection.Base.html#302" class="Function Operator">&gt;&gt;=</a> <a id="496" class="Symbol">λ</a> <a id="498" href="Cubical.Reflection.Base.html#498" class="Bound">_</a> <a id="500" class="Symbol">→</a> <a id="502" href="Cubical.Reflection.Base.html#486" class="Bound">g</a>

<a id="505" class="Keyword">infixl</a> <a id="512" class="Number">4</a> <a id="514" href="Cubical.Reflection.Base.html#302" class="Function Operator">_&gt;&gt;=_</a> <a id="520" href="Cubical.Reflection.Base.html#411" class="Function Operator">_&gt;&gt;_</a> <a id="525" href="Cubical.Reflection.Base.html#319" class="Function Operator">_&lt;|&gt;_</a>
<a id="531" class="Keyword">infixr</a> <a id="538" class="Number">3</a> <a id="540" href="Cubical.Reflection.Base.html#338" class="Function Operator">_$_</a>

<a id="liftTC"></a><a id="545" href="Cubical.Reflection.Base.html#545" class="Function">liftTC</a> <a id="552" class="Symbol">:</a> <a id="554" class="Symbol">∀</a> <a id="556" class="Symbol">{</a><a id="557" href="Cubical.Reflection.Base.html#557" class="Bound">ℓ</a> <a id="559" href="Cubical.Reflection.Base.html#559" class="Bound">ℓ&#39;</a><a id="561" class="Symbol">}</a> <a id="563" class="Symbol">{</a><a id="564" href="Cubical.Reflection.Base.html#564" class="Bound">A</a> <a id="566" class="Symbol">:</a> <a id="568" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="573" href="Cubical.Reflection.Base.html#557" class="Bound">ℓ</a><a id="574" class="Symbol">}</a> <a id="576" class="Symbol">{</a><a id="577" href="Cubical.Reflection.Base.html#577" class="Bound">B</a> <a id="579" class="Symbol">:</a> <a id="581" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="586" href="Cubical.Reflection.Base.html#559" class="Bound">ℓ&#39;</a><a id="588" class="Symbol">}</a> <a id="590" class="Symbol">→</a> <a id="592" class="Symbol">(</a><a id="593" href="Cubical.Reflection.Base.html#564" class="Bound">A</a> <a id="595" class="Symbol">→</a> <a id="597" href="Cubical.Reflection.Base.html#577" class="Bound">B</a><a id="598" class="Symbol">)</a> <a id="600" class="Symbol">→</a> <a id="602" href="Agda.Builtin.Reflection.html#8218" class="Postulate">R.TC</a> <a id="607" href="Cubical.Reflection.Base.html#564" class="Bound">A</a> <a id="609" class="Symbol">→</a> <a id="611" href="Agda.Builtin.Reflection.html#8218" class="Postulate">R.TC</a> <a id="616" href="Cubical.Reflection.Base.html#577" class="Bound">B</a>
<a id="618" href="Cubical.Reflection.Base.html#545" class="Function">liftTC</a> <a id="625" href="Cubical.Reflection.Base.html#625" class="Bound">f</a> <a id="627" href="Cubical.Reflection.Base.html#627" class="Bound">ta</a> <a id="630" class="Symbol">=</a> <a id="632" href="Cubical.Reflection.Base.html#627" class="Bound">ta</a> <a id="635" href="Cubical.Reflection.Base.html#302" class="Function Operator">&gt;&gt;=</a> <a id="639" class="Symbol">λ</a> <a id="641" href="Cubical.Reflection.Base.html#641" class="Bound">a</a> <a id="643" class="Symbol">→</a> <a id="645" href="Agda.Builtin.Reflection.html#8261" class="Postulate">R.returnTC</a> <a id="656" class="Symbol">(</a><a id="657" href="Cubical.Reflection.Base.html#625" class="Bound">f</a> <a id="659" href="Cubical.Reflection.Base.html#641" class="Bound">a</a><a id="660" class="Symbol">)</a>

<a id="v"></a><a id="663" href="Cubical.Reflection.Base.html#663" class="Function">v</a> <a id="665" class="Symbol">:</a> <a id="667" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="669" class="Symbol">→</a> <a id="671" href="Agda.Builtin.Reflection.html#4688" class="Datatype">R.Term</a>
<a id="678" href="Cubical.Reflection.Base.html#663" class="Function">v</a> <a id="680" href="Cubical.Reflection.Base.html#680" class="Bound">n</a> <a id="682" class="Symbol">=</a> <a id="684" href="Agda.Builtin.Reflection.html#4790" class="InductiveConstructor">R.var</a> <a id="690" href="Cubical.Reflection.Base.html#680" class="Bound">n</a> <a id="692" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>

<a id="696" class="Keyword">pattern</a> <a id="varg"></a><a id="704" href="Cubical.Reflection.Base.html#704" class="InductiveConstructor">varg</a> <a id="709" href="Cubical.Reflection.Base.html#779" class="Bound">t</a> <a id="711" class="Symbol">=</a> <a id="713" href="Agda.Builtin.Reflection.html#3733" class="InductiveConstructor">R.arg</a> <a id="719" class="Symbol">(</a><a id="720" href="Agda.Builtin.Reflection.html#3638" class="InductiveConstructor">R.arg-info</a> <a id="731" href="Agda.Builtin.Reflection.html#2763" class="InductiveConstructor">R.visible</a> <a id="741" class="Symbol">(</a><a id="742" href="Agda.Builtin.Reflection.html#3464" class="InductiveConstructor">R.modality</a> <a id="753" href="Agda.Builtin.Reflection.html#3020" class="InductiveConstructor">R.relevant</a> <a id="764" href="Agda.Builtin.Reflection.html#3242" class="InductiveConstructor">R.quantity-ω</a><a id="776" class="Symbol">))</a> <a id="779" href="Cubical.Reflection.Base.html#779" class="Bound">t</a>
<a id="781" class="Keyword">pattern</a> <a id="harg"></a><a id="789" href="Cubical.Reflection.Base.html#789" class="InductiveConstructor">harg</a> <a id="794" class="Symbol">{</a>q <a id="797" class="Symbol">=</a> <a id="799" href="Cubical.Reflection.Base.html#856" class="Bound">q</a><a id="800" class="Symbol">}</a> <a id="802" href="Cubical.Reflection.Base.html#860" class="Bound">t</a> <a id="804" class="Symbol">=</a> <a id="806" href="Agda.Builtin.Reflection.html#3733" class="InductiveConstructor">R.arg</a> <a id="812" class="Symbol">(</a><a id="813" href="Agda.Builtin.Reflection.html#3638" class="InductiveConstructor">R.arg-info</a> <a id="824" href="Agda.Builtin.Reflection.html#2771" class="InductiveConstructor">R.hidden</a> <a id="833" class="Symbol">(</a><a id="834" href="Agda.Builtin.Reflection.html#3464" class="InductiveConstructor">R.modality</a> <a id="845" href="Agda.Builtin.Reflection.html#3020" class="InductiveConstructor">R.relevant</a> <a id="856" href="Cubical.Reflection.Base.html#856" class="Bound">q</a><a id="857" class="Symbol">))</a> <a id="860" href="Cubical.Reflection.Base.html#860" class="Bound">t</a>
<a id="862" class="Keyword">pattern</a> <a id="_v∷_"></a><a id="870" href="Cubical.Reflection.Base.html#870" class="InductiveConstructor Operator">_v∷_</a> <a id="875" href="Cubical.Reflection.Base.html#886" class="Bound">a</a> <a id="877" href="Cubical.Reflection.Base.html#890" class="Bound">l</a> <a id="879" class="Symbol">=</a> <a id="881" href="Cubical.Reflection.Base.html#704" class="InductiveConstructor">varg</a> <a id="886" href="Cubical.Reflection.Base.html#886" class="Bound">a</a> <a id="888" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="890" href="Cubical.Reflection.Base.html#890" class="Bound">l</a>
<a id="892" class="Keyword">pattern</a> <a id="_h∷_"></a><a id="900" href="Cubical.Reflection.Base.html#900" class="InductiveConstructor Operator">_h∷_</a> <a id="905" href="Cubical.Reflection.Base.html#916" class="Bound">a</a> <a id="907" href="Cubical.Reflection.Base.html#920" class="Bound">l</a> <a id="909" class="Symbol">=</a> <a id="911" href="Cubical.Reflection.Base.html#789" class="InductiveConstructor">harg</a> <a id="916" href="Cubical.Reflection.Base.html#916" class="Bound">a</a> <a id="918" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="920" href="Cubical.Reflection.Base.html#920" class="Bound">l</a>

<a id="923" class="Keyword">infixr</a> <a id="930" class="Number">5</a> <a id="932" href="Cubical.Reflection.Base.html#870" class="InductiveConstructor Operator">_v∷_</a> <a id="937" href="Cubical.Reflection.Base.html#900" class="InductiveConstructor Operator">_h∷_</a>

<a id="vlam"></a><a id="943" href="Cubical.Reflection.Base.html#943" class="Function">vlam</a> <a id="948" class="Symbol">:</a> <a id="950" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="957" class="Symbol">→</a> <a id="959" href="Agda.Builtin.Reflection.html#4688" class="Datatype">R.Term</a> <a id="966" class="Symbol">→</a> <a id="968" href="Agda.Builtin.Reflection.html#4688" class="Datatype">R.Term</a>
<a id="975" href="Cubical.Reflection.Base.html#943" class="Function">vlam</a> <a id="980" href="Cubical.Reflection.Base.html#980" class="Bound">str</a> <a id="984" href="Cubical.Reflection.Base.html#984" class="Bound">t</a> <a id="986" class="Symbol">=</a> <a id="988" href="Agda.Builtin.Reflection.html#4960" class="InductiveConstructor">R.lam</a> <a id="994" href="Agda.Builtin.Reflection.html#2763" class="InductiveConstructor">R.visible</a> <a id="1004" class="Symbol">(</a><a id="1005" href="Agda.Builtin.Reflection.html#3980" class="InductiveConstructor">R.abs</a> <a id="1011" href="Cubical.Reflection.Base.html#980" class="Bound">str</a> <a id="1015" href="Cubical.Reflection.Base.html#984" class="Bound">t</a><a id="1016" class="Symbol">)</a>

<a id="hlam"></a><a id="1019" href="Cubical.Reflection.Base.html#1019" class="Function">hlam</a> <a id="1024" class="Symbol">:</a> <a id="1026" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="1033" class="Symbol">→</a> <a id="1035" href="Agda.Builtin.Reflection.html#4688" class="Datatype">R.Term</a> <a id="1042" class="Symbol">→</a> <a id="1044" href="Agda.Builtin.Reflection.html#4688" class="Datatype">R.Term</a>
<a id="1051" href="Cubical.Reflection.Base.html#1019" class="Function">hlam</a> <a id="1056" href="Cubical.Reflection.Base.html#1056" class="Bound">str</a> <a id="1060" href="Cubical.Reflection.Base.html#1060" class="Bound">t</a> <a id="1062" class="Symbol">=</a> <a id="1064" href="Agda.Builtin.Reflection.html#4960" class="InductiveConstructor">R.lam</a> <a id="1070" href="Agda.Builtin.Reflection.html#2771" class="InductiveConstructor">R.hidden</a> <a id="1079" class="Symbol">(</a><a id="1080" href="Agda.Builtin.Reflection.html#3980" class="InductiveConstructor">R.abs</a> <a id="1086" href="Cubical.Reflection.Base.html#1056" class="Bound">str</a> <a id="1090" href="Cubical.Reflection.Base.html#1060" class="Bound">t</a><a id="1091" class="Symbol">)</a>

<a id="newMeta"></a><a id="1094" href="Cubical.Reflection.Base.html#1094" class="Function">newMeta</a> <a id="1102" class="Symbol">=</a> <a id="1104" href="Agda.Builtin.Reflection.html#8530" class="Postulate">R.checkType</a> <a id="1116" href="Agda.Builtin.Reflection.html#5246" class="InductiveConstructor">R.unknown</a>

<a id="makeAuxiliaryDef"></a><a id="1127" href="Cubical.Reflection.Base.html#1127" class="Function">makeAuxiliaryDef</a> <a id="1144" class="Symbol">:</a> <a id="1146" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="1153" class="Symbol">→</a> <a id="1155" href="Agda.Builtin.Reflection.html#4759" class="Function">R.Type</a> <a id="1162" class="Symbol">→</a> <a id="1164" href="Agda.Builtin.Reflection.html#4688" class="Datatype">R.Term</a> <a id="1171" class="Symbol">→</a> <a id="1173" href="Agda.Builtin.Reflection.html#8218" class="Postulate">R.TC</a> <a id="1178" href="Agda.Builtin.Reflection.html#4688" class="Datatype">R.Term</a>
<a id="1185" href="Cubical.Reflection.Base.html#1127" class="Function">makeAuxiliaryDef</a> <a id="1202" href="Cubical.Reflection.Base.html#1202" class="Bound">s</a> <a id="1204" href="Cubical.Reflection.Base.html#1204" class="Bound">ty</a> <a id="1207" href="Cubical.Reflection.Base.html#1207" class="Bound">term</a> <a id="1212" class="Symbol">=</a>
  <a id="1216" href="Agda.Builtin.Reflection.html#9036" class="Postulate">R.freshName</a> <a id="1228" href="Cubical.Reflection.Base.html#1202" class="Bound">s</a> <a id="1230" href="Cubical.Reflection.Base.html#302" class="Function Operator">&gt;&gt;=</a> <a id="1234" class="Symbol">λ</a> <a id="1236" href="Cubical.Reflection.Base.html#1236" class="Bound">name</a> <a id="1241" class="Symbol">→</a>
  <a id="1245" href="Agda.Builtin.Reflection.html#9074" class="Postulate">R.declareDef</a> <a id="1258" class="Symbol">(</a><a id="1259" href="Cubical.Reflection.Base.html#704" class="InductiveConstructor">varg</a> <a id="1264" href="Cubical.Reflection.Base.html#1236" class="Bound">name</a><a id="1268" class="Symbol">)</a> <a id="1270" href="Cubical.Reflection.Base.html#1204" class="Bound">ty</a> <a id="1273" href="Cubical.Reflection.Base.html#411" class="Function Operator">&gt;&gt;</a>
  <a id="1278" href="Agda.Builtin.Reflection.html#9162" class="Postulate">R.defineFun</a> <a id="1290" href="Cubical.Reflection.Base.html#1236" class="Bound">name</a> <a id="1295" href="Cubical.Data.List.Base.html#282" class="Function Operator">[</a> <a id="1297" href="Agda.Builtin.Reflection.html#5758" class="InductiveConstructor">R.clause</a> <a id="1306" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="1309" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="1312" href="Cubical.Reflection.Base.html#1207" class="Bound">term</a> <a id="1317" href="Cubical.Data.List.Base.html#282" class="Function Operator">]</a> <a id="1319" href="Cubical.Reflection.Base.html#411" class="Function Operator">&gt;&gt;</a>
  <a id="1324" href="Agda.Builtin.Reflection.html#8261" class="Postulate">R.returnTC</a> <a id="1335" class="Symbol">(</a><a id="1336" href="Agda.Builtin.Reflection.html#4903" class="InductiveConstructor">R.def</a> <a id="1342" href="Cubical.Reflection.Base.html#1236" class="Bound">name</a> <a id="1347" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1349" class="Symbol">)</a>

</pre></body></html>